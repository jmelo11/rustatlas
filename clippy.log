    Checking rustatlas v0.1.0 (/Users/josemelo/Desktop/dev/libs/rustatlas)
error: this function has too many arguments (9/7)
  --> src/alm/positiongenerator.rs:53:5
   |
53 | /     pub const fn new(
54 | |         weight: f64,
55 | |         structure: Structure,
56 | |         payment_frequency: Frequency,
...  |
62 | |         forecast_curve_id: Option<usize>,
63 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments
   = note: `-D clippy::too-many-arguments` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::too_many_arguments)]`

error: this could be a `const fn`
   --> src/cashflows/cashflow.rs:100:5
    |
100 | /     pub fn set_forecast_curve_id(&mut self, id: usize) {
101 | |         if let Self::FloatingRateCoupon(coupon) = self {
102 | |             coupon.set_forecast_curve_id(id);
103 | |         }
104 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
    = note: `-D clippy::missing-const-for-fn` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::missing_const_for_fn)]`
help: make the function `const`
    |
100 |     pub const fn set_forecast_curve_id(&mut self, id: usize) {
    |         +++++

error: this could be a `const fn`
  --> src/cashflows/fixedratecoupon.rs:71:5
   |
71 | /     pub fn with_discount_curve_id(mut self, id: usize) -> Self {
72 | |         self.cashflow.set_discount_curve_id(id);
73 | |         self
74 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
71 |     pub const fn with_discount_curve_id(mut self, id: usize) -> Self {
   |         +++++

error: this could be a `const fn`
  --> src/cashflows/fixedratecoupon.rs:77:5
   |
77 | /     pub fn set_discount_curve_id(&mut self, id: usize) {
78 | |         self.cashflow.set_discount_curve_id(id);
79 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
77 |     pub const fn set_discount_curve_id(&mut self, id: usize) {
   |         +++++

error: this could be a `const fn`
  --> src/cashflows/floatingratecoupon.rs:51:5
   |
51 | /     pub fn new(
52 | |         notional: f64,
53 | |         spread: f64,
54 | |         accrual_start_date: Date,
...  |
73 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
51 |     pub const fn new(
   |         +++++

error: this function has too many arguments (9/7)
  --> src/cashflows/floatingratecoupon.rs:51:5
   |
51 | /     pub fn new(
52 | |         notional: f64,
53 | |         spread: f64,
54 | |         accrual_start_date: Date,
...  |
60 | |         side: Side,
61 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this could be a `const fn`
  --> src/cashflows/floatingratecoupon.rs:90:5
   |
90 | /     pub fn set_discount_curve_id(&mut self, id: usize) {
91 | |         self.cashflow.set_discount_curve_id(id);
92 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
90 |     pub const fn set_discount_curve_id(&mut self, id: usize) {
   |         +++++

error: used `unwrap()` on a `Result` value
   --> src/cashflows/floatingratecoupon.rs:173:23
    |
173 |           let accrual = self
    |  _______________________^
174 | |             .accrued_amount(self.accrual_start_date, self.accrual_end_date)
175 | |             .unwrap();
    | |_____________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used
    = note: requested on the command line with `-D clippy::unwrap-used`

error: use Option::map_or_else instead of an if let/else
   --> src/core/marketstore.rs:181:27
    |
181 |               indice_name = match indice.read_index() {
    |  ___________________________^
182 | |                 Ok(indice) => indice.name().unwrap_or_default(),
183 | |                 Err(_) => String::new(),
184 | |             };
    | |_____________^ help: try: `indice.read_index().map_or_else(|_| String::new(), |indice| indice.name().unwrap_or_default())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
    = note: `-D clippy::option-if-let-else` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::option_if_let_else)]`

error: redundant closure
   --> src/core/marketstore.rs:198:47
    |
198 |                     .map_or_else(String::new, |idx| idx.to_string());
    |                                               ^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::string::ToString::to_string`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls
    = note: `-D clippy::redundant-closure-for-method-calls` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::redundant_closure_for_method_calls)]`

error: temporary with significant `Drop` can be early dropped
   --> src/currencies/exchangeratestore.rs:84:17
    |
 69 |       pub fn get_exchange_rate(&self, first_ccy: Currency, second_ccy: Currency) -> Result<f64> {
    |  _______________________________________________________________________________________________-
 70 | |         if first_ccy == second_ccy {
 71 | |             return Ok(1.0);
...   |
 84 | |         let mut mutable_cache = self.exchange_rate_cache.lock().unwrap();
    | |                 ^^^^^^^^^^^^^
...   |
110 | |         )))
111 | |     }
    | |_____- temporary `mutable_cache` is currently being dropped at the end of its contained scope
    |
    = note: this might lead to unnecessary resource contention
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening
    = note: `-D clippy::significant-drop-tightening` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::significant_drop_tightening)]`
help: drop the temporary after the end of its last usage
    |
100 ~                         mutable_cache.insert((second_ccy, first_ccy), 1.0 / new_rate);
101 +                         drop(mutable_cache);
    |

error: used `unwrap()` on a `Result` value
  --> src/currencies/exchangeratestore.rs:75:36
   |
75 |         if let Some(cached_rate) = self.exchange_rate_cache.lock().unwrap().get(&cache_key) {
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
  --> src/currencies/exchangeratestore.rs:84:33
   |
84 |         let mut mutable_cache = self.exchange_rate_cache.lock().unwrap();
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/currencies/exchangeratestore.rs:132:35
    |
132 |         for ((ccy1, ccy2), fx) in self.exchange_rate_map.iter() {
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.exchange_rate_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop
    = note: `-D clippy::explicit-iter-loop` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::explicit_iter_loop)]`

error: this function has too many arguments (18/7)
  --> src/instruments/doublerateinstrument.rs:47:5
   |
47 | /     pub fn new(
48 | |         start_date: Date,
49 | |         end_date: Date,
50 | |         notional: f64,
...  |
65 | |         cashflows: Vec<Cashflow>,
66 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: struct constructor field order is inconsistent with struct definition field order
  --> src/instruments/doublerateinstrument.rs:68:13
   |
68 | /             start_date,
69 | |             end_date,
70 | |             notional,
71 | |             notional_at_change_rate,
...  |
84 | |             discount_curve_id,
85 | |             cashflows,
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#inconsistent_struct_constructor
   = note: `-D clippy::inconsistent-struct-constructor` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::inconsistent_struct_constructor)]`
help: try
   |
68 ~             start_date,
69 +             end_date,
70 +             notional,
71 +             notional_at_change_rate,
72 +             payment_frequency,
73 +             rate_type,
74 +             side,
75 +             currency,
76 +             id,
77 +             issue_date,
78 +             change_rate_date,
79 +             first_rate_definition,
80 +             first_rate,
81 +             second_rate_definition,
82 +             second_rate,
83 +             forecast_curve_id,
84 +             discount_curve_id,
85 ~             cashflows,
   |

error: this function has too many arguments (13/7)
  --> src/instruments/fixedrateinstrument.rs:48:5
   |
48 | /     pub fn new(
49 | |         start_date: Date,
50 | |         end_date: Date,
51 | |         notional: f64,
...  |
61 | |         yield_rate: Option<InterestRate>,
62 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: doc comment uses two spaces for a hard line break
   --> src/instruments/fixedrateinstrument.rs:171:59
    |
171 | /// Implements fixed rate bond accrual using a yield rate.  
    |                                                           ^^
    |
    = help: replace this double space with a backslash: `\`
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_comment_double_space_linebreaks
    = note: `-D clippy::doc-comment-double-space-linebreaks` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::doc_comment_double_space_linebreaks)]`

error: needless use of `for_each`
   --> src/instruments/fixedrateinstrument.rs:211:9
    |
211 | /         cashflows.iter().for_each(|cf| {
212 | |             //amount += cf.amount().unwrap() / rate.discount_factor(cf.payment_date(), to);
213 | |             amount += cf.amount().unwrap();
214 | |         });
    | |___________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
    = note: `-D clippy::needless-for-each` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_for_each)]`
help: try
    |
211 ~         for cf in cashflows.iter() {
212 +             //amount += cf.amount().unwrap() / rate.discount_factor(cf.payment_date(), to);
213 +             amount += cf.amount().unwrap();
214 +         }
    |

error: used `unwrap()` on a `Result` value
   --> src/instruments/fixedrateinstrument.rs:213:23
    |
213 |             amount += cf.amount().unwrap();
    |                       ^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/fixedrateinstrument.rs:232:27
    |
232 |                 let npv = cf.amount().unwrap()
    |                           ^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many arguments (14/7)
  --> src/instruments/floatingrateinstrument.rs:53:5
   |
53 | /     pub fn new(
54 | |         start_date: Date,
55 | |         end_date: Date,
56 | |         notional: f64,
...  |
67 | |         issue_date: Option<Date>,
68 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: needless use of `for_each`
   --> src/alm/cashaccount.rs:192:9
    |
192 | /         cash_account.iter().for_each(|(date, amount)| {
193 | |             println!("{date}: {amount}");
194 | |         });
    | |___________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
    = note: `-D clippy::needless-for-each` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_for_each)]`
help: try
    |
192 ~         for (date, amount) in cash_account.iter() {
193 +             println!("{date}: {amount}");
194 +         }
    |

error: needless use of `for_each`
   --> src/alm/cashaccount.rs:251:9
    |
251 | /         cash_account.iter().for_each(|(date, amount)| {
252 | |             println!("{}: {}", date, amount);
253 | |         });
    | |___________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
251 ~         for (date, amount) in cash_account.iter() {
252 +             println!("{}: {}", date, amount);
253 +         }
    |

error: variables can be used directly in the `format!` string
   --> src/alm/cashaccount.rs:252:13
    |
252 |             println!("{}: {}", date, amount);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
    = note: `-D clippy::uninlined-format-args` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::uninlined_format_args)]`
help: change this to
    |
252 -             println!("{}: {}", date, amount);
252 +             println!("{date}: {amount}");
    |

error: this function has too many arguments (17/7)
  --> src/instruments/hybridrateinstrument.rs:40:5
   |
40 | /     pub fn new(
41 | |         start_date: Date,
42 | |         end_date: Date,
43 | |         notional: f64,
...  |
57 | |         cashflows: Vec<Cashflow>,
58 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: struct constructor field order is inconsistent with struct definition field order
  --> src/instruments/hybridrateinstrument.rs:60:13
   |
60 | /             start_date,
61 | |             end_date,
62 | |             notional,
63 | |             payment_frequency,
...  |
75 | |             discount_curve_id,
76 | |             cashflows,
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#inconsistent_struct_constructor
help: try
   |
60 ~             start_date,
61 +             end_date,
62 +             notional,
63 +             payment_frequency,
64 +             structure,
65 +             rate_type,
66 +             side,
67 +             currency,
68 +             id,
69 +             issue_date,
70 +             first_rate_definition,
71 +             first_rate,
72 +             second_rate_definition,
73 +             second_rate,
74 +             forecast_curve_id,
75 +             discount_curve_id,
76 ~             cashflows,
   |

error: use Option::map_or_else instead of an if let/else
   --> src/instruments/hybridrateinstrument.rs:187:9
    |
187 | /         match self.currency {
188 | |             Some(currency) => Ok(currency),
189 | |             None => Err(AtlasError::NotFoundErr("Currency not found".to_string())),
190 | |         }
    | |_________^ help: try: `self.currency.map_or_else(|| Err(AtlasError::NotFoundErr("Currency not found".to_string())), |currency| Ok(currency))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/instrument.rs:154:13
    |
154 |             _ => todo!(),
    |             ^ help: try: `Self::DoubleRateInstrument(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants
    = note: `-D clippy::match-wildcard-for-single-variants` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::match_wildcard_for_single_variants)]`

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/instrument.rs:262:13
    |
262 |             _ => {}
    |             ^ help: try: `Self::FixedRateInstrument(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: this function has too many arguments (9/7)
  --> src/instruments/leg.rs:28:5
   |
28 | /     pub fn new(
29 | |         structure: Structure,
30 | |         rate_type: RateType,
31 | |         rate_value: f64,
...  |
37 | |         cashflows: Vec<Cashflow>,
38 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function's return value is unnecessarily wrapped by `Result`
   --> src/alm/rolloversimulationengine.rs:238:5
    |
238 |     pub fn get_outstandings_at_date(instruments: &[Instrument], eval_date: Date) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
    = note: `-D clippy::unnecessary-wraps` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::unnecessary_wraps)]`
help: remove `Result` from the return type...
    |
238 -     pub fn get_outstandings_at_date(instruments: &[Instrument], eval_date: Date) -> Result<f64> {
238 +     pub fn get_outstandings_at_date(instruments: &[Instrument], eval_date: Date) -> f64 {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
255 -         Ok(outstanding)
255 +         outstanding
    |

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:247:42
    |
247 | ...                   local_sum += f.amount().unwrap() * f.side().sign();
    |                                    ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used
    = note: requested on the command line with `-D clippy::unwrap-used`

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:338:28
    |
338 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:389:9
    |
389 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: `-D clippy::float-cmp` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::float_cmp)]`
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:393:9
    |
393 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:399:28
    |
399 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:451:9
    |
451 |         assert_eq!(outstanding, -1980.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:457:28
    |
457 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:510:9
    |
510 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:515:9
    |
515 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:521:28
    |
521 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:576:17
    |
576 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops
    = note: `-D clippy::suboptimal-flops` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::suboptimal_flops)]`

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:576:41
    |
576 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:581:17
    |
581 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:581:41
    |
581 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:587:28
    |
587 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:642:17
    |
642 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:642:41
    |
642 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:647:17
    |
647 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:647:41
    |
647 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: used `unwrap()` on a `Result` value
   --> src/cashflows/cashflow.rs:298:26
    |
298 |         let serialized = serde_json::to_string(&cashflow).unwrap();
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/cashflows/cashflow.rs:301:38
    |
301 |         let deserialized: Cashflow = serde_json::from_str(&serialized).unwrap();
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many lines (220/100)
   --> src/instruments/loandepo.rs:151:5
    |
151 |     fn try_from(value: LoanDepo) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines
    = note: `-D clippy::too-many-lines` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::too_many_lines)]`

error: item in documentation is missing backticks
  --> src/instruments/makedoublerateinstrument.rs:63:35
   |
63 |     /// Creates a new instance of MakeDoubleRateInstrument with default values.
   |                                   ^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
   = note: `-D clippy::doc-markdown` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::doc_markdown)]`
help: try
   |
63 -     /// Creates a new instance of MakeDoubleRateInstrument with default values.
63 +     /// Creates a new instance of `MakeDoubleRateInstrument` with default values.
   |

error: used `unwrap()` on a `Result` value
   --> src/cashflows/fixedratecoupon.rs:267:13
    |
267 | /             coupon
268 | |                 .accrued_amount(accrual_start_date, accrual_end_date)
269 | |                 .unwrap(),
    | |_________________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/cashflows/fixedratecoupon.rs:266:9
    |
266 | /         assert_eq!(
267 | |             coupon
268 | |                 .accrued_amount(accrual_start_date, accrual_end_date)
269 | |                 .unwrap(),
270 | |             expected_amount
271 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/cashflows/fixedratecoupon.rs:303:30
    |
303 |         let accrued_amount = coupon.accrued_amount(star_date, end_date).unwrap();
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many lines (247/100)
   --> src/instruments/makedoublerateinstrument.rs:275:5
    |
275 |     pub fn build(self) -> Result<DoubleRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makedoublerateinstrument.rs:322:24
    |
322 |           let end_date = match self.end_date {
    |  ________________________^
323 | |             Some(date) => date,
324 | |             None => {
325 | |                 let tenor = self.tenor.ok_or(AtlasError::ValueNotSetErr(
...   |
330 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
    = note: `-D clippy::single-match-else` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::single_match_else)]`
help: try
    |
322 ~         let end_date = if let Some(date) = self.end_date { date } else {
323 +             let tenor = self.tenor.ok_or(AtlasError::ValueNotSetErr(
324 +                 "Tenor or end date is required".into(),
325 +             ))?;
326 +             start_date + tenor
327 ~         };
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makedoublerateinstrument.rs:333:32
    |
333 |           let change_rate_date = match self.change_rate_date {
    |  ________________________________^
334 | |             Some(date) => date,
335 | |             None => {
336 | |                 let tenor_change_rate =
...   |
342 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
333 ~         let change_rate_date = if let Some(date) = self.change_rate_date { date } else {
334 +             let tenor_change_rate =
335 +                 self.tenor_change_rate.ok_or(AtlasError::ValueNotSetErr(
336 +                     "Tenor change rate or change rate date is required".into(),
337 +                 ))?;
338 +             start_date + tenor_change_rate
339 ~         };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makedoublerateinstrument.rs:427:22
    |
427 |             acc.push(acc.last().unwrap() - x);
    |                      ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:436:14
    |
436 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied
    = note: `-D clippy::cloned-instead-of-copied` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cloned_instead_of_copied)]`

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:441:14
    |
441 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `unwrap()` on an `Option` value
   --> src/instruments/makedoublerateinstrument.rs:483:32
    |
483 |         let first_date = vec![*dates.first().unwrap()];
    |                                ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:498:57
    |
498 |         let aux_dates: Vec<Date> = dates.iter().skip(1).cloned().collect();
    |                                                         ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makedoublerateinstrument.rs:533:13
    |
533 | /             cashflows
534 | |                 .iter_mut()
535 | |                 .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
    = note: `-D clippy::semicolon-if-nothing-returned` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::semicolon_if_nothing_returned)]`
help: add a `;` here
    |
533 |             cashflows
534 |                 .iter_mut()
535 ~                 .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makedoublerateinstrument.rs:539:13
    |
539 | /             cashflows
540 | |                 .iter_mut()
541 | |                 .for_each(|cf| cf.set_forecast_curve_id(id))
    | |____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
539 |             cashflows
540 |                 .iter_mut()
541 ~                 .for_each(|cf| cf.set_forecast_curve_id(id));
    |

error: this function has too many arguments (12/7)
   --> src/instruments/makedoublerateinstrument.rs:567:1
    |
567 | / fn build_coupons_from_notionals(
568 | |     cashflows: &mut Vec<Cashflow>,
569 | |     rate_type: RateType,
570 | |     dates_first_part: &[Date],
...   |
579 | |     currency: Currency,
580 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makedoublerateinstrument.rs:682:12
    |
682 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
    = note: `-D clippy::needless-pass-by-value` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_pass_by_value)]`
help: consider changing the type to
    |
682 -     dates: Vec<Date>,
682 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
687 -         dates: dates.clone(),
687 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makedoublerateinstrument.rs:693:28
    |
693 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss
    = note: `-D clippy::cast-precision-loss` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_precision_loss)]`

error: used `unwrap()` on a `Result` value
   --> src/cashflows/floatingratecoupon.rs:173:23
    |
173 |           let accrual = self
    |  _______________________^
174 | |             .accrued_amount(self.accrual_start_date, self.accrual_end_date)
175 | |             .unwrap();
    | |_____________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: item in documentation is missing backticks
  --> src/instruments/makefixedrateinstrument.rs:66:23
   |
66 |     /// Creates a new MakeFixedRateInstrument builder with default values.
   |                       ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
66 -     /// Creates a new MakeFixedRateInstrument builder with default values.
66 +     /// Creates a new `MakeFixedRateInstrument` builder with default values.
   |

error: item in documentation is missing backticks
   --> src/instruments/makefixedrateinstrument.rs:344:30
    |
344 |     /// Builds and returns a FixedRateInstrument from the configured builder.
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
344 -     /// Builds and returns a FixedRateInstrument from the configured builder.
344 +     /// Builds and returns a `FixedRateInstrument` from the configured builder.
    |

error: this function has too many lines (492/100)
   --> src/instruments/makefixedrateinstrument.rs:348:5
    |
348 |     pub fn build(self) -> Result<FixedRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:368:32
    |
368 |                   let end_date = match self.end_date {
    |  ________________________________^
369 | |                     Some(date) => date,
370 | |                     None => {
371 | |                         let tenor = self
...   |
376 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
368 ~                 let end_date = if let Some(date) = self.end_date { date } else {
369 +                     let tenor = self
370 +                         .tenor
371 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
372 +                     start_date + tenor
373 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:413:40
    |
413 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:414:39
    |
414 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:444:21
    |
444 | /                     cashflows
445 | |                         .iter_mut()
446 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
444 |                     cashflows
445 |                         .iter_mut()
446 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateinstrument.rs:485:39
    |
485 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateinstrument.rs:503:39
    |
503 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:519:21
    |
519 | /                     cashflows
520 | |                         .iter_mut()
521 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
519 |                     cashflows
520 |                         .iter_mut()
521 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: used `unwrap()` on a `Result` value
   --> src/cashflows/traits.rs:121:34
    |
121 |         let mut accrued_amount = coupon.accrued_amount(start_date, end_date).unwrap();
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/cashflows/traits.rs:126:26
    |
126 |         accrued_amount = coupon.accrued_amount(start_date, end_date).unwrap();
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:544:32
    |
544 |                   let end_date = match self.end_date {
    |  ________________________________^
545 | |                     Some(date) => date,
546 | |                     None => {
547 | |                         let tenor = self
...   |
552 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
544 ~                 let end_date = if let Some(date) = self.end_date { date } else {
545 +                     let tenor = self
546 +                         .tenor
547 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
548 +                     start_date + tenor
549 ~                 };
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:555:17
    |
555 | /                 match self.redemptions {
556 | |                     Some(redemption) => {
557 | |                         // disbursements should have only one element
558 | |                         let disbursements_dates = self
...   |
600 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
555 ~                 if let Some(redemption) = self.redemptions {
556 +                     // disbursements should have only one element
557 +                     let disbursements_dates = self
558 +                         .disbursements
559 +                         .ok_or(AtlasError::ValueNotSetErr("Disbursements".into()))?
560 +                         .keys()
561 +                         .cloned()
562 +                         .collect::<Vec<Date>>();
563 + 
564 +                     let redemption_dates = redemption.keys().cloned().collect::<Vec<Date>>();
565 +                     // dates equal to disbursements dates an them redemption dates
566 +                     dates.extend(disbursements_dates);
567 +                     dates.extend(redemption_dates);
568 +                     dates.sort();
569 +                 } else {
570 +                     let mut schedule_builder = MakeSchedule::new(start_date, end_date)
571 +                         .with_frequency(payment_frequency)
572 +                         .with_calendar(
573 +                             self.calendar
574 +                                 .unwrap_or(Calendar::NullCalendar(NullCalendar::new())),
575 +                         )
576 +                         .with_convention(
577 +                             self.business_day_convention
578 +                                 .unwrap_or(BusinessDayConvention::Unadjusted),
579 +                         )
580 +                         .with_rule(
581 +                             self.date_generation_rule
582 +                                 .unwrap_or(DateGenerationRule::Backward),
583 +                         );
584 +                     let schedule = match self.first_coupon_date {
585 +                         Some(date) => {
586 +                             if date > start_date {
587 +                                 schedule_builder.with_first_date(date).build()?
588 +                             } else {
589 +                                 Err(AtlasError::InvalidValueErr(
590 +                                     "First coupon date must be after start date".into(),
591 +                                 ))?
592 +                             }
593 +                         }
594 +                         None => schedule_builder.build()?,
595 +                     };
596 +                     dates = schedule.dates().clone();
597 +                 }
    |

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:562:30
    |
562 | ...                   .cloned()
    |                        ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:565:66
    |
565 |                         let redemption_dates = redemption.keys().cloned().collect::<Vec<Date>>();
    |                                                                  ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `unwrap()` on a `Result` value
   --> src/cashflows/traits.rs:156:30
    |
156 |         let accrued_amount = coupon.clone().accrued_amount(start_date, end_date).unwrap();
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: assigning the result of `Clone::clone()` may be inefficient
   --> src/instruments/makefixedrateinstrument.rs:598:25
    |
598 |                         dates = schedule.dates().clone();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `dates.clone_from(schedule.dates())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones
    = note: `-D clippy::assigning-clones` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::assigning_clones)]`

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:610:30
    |
610 |                     acc.push(acc.last().unwrap() - x);
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:627:40
    |
627 |                 let first_date = vec![*dates.first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:642:65
    |
642 |                 let aux_dates: Vec<Date> = dates.iter().skip(1).cloned().collect();
    |                                                                 ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:680:21
    |
680 | /                     cashflows
681 | |                         .iter_mut()
682 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
680 |                     cashflows
681 |                         .iter_mut()
682 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:705:32
    |
705 |                   let end_date = match self.end_date {
    |  ________________________________^
706 | |                     Some(date) => date,
707 | |                     None => {
708 | |                         let tenor = self
...   |
713 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
705 ~                 let end_date = if let Some(date) = self.end_date { date } else {
706 +                     let tenor = self
707 +                         .tenor
708 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
709 +                     start_date + tenor
710 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:738:40
    |
738 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:739:39
    |
739 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:767:21
    |
767 | /                     cashflows
768 | |                         .iter_mut()
769 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
767 |                     cashflows
768 |                         .iter_mut()
769 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:792:32
    |
792 |                   let end_date = match self.end_date {
    |  ________________________________^
793 | |                     Some(date) => date,
794 | |                     None => {
795 | |                         let tenor = self
...   |
800 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
792 ~                 let end_date = if let Some(date) = self.end_date { date } else {
793 +                     let tenor = self
794 +                         .tenor
795 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
796 +                     start_date + tenor
797 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:834:40
    |
834 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateinstrument.rs:838:51
    |
838 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:859:53
    |
859 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:871:21
    |
871 | /                     cashflows
872 | |                         .iter_mut()
873 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
871 |                     cashflows
872 |                         .iter_mut()
873 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makefixedrateinstrument.rs:945:12
    |
945 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider changing the type to
    |
945 -     dates: Vec<Date>,
945 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
950 -         dates: dates.clone(),
950 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateinstrument.rs:956:28
    |
956 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: consider implementing `TryFrom` instead
    --> src/instruments/makefixedrateinstrument.rs:982:1
     |
 982 | / impl From<FixedRateInstrument> for MakeFixedRateInstrument {
 983 | |     fn from(val: FixedRateInstrument) -> Self {
 984 | |         let mut disbursements = HashMap::new();
 985 | |         let mut redemptions = HashMap::new();
...    |
1022 | | }
     | |_^
     |
     = help: `From` is intended for infallible conversions only. Use `TryFrom` if there's a possibility for the conversion to fail
note: potential failure(s)
    --> src/instruments/makefixedrateinstrument.rs:991:60
     |
 991 |                     disbursements.insert(c.payment_date(), c.amount().unwrap());
     |                                                            ^^^^^^^^^^^^^^^^^^^
...
 994 |                     redemptions.insert(c.payment_date(), c.amount().unwrap());
     |                                                          ^^^^^^^^^^^^^^^^^^^
...
 997 |                     additional_coupon_dates.insert(c.accrual_start_date().unwrap());
     |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
 998 |                     additional_coupon_dates.insert(c.accrual_end_date().unwrap());
     |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
1011 |             .with_currency(val.currency().unwrap())
     |                            ^^^^^^^^^^^^^^^^^^^^^^^
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#fallible_impl_from
     = note: `-D clippy::fallible-impl-from` implied by `-D clippy::nursery`
     = help: to override `-D clippy::nursery` add `#[allow(clippy::fallible_impl_from)]`

error: wildcard matches only a single variant and will also match any future added variants
    --> src/instruments/makefixedrateinstrument.rs:1000:17
     |
1000 |                 _ => (),
     |                 ^ help: try: `Cashflow::FloatingRateCoupon(_)`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefixedrateinstrument.rs:991:60
    |
991 |                     disbursements.insert(c.payment_date(), c.amount().unwrap());
    |                                                            ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefixedrateinstrument.rs:994:58
    |
994 |                     redemptions.insert(c.payment_date(), c.amount().unwrap());
    |                                                          ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefixedrateinstrument.rs:997:52
    |
997 |                     additional_coupon_dates.insert(c.accrual_start_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefixedrateinstrument.rs:998:52
    |
998 |                     additional_coupon_dates.insert(c.accrual_end_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
    --> src/instruments/makefixedrateinstrument.rs:1004:23
     |
1004 |         let builder = MakeFixedRateInstrument::new()
     |                       ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self
     = note: `-D clippy::use-self` implied by `-D clippy::nursery`
     = help: to override `-D clippy::nursery` add `#[allow(clippy::use_self)]`

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1011:28
     |
1011 |             .with_currency(val.currency().unwrap())
     |                            ^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
    --> src/instruments/makefixedrateinstrument.rs:1026:9
     |
1026 |         MakeFixedRateInstrument::from(val.clone())
     |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: item in documentation is missing backticks
  --> src/instruments/makefixedrateleg.rs:64:23
   |
64 |     /// Creates a new MakeFixedRateLeg builder with default values.
   |                       ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
64 -     /// Creates a new MakeFixedRateLeg builder with default values.
64 +     /// Creates a new `MakeFixedRateLeg` builder with default values.
   |

error: item in documentation is missing backticks
   --> src/instruments/makefixedrateleg.rs:348:44
    |
348 |     /// Builds the Leg from the configured MakeFixedRateLeg builder.
    |                                            ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
348 -     /// Builds the Leg from the configured MakeFixedRateLeg builder.
348 +     /// Builds the Leg from the configured `MakeFixedRateLeg` builder.
    |

error: this function has too many lines (429/100)
   --> src/instruments/makefixedrateleg.rs:352:5
    |
352 |     pub fn build(self) -> Result<Leg> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:372:32
    |
372 |                   let end_date = match self.end_date {
    |  ________________________________^
373 | |                     Some(date) => date,
374 | |                     None => {
375 | |                         let tenor = self
...   |
380 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
372 ~                 let end_date = if let Some(date) = self.end_date { date } else {
373 +                     let tenor = self
374 +                         .tenor
375 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
376 +                     start_date + tenor
377 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:418:40
    |
418 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:419:39
    |
419 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:449:21
    |
449 | /                     cashflows
450 | |                         .iter_mut()
451 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
449 |                     cashflows
450 |                         .iter_mut()
451 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:488:39
    |
488 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:506:39
    |
506 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:514:21
    |
514 | /                     cashflows
515 | |                         .iter_mut()
516 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
514 |                     cashflows
515 |                         .iter_mut()
516 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:535:32
    |
535 |                   let end_date = match self.end_date {
    |  ________________________________^
536 | |                     Some(date) => date,
537 | |                     None => {
538 | |                         let tenor = self
...   |
543 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
535 ~                 let end_date = if let Some(date) = self.end_date { date } else {
536 +                     let tenor = self
537 +                         .tenor
538 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
539 +                     start_date + tenor
540 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:587:30
    |
587 |                     acc.push(acc.last().unwrap() - x);
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:603:40
    |
603 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateleg.rs:614:53
    |
614 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:628:21
    |
628 | /                     cashflows
629 | |                         .iter_mut()
630 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
628 |                     cashflows
629 |                         .iter_mut()
630 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:649:32
    |
649 |                   let end_date = match self.end_date {
    |  ________________________________^
650 | |                     Some(date) => date,
651 | |                     None => {
652 | |                         let tenor = self
...   |
657 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
649 ~                 let end_date = if let Some(date) = self.end_date { date } else {
650 +                     let tenor = self
651 +                         .tenor
652 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
653 +                     start_date + tenor
654 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:682:40
    |
682 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:683:39
    |
683 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:711:21
    |
711 | /                     cashflows
712 | |                         .iter_mut()
713 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
711 |                     cashflows
712 |                         .iter_mut()
713 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:732:32
    |
732 |                   let end_date = match self.end_date {
    |  ________________________________^
733 | |                     Some(date) => date,
734 | |                     None => {
735 | |                         let tenor = self
...   |
740 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
732 ~                 let end_date = if let Some(date) = self.end_date { date } else {
733 +                     let tenor = self
734 +                         .tenor
735 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
736 +                     start_date + tenor
737 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:775:40
    |
775 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateleg.rs:779:51
    |
779 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateleg.rs:800:53
    |
800 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:812:21
    |
812 | /                     cashflows
813 | |                         .iter_mut()
814 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
812 |                     cashflows
813 |                         .iter_mut()
814 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:267:20
    |
267 |         assert_eq!(Currency::try_from("USD").unwrap(), Currency::USD);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:268:20
    |
268 |         assert_eq!(Currency::try_from("  USD ").unwrap(), Currency::USD);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:269:20
    |
269 |         assert_eq!(Currency::try_from("\nEUR\t").unwrap(), Currency::EUR);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:274:17
    |
274 |         let c = Currency::try_from("JPY".to_string()).unwrap();
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makefixedrateleg.rs:881:12
    |
881 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider changing the type to
    |
881 -     dates: Vec<Date>,
881 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
887 -         dates: dates.clone(),
887 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateleg.rs:893:28
    |
893 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:280:17
    |
280 |         let c = Currency::from_str("GBP").unwrap();
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many lines (388/100)
   --> src/instruments/makefloatingrateinstrument.rs:305:5
    |
305 |     pub fn build(self) -> Result<FloatingRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:155:20
    |
155 |         assert_eq!(manager.get_exchange_rate(USD, USD).unwrap(), 1.0);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:155:9
    |
155 |         assert_eq!(manager.get_exchange_rate(USD, USD).unwrap(), 1.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:171:20
    |
171 |         assert_eq!(manager.get_exchange_rate(USD, EUR).unwrap(), 0.85);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateinstrument.rs:722:13
    |
722 |             _ => Err(AtlasError::InvalidValueErr(
    |             ^ help: try: `Structure::EqualPayments`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:171:9
    |
171 |         assert_eq!(manager.get_exchange_rate(USD, EUR).unwrap(), 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:329:32
    |
329 |                   let end_date = match self.end_date {
    |  ________________________________^
330 | |                     Some(date) => date,
331 | |                     None => {
332 | |                         let tenor = self
...   |
337 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
329 ~                 let end_date = if let Some(date) = self.end_date { date } else {
330 +                     let tenor = self
331 +                         .tenor
332 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
333 +                     start_date + tenor
334 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/currencies/exchangeratestore.rs:173:13
    |
173 | /             manager
174 | |                 .exchange_rate_cache
175 | |                 .lock()
176 | |                 .unwrap()
177 | |                 .get(&(USD, EUR))
178 | |                 .unwrap(),
    | |_________________________^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:173:13
    |
173 | /             manager
174 | |                 .exchange_rate_cache
175 | |                 .lock()
176 | |                 .unwrap()
    | |_________________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:172:9
    |
172 | /         assert_eq!(
173 | |             manager
174 | |                 .exchange_rate_cache
175 | |                 .lock()
...   |
179 | |             &0.85
180 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:373:40
    |
373 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:374:39
    |
374 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:403:21
    |
403 | /                     cashflows.iter_mut().for_each(|cf| {
404 | |                         cf.set_discount_curve_id(id);
405 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
403 |                     cashflows.iter_mut().for_each(|cf| {
404 |                         cf.set_discount_curve_id(id);
405 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:408:21
    |
408 | /                     cashflows.iter_mut().for_each(|cf| {
409 | |                         cf.set_forecast_curve_id(id);
410 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
408 |                     cashflows.iter_mut().for_each(|cf| {
409 |                         cf.set_forecast_curve_id(id);
410 ~                     });
    |

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:210:20
    |
210 |         assert_eq!(manager.get_exchange_rate(EUR, USD).unwrap(), 1.0 / 0.85);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:210:9
    |
210 |         assert_eq!(manager.get_exchange_rate(EUR, USD).unwrap(), 1.0 / 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:435:32
    |
435 |                   let end_date = match self.end_date {
    |  ________________________________^
436 | |                     Some(date) => date,
437 | |                     None => {
438 | |                         let tenor = self
...   |
443 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
435 ~                 let end_date = if let Some(date) = self.end_date { date } else {
436 +                     let tenor = self
437 +                         .tenor
438 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
439 +                     start_date + tenor
440 ~                 };
    |

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:211:20
    |
211 |         assert_eq!(manager.get_exchange_rate(USD, EUR).unwrap(), 0.85);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:211:9
    |
211 |         assert_eq!(manager.get_exchange_rate(USD, EUR).unwrap(), 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:467:40
    |
467 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:468:39
    |
468 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:221:20
    |
221 |         assert_eq!(manager.get_exchange_rate(CLP, EUR).unwrap(), 1.1 * 800.0);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:497:21
    |
497 | /                     cashflows.iter_mut().for_each(|cf| {
498 | |                         cf.set_discount_curve_id(id);
499 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
497 |                     cashflows.iter_mut().for_each(|cf| {
498 |                         cf.set_discount_curve_id(id);
499 ~                     });
    |

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:221:9
    |
221 |         assert_eq!(manager.get_exchange_rate(CLP, EUR).unwrap(), 1.1 * 800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:502:21
    |
502 | /                     cashflows.iter_mut().for_each(|cf| {
503 | |                         cf.set_forecast_curve_id(id);
504 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
502 |                     cashflows.iter_mut().for_each(|cf| {
503 |                         cf.set_forecast_curve_id(id);
504 ~                     });
    |

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:223:13
    |
223 |             manager.get_exchange_rate(EUR, CLP).unwrap(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:222:9
    |
222 | /         assert_eq!(
223 | |             manager.get_exchange_rate(EUR, CLP).unwrap(),
224 | |             1.0 / (1.1 * 800.0)
225 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:529:32
    |
529 |                   let end_date = match self.end_date {
    |  ________________________________^
530 | |                     Some(date) => date,
531 | |                     None => {
532 | |                         let tenor = self
...   |
537 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
529 ~                 let end_date = if let Some(date) = self.end_date { date } else {
530 +                     let tenor = self
531 +                         .tenor
532 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
533 +                     start_date + tenor
534 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefloatingrateinstrument.rs:574:51
    |
574 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:576:40
    |
576 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefloatingrateinstrument.rs:596:53
    |
596 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:606:21
    |
606 | /                     cashflows.iter_mut().for_each(|cf| {
607 | |                         cf.set_discount_curve_id(id);
608 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
606 |                     cashflows.iter_mut().for_each(|cf| {
607 |                         cf.set_discount_curve_id(id);
608 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:611:21
    |
611 | /                     cashflows.iter_mut().for_each(|cf| {
612 | |                         cf.set_forecast_curve_id(id);
613 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
611 |                     cashflows.iter_mut().for_each(|cf| {
612 |                         cf.set_forecast_curve_id(id);
613 ~                     });
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateinstrument.rs:653:39
    |
653 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateinstrument.rs:675:39
    |
675 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:696:21
    |
696 | /                     cashflows.iter_mut().for_each(|cf| {
697 | |                         cf.set_discount_curve_id(id);
698 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
696 |                     cashflows.iter_mut().for_each(|cf| {
697 |                         cf.set_discount_curve_id(id);
698 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:701:21
    |
701 | /                     cashflows.iter_mut().for_each(|cf| {
702 | |                         cf.set_forecast_curve_id(id);
703 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
701 |                     cashflows.iter_mut().for_each(|cf| {
702 |                         cf.set_forecast_curve_id(id);
703 ~                     });
    |

error: consider implementing `TryFrom` instead
   --> src/instruments/makefloatingrateinstrument.rs:756:1
    |
756 | / impl From<FloatingRateInstrument> for MakeFloatingRateInstrument {
757 | |     fn from(val: FloatingRateInstrument) -> Self {
758 | |         let mut disbursements = HashMap::new();
759 | |         let mut redemptions = HashMap::new();
...   |
794 | | }
    | |_^
    |
    = help: `From` is intended for infallible conversions only. Use `TryFrom` if there's a possibility for the conversion to fail
note: potential failure(s)
   --> src/instruments/makefloatingrateinstrument.rs:765:60
    |
765 |                     disbursements.insert(c.payment_date(), c.amount().unwrap());
    |                                                            ^^^^^^^^^^^^^^^^^^^
...
768 |                     redemptions.insert(c.payment_date(), c.amount().unwrap());
    |                                                          ^^^^^^^^^^^^^^^^^^^
...
771 |                     additional_coupon_dates.insert(c.accrual_start_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
772 |                     additional_coupon_dates.insert(c.accrual_end_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
788 |             .with_currency(val.currency().unwrap())
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#fallible_impl_from

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateinstrument.rs:774:17
    |
774 |                 _ => (),
    |                 ^ help: try: `Cashflow::FixedRateCoupon(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:765:60
    |
765 |                     disbursements.insert(c.payment_date(), c.amount().unwrap());
    |                                                            ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:768:58
    |
768 |                     redemptions.insert(c.payment_date(), c.amount().unwrap());
    |                                                          ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:771:52
    |
771 |                     additional_coupon_dates.insert(c.accrual_start_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:772:52
    |
772 |                     additional_coupon_dates.insert(c.accrual_end_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:778:9
    |
778 |         MakeFloatingRateInstrument::new()
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:788:28
    |
788 |             .with_currency(val.currency().unwrap())
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many lines (359/100)
   --> src/instruments/makefloatingrateleg.rs:294:5
    |
294 |     pub fn build(self) -> Result<Leg> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateleg.rs:683:13
    |
683 |             _ => Err(AtlasError::InvalidValueErr(
    |             ^ help: try: `Structure::EqualPayments`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:318:32
    |
318 |                   let end_date = match self.end_date {
    |  ________________________________^
319 | |                     Some(date) => date,
320 | |                     None => {
321 | |                         let tenor = self
...   |
326 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
318 ~                 let end_date = if let Some(date) = self.end_date { date } else {
319 +                     let tenor = self
320 +                         .tenor
321 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
322 +                     start_date + tenor
323 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:363:40
    |
363 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:364:39
    |
364 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:393:21
    |
393 | /                     cashflows.iter_mut().for_each(|cf| {
394 | |                         cf.set_discount_curve_id(id);
395 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
393 |                     cashflows.iter_mut().for_each(|cf| {
394 |                         cf.set_discount_curve_id(id);
395 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:399:21
    |
399 | /                     cashflows.iter_mut().for_each(|cf| {
400 | |                         cf.set_forecast_curve_id(id);
401 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
399 |                     cashflows.iter_mut().for_each(|cf| {
400 |                         cf.set_forecast_curve_id(id);
401 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:421:32
    |
421 |                   let end_date = match self.end_date {
    |  ________________________________^
422 | |                     Some(date) => date,
423 | |                     None => {
424 | |                         let tenor = self
...   |
429 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
421 ~                 let end_date = if let Some(date) = self.end_date { date } else {
422 +                     let tenor = self
423 +                         .tenor
424 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
425 +                     start_date + tenor
426 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:453:40
    |
453 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:454:39
    |
454 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:483:21
    |
483 | /                     cashflows.iter_mut().for_each(|cf| {
484 | |                         cf.set_discount_curve_id(id);
485 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
483 |                     cashflows.iter_mut().for_each(|cf| {
484 |                         cf.set_discount_curve_id(id);
485 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:489:21
    |
489 | /                     cashflows.iter_mut().for_each(|cf| {
490 | |                         cf.set_forecast_curve_id(id);
491 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
489 |                     cashflows.iter_mut().for_each(|cf| {
490 |                         cf.set_forecast_curve_id(id);
491 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:511:32
    |
511 |                   let end_date = match self.end_date {
    |  ________________________________^
512 | |                     Some(date) => date,
513 | |                     None => {
514 | |                         let tenor = self
...   |
519 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
511 ~                 let end_date = if let Some(date) = self.end_date { date } else {
512 +                     let tenor = self
513 +                         .tenor
514 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
515 +                     start_date + tenor
516 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefloatingrateleg.rs:557:51
    |
557 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:559:40
    |
559 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefloatingrateleg.rs:579:53
    |
579 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:589:21
    |
589 | /                     cashflows.iter_mut().for_each(|cf| {
590 | |                         cf.set_discount_curve_id(id);
591 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
589 |                     cashflows.iter_mut().for_each(|cf| {
590 |                         cf.set_discount_curve_id(id);
591 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:594:21
    |
594 | /                     cashflows.iter_mut().for_each(|cf| {
595 | |                         cf.set_forecast_curve_id(id);
596 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
594 |                     cashflows.iter_mut().for_each(|cf| {
595 |                         cf.set_forecast_curve_id(id);
596 ~                     });
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateleg.rs:631:39
    |
631 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateleg.rs:653:39
    |
653 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:661:21
    |
661 | /                     cashflows.iter_mut().for_each(|cf| {
662 | |                         cf.set_discount_curve_id(id);
663 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
661 |                     cashflows.iter_mut().for_each(|cf| {
662 |                         cf.set_discount_curve_id(id);
663 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:667:21
    |
667 | /                     cashflows.iter_mut().for_each(|cf| {
668 | |                         cf.set_forecast_curve_id(id);
669 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
667 |                     cashflows.iter_mut().for_each(|cf| {
668 |                         cf.set_forecast_curve_id(id);
669 ~                     });
    |

error: item in documentation is missing backticks
  --> src/instruments/makeswap.rs:66:23
   |
66 |     /// Creates a new MakeSwap builder with default values.
   |                       ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
66 -     /// Creates a new MakeSwap builder with default values.
66 +     /// Creates a new `MakeSwap` builder with default values.
   |

error: this function has too many lines (314/100)
   --> src/instruments/makeswap.rs:404:5
    |
404 |     pub fn build(self) -> Result<Swap> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:460:17
    |
460 | /                 match structure {
461 | |                     Structure::Other => {
462 | |                         let disbursements =
463 | |                             self.first_leg_disbursements
...   |
491 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
460 ~                 if structure == Structure::Other {
461 +                     let disbursements =
462 +                         self.first_leg_disbursements
463 +                             .ok_or(AtlasError::ValueNotSetErr(
464 +                                 "First Leg Disbursements".to_string(),
465 +                             ))?;
466 + 
467 +                     let redemptions =
468 +                         self.first_leg_redemptions
469 +                             .ok_or(AtlasError::ValueNotSetErr(
470 +                                 "First Leg Redemptions".to_string(),
471 +                             ))?;
472 + 
473 +                     let additional_coupon_dates =
474 +                         self.first_leg_additional_coupon_dates.unwrap_or_default();
475 + 
476 +                     builder
477 +                         .with_disbursements(disbursements)
478 +                         .with_redemptions(redemptions)
479 +                         .with_additional_coupon_dates(additional_coupon_dates)
480 +                         .build()?
481 +                 } else {
482 +                     let payment_frequency =
483 +                         self.first_leg_payment_frequency
484 +                             .ok_or(AtlasError::ValueNotSetErr(
485 +                                 "First Leg Payment Frequency".to_string(),
486 +                             ))?;
487 +                     builder.with_payment_frequency(payment_frequency).build()?
488 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:544:17
    |
544 | /                 match structure {
545 | |                     Structure::Other => {
546 | |                         let disbursements =
547 | |                             self.first_leg_disbursements
...   |
575 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
544 ~                 if structure == Structure::Other {
545 +                     let disbursements =
546 +                         self.first_leg_disbursements
547 +                             .ok_or(AtlasError::ValueNotSetErr(
548 +                                 "First Leg Disbursements".to_string(),
549 +                             ))?;
550 + 
551 +                     let redemptions =
552 +                         self.first_leg_redemptions
553 +                             .ok_or(AtlasError::ValueNotSetErr(
554 +                                 "First Leg Redemptions".to_string(),
555 +                             ))?;
556 + 
557 +                     let additional_coupon_dates =
558 +                         self.first_leg_additional_coupon_dates.unwrap_or_default();
559 + 
560 +                     builder
561 +                         .with_disbursements(disbursements)
562 +                         .with_redemptions(redemptions)
563 +                         .with_additional_coupon_dates(additional_coupon_dates)
564 +                         .build()?
565 +                 } else {
566 +                     let payment_frequency =
567 +                         self.first_leg_payment_frequency
568 +                             .ok_or(AtlasError::ValueNotSetErr(
569 +                                 "First Leg Payment Frequency".to_string(),
570 +                             ))?;
571 +                     builder.with_payment_frequency(payment_frequency).build()?
572 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:640:17
    |
640 | /                 match structure {
641 | |                     Structure::Other => {
642 | |                         let disbursements =
643 | |                             self.second_leg_disbursements
...   |
671 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
640 ~                 if structure == Structure::Other {
641 +                     let disbursements =
642 +                         self.second_leg_disbursements
643 +                             .ok_or(AtlasError::ValueNotSetErr(
644 +                                 "Second Leg Disbursements".to_string(),
645 +                             ))?;
646 + 
647 +                     let redemptions =
648 +                         self.second_leg_redemptions
649 +                             .ok_or(AtlasError::ValueNotSetErr(
650 +                                 "Second Leg Redemptions".to_string(),
651 +                             ))?;
652 + 
653 +                     let additional_coupon_dates =
654 +                         self.second_leg_additional_coupon_dates.unwrap_or_default();
655 + 
656 +                     builder
657 +                         .with_disbursements(disbursements)
658 +                         .with_redemptions(redemptions)
659 +                         .with_additional_coupon_dates(additional_coupon_dates)
660 +                         .build()?
661 +                 } else {
662 +                     let payment_frequency =
663 +                         self.second_leg_payment_frequency
664 +                             .ok_or(AtlasError::ValueNotSetErr(
665 +                                 "Second Leg Payment Frequency".to_string(),
666 +                             ))?;
667 +                     builder.with_payment_frequency(payment_frequency).build()?
668 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:727:17
    |
727 | /                 match structure {
728 | |                     Structure::Other => {
729 | |                         let disbursements =
730 | |                             self.second_leg_disbursements
...   |
758 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
727 ~                 if structure == Structure::Other {
728 +                     let disbursements =
729 +                         self.second_leg_disbursements
730 +                             .ok_or(AtlasError::ValueNotSetErr(
731 +                                 "Second leg Disbursements".to_string(),
732 +                             ))?;
733 + 
734 +                     let redemptions =
735 +                         self.second_leg_redemptions
736 +                             .ok_or(AtlasError::ValueNotSetErr(
737 +                                 "Second leg Redemptions".to_string(),
738 +                             ))?;
739 + 
740 +                     let additional_coupon_dates =
741 +                         self.second_leg_additional_coupon_dates.unwrap_or_default();
742 + 
743 +                     builder
744 +                         .with_disbursements(disbursements)
745 +                         .with_redemptions(redemptions)
746 +                         .with_additional_coupon_dates(additional_coupon_dates)
747 +                         .build()?
748 +                 } else {
749 +                     let payment_frequency =
750 +                         self.second_leg_payment_frequency
751 +                             .ok_or(AtlasError::ValueNotSetErr(
752 +                                 "Second leg Payment Frequency".to_string(),
753 +                             ))?;
754 +                     builder.with_payment_frequency(payment_frequency).build()?
755 +                 }
    |

error: item in documentation is missing backticks
   --> src/instruments/makeswap.rs:804:23
    |
804 |     /// Creates a new MakeFixFloatSwap builder with default values.
    |                       ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
804 -     /// Creates a new MakeFixFloatSwap builder with default values.
804 +     /// Creates a new `MakeFixFloatSwap` builder with default values.
    |

error: unnecessary structure name repetition
   --> src/instruments/makeswap.rs:808:9
    |
808 |         MakeFixFloatSwap {
    |         ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: needless use of `for_each`
   --> src/instruments/fixedrateinstrument.rs:211:9
    |
211 | /         cashflows.iter().for_each(|cf| {
212 | |             //amount += cf.amount().unwrap() / rate.discount_factor(cf.payment_date(), to);
213 | |             amount += cf.amount().unwrap();
214 | |         });
    | |___________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
211 ~         for cf in cashflows.iter() {
212 +             //amount += cf.amount().unwrap() / rate.discount_factor(cf.payment_date(), to);
213 +             amount += cf.amount().unwrap();
214 +         }
    |

error: this argument is passed by value, but not consumed in the function body
  --> src/instruments/swap.rs:25:36
   |
25 |     pub fn add_leg(&mut self, leg: Leg) {
   |                                    ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider taking a reference instead
   |
25 |     pub fn add_leg(&mut self, leg: &Leg) {
   |                                    +

error: redundant clone
  --> src/instruments/swap.rs:28:24
   |
28 |             .extend(leg.clone().cashflows().iter().cloned());
   |                        ^^^^^^^^ help: remove this
   |
note: this value is dropped without further use
  --> src/instruments/swap.rs:28:21
   |
28 |             .extend(leg.clone().cashflows().iter().cloned());
   |                     ^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone
   = note: `-D clippy::redundant-clone` implied by `-D clippy::nursery`
   = help: to override `-D clippy::nursery` add `#[allow(clippy::redundant_clone)]`

error: used `cloned` where `copied` could be used instead
  --> src/instruments/swap.rs:28:52
   |
28 |             .extend(leg.clone().cashflows().iter().cloned());
   |                                                    ^^^^^^ help: try: `copied`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `unwrap()` on a `Result` value
   --> src/instruments/fixedrateinstrument.rs:355:26
    |
355 |                 assert!((coupon.amount().unwrap() - 150000.0).abs() < 1e-6);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/fixedrateinstrument.rs:371:26
    |
371 |                 assert!((coupon.amount().unwrap() - 75000.0).abs() < 1e-6);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/traits.rs:138:47
    |
138 |             let redemptions = vec![notional / n as f64; n];
    |                                               ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: parameter of type `HashMap` should be generalized over different hashers
   --> src/instruments/traits.rs:155:21
    |
155 |     disbursements: &HashMap<Date, f64>,
    |                     ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
    = note: `-D clippy::implicit-hasher` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::implicit_hasher)]`
help: add a type parameter for `BuildHasher`
    |
154 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
155 ~     disbursements: &HashMap<Date, f64, S>,
    |

error: parameter of type `HashMap` should be generalized over different hashers
   --> src/instruments/traits.rs:156:19
    |
156 |     redemptions: &HashMap<Date, f64>,
    |                   ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
    |
154 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
155 |     disbursements: &HashMap<Date, f64>,
156 ~     redemptions: &HashMap<Date, f64, S>,
    |

error: parameter of type `HashSet` should be generalized over different hashers
   --> src/instruments/traits.rs:157:24
    |
157 |     additional_dates: &HashSet<Date>,
    |                        ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
    |
154 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
155 |     disbursements: &HashMap<Date, f64>,
156 |     redemptions: &HashMap<Date, f64>,
157 ~     additional_dates: &HashSet<Date, S>,
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/traits.rs:164:27
    |
164 |     for (date, amount) in redemptions.iter() {
    |                           ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: only a `panic!` in `if`-then statement
  --> src/math/interpolation/linear.rs:17:9
   |
17 | /         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
18 | |             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
19 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
   = note: `-D clippy::manual-assert` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::manual_assert)]`
help: replace `if`-then-`panic!` with `assert!`
   |
17 -         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
18 -             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
19 -         }
17 +         assert!(!(!enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap())), "Extrapolation is not enabled, and the provided value is outside the range.");
   |

error: used `unwrap()` on an `Option` value
  --> src/math/interpolation/linear.rs:17:43
   |
17 |         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
   |                                           ^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/math/interpolation/linear.rs:17:71
   |
17 |         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
   |                                                                       ^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: these match arms have identical bodies
  --> src/math/interpolation/loglinear.rs:14:17
   |
14 |                 Ok(index) => index,
   |                 ^^^^^^^^^^^^^^^^^^
15 |                 Err(index) => index,
   |                 ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is unintentional make the arms return different values
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
   = note: `-D clippy::match-same-arms` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::match_same_arms)]`
help: otherwise merge the patterns into a single arm
   |
14 -                 Ok(index) => index,
15 -                 Err(index) => index,
14 +                 Ok(index) | Err(index) => index,
   |

error: only a `panic!` in `if`-then statement
  --> src/math/interpolation/loglinear.rs:18:9
   |
18 | /         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
19 | |             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
20 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
18 -         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
19 -             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
20 -         }
18 +         assert!(!(!enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap())), "Extrapolation is not enabled, and the provided value is outside the range.");
   |

error: used `unwrap()` on an `Option` value
  --> src/math/interpolation/loglinear.rs:18:43
   |
18 |         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
   |                                           ^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/math/interpolation/loglinear.rs:18:71
   |
18 |         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
   |                                                                       ^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: the following explicit lifetimes could be elided: 'a
  --> src/models/simplemodel.rs:58:6
   |
58 | impl<'a> Model for SimpleModel<'a> {
   |      ^^                        ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
   = note: `-D clippy::elidable-lifetime-names` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::elidable_lifetime_names)]`
help: elide the lifetimes
   |
58 - impl<'a> Model for SimpleModel<'a> {
58 + impl Model for SimpleModel<'_> {
   |

error: use Option::map_or_else instead of an if let/else
   --> src/models/simplemodel.rs:100:31
    |
100 |           let second_currency = match fx.second_currency() {
    |  _______________________________^
101 | |             Some(ccy) => ccy,
102 | |             None => {
103 | |                 if self.transform_currencies {
...   |
109 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
100 ~         let second_currency = fx.second_currency().map_or_else(|| if self.transform_currencies {
101 +                     self.market_store.local_currency()
102 +                 } else {
103 +                     first_currency
104 ~                 }, |ccy| ccy);
    |

error: usage of wildcard import
 --> src/models/traits.rs:1:13
  |
1 | use crate::{core::meta::*, time::date::Date, utils::errors::Result};
  |             ^^^^^^^^^^^^^ help: try: `core::meta::{DiscountFactorRequest, ExchangeRateRequest, ForwardRateRequest, MarketRequest, MarketData}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports
  = note: `-D clippy::wildcard-imports` implied by `-D clippy::pedantic`
  = help: to override `-D clippy::pedantic` add `#[allow(clippy::wildcard_imports)]`

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:270:9
    |
270 |         assert_eq!(instrument.notional(), 5_000_000.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:271:9
    |
271 |         assert_eq!(instrument.spread(), spread);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/instruments/floatingrateinstrument.rs:275:20
    |
275 |         assert_eq!(instrument.currency().unwrap(), Currency::USD);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/floatingrateinstrument.rs:311:26
    |
311 |                 assert!((coupon.amount().unwrap() - 150000.0).abs() < 1e-6);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:312:17
    |
312 |                 assert_eq!(coupon.spread(), spread);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/instruments/floatingrateinstrument.rs:321:26
    |
321 |                 assert!((coupon.amount().unwrap() - 75000.0).abs() < 1e-6);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
  --> src/rates/indexstore.rs:74:14
   |
74 |             .cloned()
   |              ^^^^^^ help: try: `copied`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:322:17
    |
322 |                 assert_eq!(coupon.spread(), new_spread);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: redundant clone
   --> src/rates/indexstore.rs:117:17
    |
117 |                 .to_string(),
    |                 ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/indexstore.rs:111:17
    |
111 | /                 format!(
112 | |                     "Index ({name:?}) reference date ({reference_date}) does not match index store reference date ({store_reference_date})",
113 | |                     name = index.read_index()?.name(),
114 | |                     reference_date = index.read_index()?.reference_date(),
...   |
117 | |                 .to_string(),
    | |________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/rates/indexstore.rs:149:17
    |
149 |                 .to_string(),
    |                 ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/indexstore.rs:143:17
    |
143 | /                 format!(
144 | |                     "Index ({name:?}) reference date ({reference_date}) does not match index store reference date ({store_reference_date})",
145 | |                     name = index.read_index()?.name(),
146 | |                     reference_date = index.read_index()?.reference_date(),
...   |
149 | |                 .to_string(),
    | |________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: this argument is passed by value, but not consumed in the function body
   --> src/rates/indexstore.rs:183:15
    |
183 |         name: String,
    |               ^^^^^^ help: consider changing the type to: `&str`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:185:28
    |
185 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:213:28
    |
213 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:246:63
    |
246 |     pub fn advance_to_period(&self, period: Period) -> Result<IndexStore> {
    |                                                               ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:248:25
    |
248 |         let mut store = IndexStore::new(reference_date);
    |                         ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:249:28
    |
249 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:254:34
    |
254 |         for (currency, curve) in self.currency_curve.iter() {
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.currency_curve`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:265:57
    |
265 |     pub fn advance_to_date(&self, date: Date) -> Result<IndexStore> {
    |                                                         ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/indexstore.rs:266:20
    |
266 |         let days = (date - self.reference_date) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
    = note: `-D clippy::cast-possible-truncation` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_possible_truncation)]`
help: ... or use `try_from` and handle the error accordingly
    |
266 -         let days = (date - self.reference_date) as i32;
266 +         let days = i32::try_from(date - self.reference_date);
    |

error: docs for function returning `Result` missing `# Errors` section
   --> src/rates/indexstore.rs:271:5
    |
271 |     pub fn swap_index_by_id(&mut self, from: usize, to: usize) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc
    = note: `-D clippy::missing-errors-doc` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::missing_errors_doc)]`

error: docs for function returning `Result` missing `# Errors` section
   --> src/rates/interestrate.rs:144:5
    |
144 | /     pub fn implied_rate(
145 | |         compound: f64,
146 | |         result_dc: DayCounter,
147 | |         comp: Compounding,
148 | |         freq: Frequency,
149 | |         t: f64,
150 | |     ) -> Result<Self> {
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

error: strict comparison of `f32` or `f64`
   --> src/rates/interestrate.rs:158:12
    |
158 |         if compound == 1.0 {
    |            ^^^^^^^^^^^^^^^ help: consider comparing them within some margin of error: `(compound - 1.0).abs() < error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: `-D clippy::float-cmp` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::float_cmp)]`

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:177:25
    |
177 |                         r = (compound - 1.0) / t
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound - 1.0) / t;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:179:25
    |
179 |                         r = (compound.powf(1.0 / (f * t)) - 1.0) * f
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound.powf(1.0 / (f * t)) - 1.0) * f;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:184:25
    |
184 |                         r = (compound - 1.0) / t
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound - 1.0) / t;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:186:25
    |
186 |                         r = (compound.powf(1.0 / (f * t)) - 1.0) * f
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound.powf(1.0 / (f * t)) - 1.0) * f;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:209:36
    |
209 |             Compounding::Simple => 1.0 + rate * year_fraction,
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops
    = note: `-D clippy::suboptimal-flops` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::suboptimal_flops)]`

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:214:21
    |
214 |                     1.0 + rate * year_fraction
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:221:21
    |
221 |                     1.0 + rate * year_fraction
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: item in documentation is missing backticks
  --> src/rates/interestrateindex/iborindex.rs:51:23
   |
51 |     /// Creates a new IborIndex with the given reference date.
   |                       ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
51 -     /// Creates a new IborIndex with the given reference date.
51 +     /// Creates a new `IborIndex` with the given reference date.
   |

error: missing `#[must_use]` attribute on a method returning `Self`
   --> src/rates/interestrateindex/iborindex.rs:107:5
    |
107 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
108 | |         self.term_structure = Some(term_structure);
109 | |         self
110 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use
    = note: `-D clippy::return-self-not-must-use` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::return_self_not_must_use)]`

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/iborindex.rs:117:14
    |
117 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: only a `panic!` in `if`-then statement
   --> src/rates/interestrateindex/iborindex.rs:129:9
    |
129 | /         if date > self.reference_date() {
130 | |             panic!("Date must be less than reference date");
131 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
    |
129 -         if date > self.reference_date() {
130 -             panic!("Date must be less than reference date");
131 -         }
129 +         assert!(date <= self.reference_date(), "Date must be less than reference date");
    |

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/iborindex.rs:220:13
    |
220 |             IborIndex::new(new_curve.reference_date())
    |             ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/iborindex.rs:230:20
    |
230 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
230 -         let days = (date - self.reference_date()) as i32;
230 +         let days = i32::try_from(date - self.reference_date());
    |

error: multiply and add expressions can be calculated more efficiently and accurately
  --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:59:5
   |
59 |     (1.0 + rate * year_fraction) * index
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: parameter of type `HashMap` should be generalized over different hashers
  --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:72:20
   |
72 |     fixings_rates: HashMap<Date, f64>,
   |                    ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
   |
71 ~ pub fn compose_fixing_rate<S: ::std::hash::BuildHasher + Default>(
72 ~     fixings_rates: HashMap<Date, f64, S>,
73 |     rate_definition: RateDefinition,
...
77 |
78 ~     let mut fixing_index = HashMap::default();
   |

error: assigning the result of `Clone::clone()` may be inefficient
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:132:9
    |
132 |         self.fixings_rates = fixings_rates.clone();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `self.fixings_rates.clone_from(&fixings_rates)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones

error: missing `#[must_use]` attribute on a method returning `Self`
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:145:5
    |
145 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
146 | |         self.overnight_index = self.overnight_index.with_term_structure(term_structure);
147 | |         self
148 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:164:14
    |
164 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:176:9
    |
176 |         self.overnight_index.add_fixing(date, rate)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `self.overnight_index.add_fixing(date, rate);`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:221:20
    |
221 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
221 -         let days = (date - self.reference_date()) as i32;
221 +         let days = i32::try_from(date - self.reference_date());
    |

error: missing `#[must_use]` attribute on a method returning `Self`
  --> src/rates/interestrateindex/overnightindex.rs:81:5
   |
81 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
82 | |         self.term_structure = Some(term_structure);
83 | |         self
84 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightindex.rs:111:14
    |
111 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `unwrap()` on an `Option` value
   --> src/rates/interestrateindex/overnightindex.rs:206:40
    |
206 |             let mut last_fixing_date = fixings.keys().max().cloned().unwrap();
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightindex.rs:206:61
    |
206 |             let mut last_fixing_date = fixings.keys().max().cloned().unwrap();
    |                                                             ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `unwrap()` on an `Option` value
   --> src/rates/interestrateindex/overnightindex.rs:208:36
    |
208 |                 let last_fixing = *fixings.get(&last_fixing_date).unwrap();
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/overnightindex.rs:232:13
    |
232 |             OvernightIndex::new(new_curve.reference_date())
    |             ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/overnightindex.rs:241:20
    |
241 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
241 -         let days = (date - self.reference_date()) as i32;
241 +         let days = i32::try_from(date - self.reference_date());
    |

error: used `unwrap()` on an `Option` value
  --> src/rates/interestrateindex/traits.rs:32:31
   |
32 |             let first_date = *self.fixings().keys().min().unwrap();
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/rates/interestrateindex/traits.rs:33:30
   |
33 |             let last_date = *self.fixings().keys().max().unwrap();
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/rates/interestrateindex/traits.rs:43:27
   |
43 |                 .map(|&d| (d - first_date) as f64)
   |                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/rates/interestrateindex/traits.rs:52:32
   |
52 |                     let days = (current_date - first_date) as f64;
   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: strict comparison of `f32` or `f64`
   --> src/rates/yieldtermstructure/discounttermstructure.rs:106:12
    |
106 |         if discount_factors[0] != 1.0 {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider comparing them within some margin of error: `(discount_factors[0] - 1.0).abs() > error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/discounttermstructure.rs:224:21
    |
224 |         Ok(Arc::new(DiscountTermStructure::new(
    |                     ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/discounttermstructure.rs:234:20
    |
234 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
234 -         let days = (date - self.reference_date()) as i32;
234 +         let days = i32::try_from(date - self.reference_date());
    |

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/tenorbasedzeroratetermstructure.rs:160:20
    |
160 |         let days = (date - self.reference_date) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
160 -         let days = (date - self.reference_date) as i32;
160 +         let days = i32::try_from(date - self.reference_date);
    |

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/zeroratetermstructure.rs:229:20
    |
229 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
229 -         let days = (date - self.reference_date()) as i32;
229 +         let days = i32::try_from(date - self.reference_date());
    |

error: unnecessary structure name repetition
  --> src/time/calendar.rs:60:63
   |
60 |     fn deserialize<D>(deserializer: D) -> std::result::Result<Calendar, D::Error>
   |                                                               ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/calendars/brazil.rs:113:17
    |
113 |         let w = NaiveDate::from_ymd_opt(year, month, day).unwrap().weekday();
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/calendars/brazil.rs:233:9
    |
233 |         Brazil::new(Market::Settlement)
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:42:17
   |
42 |         let w = NaiveDate::from_ymd_opt(year, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:71:17
   |
71 |         let w = NaiveDate::from_ymd_opt(2001, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:85:17
   |
85 |         let w = NaiveDate::from_ymd_opt(1810, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:93:17
   |
93 |         let w = NaiveDate::from_ymd_opt(1810, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:98:17
   |
98 |         let w = NaiveDate::from_ymd_opt(1492, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/calendars/chile.rs:103:17
    |
103 |         let w = NaiveDate::from_ymd_opt(year, month, day).unwrap().weekday();
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/calendars/chile.rs:226:9
    |
226 |         Chile::new(Market::SSE)
    |         ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i32` to `usize` may lose the sign of the value
  --> src/time/calendars/traits.rs:52:19
   |
52 |     easter_monday[(y - 1901) as usize]
   |                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss
   = note: `-D clippy::cast-sign-loss` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_sign_loss)]`

error: boolean to int conversion using if
   --> src/time/calendars/traits.rs:141:16
    |
141 |           } else if include_first && include_last && self.is_business_day(&from) {
    |  ________________^
142 | |             1
143 | |         } else {
144 | |             0
145 | |         }
    | |_________^ help: replace with from: `{ i64::from(include_first && include_last && self.is_business_day(&from)) }`
    |
    = note: `(include_first && include_last && self.is_business_day(&from)) as i64` or `(include_first && include_last && self.is_business_day(&from)).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if
    = note: `-D clippy::bool-to-int-with-if` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::bool_to_int_with_if)]`

error: use Option::map_or instead of an if let/else
   --> src/time/calendars/traits.rs:152:20
    |
152 |           let conv = match convention {
    |  ____________________^
153 | |             Some(convention) => convention,
154 | |             None => BusinessDayConvention::Following,
155 | |         };
    | |_________^ help: try: `convention.map_or(BusinessDayConvention::Following, |convention| convention)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error: this pattern matching can be expressed using equality
   --> src/time/calendars/traits.rs:172:24
    |
172 |                     if let BusinessDayConvention::HalfMonthModifiedFollowing = conv {
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `conv == BusinessDayConvention::HalfMonthModifiedFollowing`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#equatable_if_let
    = note: `-D clippy::equatable-if-let` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::equatable_if_let)]`

error: this pattern matching can be expressed using equality
   --> src/time/calendars/traits.rs:183:20
    |
183 |                 if let BusinessDayConvention::ModifiedPreceding = conv {
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `conv == BusinessDayConvention::ModifiedPreceding`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#equatable_if_let

error: boolean to int conversion using if
   --> src/time/calendars/traits.rs:212:23
    |
212 |           let mut res = if include_last && self.is_business_day(&to) {
    |  _______________________^
213 | |             1
214 | |         } else {
215 | |             0
216 | |         };
    | |_________^ help: replace with from: `i64::from(include_last && self.is_business_day(&to))`
    |
    = note: `(include_last && self.is_business_day(&to)) as i64` or `(include_last && self.is_business_day(&to)).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if

error: usage of wildcard import
 --> src/time/date.rs:1:5
  |
1 | use super::enums::*;
  |     ^^^^^^^^^^^^^^^ help: try: `super::enums::{TimeUnit, Weekday}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: used `unwrap()` on an `Option` value
  --> src/time/date.rs:68:20
   |
68 |               day += NaiveDate::from_ymd_opt(self.year(), m, 1)
   |  ____________________^
69 | |                 .unwrap()
   | |_________________________^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
  --> src/time/date.rs:68:20
   |
68 |             day += NaiveDate::from_ymd_opt(self.year(), m, 1)
   |                    ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `u32` to `i32` may wrap around the value
  --> src/time/date.rs:72:15
   |
72 |         day + self.day() as i32
   |               ^^^^^^^^^^^^^^^^^ help: if this is intentional, use `cast_signed()` instead: `self.day().cast_signed()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap
   = note: `-D clippy::cast-possible-wrap` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_possible_wrap)]`

error: used `unwrap()` on an `Option` value
  --> src/time/date.rs:84:38
   |
84 |             TimeUnit::Days => date + Duration::try_days(i64::from(n)).unwrap(),
   |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/date.rs:85:39
   |
85 |             TimeUnit::Weeks => date + Duration::try_days(i64::from(7 * n)).unwrap(),
   |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:88:40
   |
88 |                     date + Months::new(n as u32)
   |                                        ^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `n.cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:90:40
   |
90 |                     date - Months::new((-n) as u32)
   |                                        ^^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `(-n).cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:95:45
   |
95 |                     date + Months::new(12 * n as u32)
   |                                             ^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `n.cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:97:40
   |
97 |                     date - Months::new((-12 * n) as u32)
   |                                        ^^^^^^^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `(-12 * n).cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:106:32
    |
106 |         let mut end_of_month = NaiveDate::from_ymd_opt(year, month, 1).unwrap();
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:106:32
    |
106 |         let mut end_of_month = NaiveDate::from_ymd_opt(year, month, 1).unwrap();
    |                                ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:108:25
    |
108 |         end_of_month -= Duration::try_days(1).unwrap();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:125:19
    |
125 |     type Output = NaiveDate;
    |                   ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:145:19
    |
145 |     type Output = NaiveDate;
    |                   ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:185:63
    |
185 |     fn deserialize<D>(deserializer: D) -> std::result::Result<Date, D::Error>
    |                                                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:197:52
    |
197 |     pub fn new(year: i32, month: u32, day: u32) -> Date {
    |                                                    ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: use Option::map_or_else instead of an if let/else
   --> src/time/date.rs:199:9
    |
199 | /         match base_date {
200 | |             Some(base_date) => Self::from(base_date),
201 | |             None => panic!("Invalid date: {year}-{month}-{day}"),
202 | |         }
    | |_________^ help: try: `base_date.map_or_else(|| panic!("Invalid date: {year}-{month}-{day}"), |base_date| Self::from(base_date))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error: unnecessary structure name repetition
   --> src/time/date.rs:210:54
    |
210 |     pub fn from_str(date: &str, fmt: &str) -> Result<Date> {
    |                                                      ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:271:55
    |
271 |     pub fn advance(&self, n: i32, units: TimeUnit) -> Date {
    |                                                       ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:278:49
    |
278 |     pub fn add_period(&self, period: Period) -> Date {
    |                                                 ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:285:31
    |
285 |     pub fn end_of_month(date: Date) -> Date {
    |                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:285:40
    |
285 |     pub fn end_of_month(date: Date) -> Date {
    |                                        ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1072:9
     |
1072 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/time/date.rs:292:80
    |
292 |     pub fn nth_weekday(n: i32, day_of_week: Weekday, month: u32, year: i32) -> Date {
    |                                                                                ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: boolean to int conversion using if
   --> src/time/date.rs:295:24
    |
295 |         let skip = n - if day_of_week >= first { 1 } else { 0 };
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with from: `i32::from(day_of_week >= first)`
    |
    = note: `(day_of_week >= first) as i32` or `(day_of_week >= first).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:297:25
    |
297 |         let base_date = NaiveDate::from_ymd_opt(year, month, day as u32).unwrap();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `i32` to `u32` may lose the sign of the value
   --> src/time/date.rs:297:62
    |
297 |         let base_date = NaiveDate::from_ymd_opt(year, month, day as u32).unwrap();
    |                                                              ^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `day.cast_unsigned()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: unnecessary structure name repetition
   --> src/time/date.rs:303:31
    |
303 |     pub fn next_weekday(date: Date, weekday: Weekday) -> Date {
    |                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:303:58
    |
303 |     pub fn next_weekday(date: Date, weekday: Weekday) -> Date {
    |                                                          ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casts from `i32` to `i64` can be expressed infallibly using `From`
   --> src/time/date.rs:305:16
    |
305 |         date + ((if wd > weekday { 7 } else { 0 }) - wd + weekday) as i64
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
    = note: `-D clippy::cast-lossless` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_lossless)]`
help: use `i64::from` instead
    |
305 -         date + ((if wd > weekday { 7 } else { 0 }) - wd + weekday) as i64
305 +         date + i64::from((if wd > weekday { 7 } else { 0 }) - wd + weekday)
    |

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1103:9
     |
1103 |         assert_eq!(instrument.notional(), notional);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/time/date.rs:324:23
    |
324 |     pub fn empty() -> Date {
    |                       ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:359:19
    |
359 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:363:9
    |
363 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:377:19
    |
377 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:381:9
    |
381 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:394:19
    |
394 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:397:53
    |
397 |         let base_date: NaiveDate = self.base_date + Duration::try_days(rhs).unwrap();
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:398:9
    |
398 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1120:55
     |
1120 |                         payments[&c.payment_date()] + c.amount().unwrap(),
     |                                                       ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:413:43
    |
413 |         self.base_date = self.base_date + Duration::try_days(rhs).unwrap();
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1123:55
     |
1123 |                     payments.insert(c.payment_date(), c.amount().unwrap());
     |                                                       ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:426:19
    |
426 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1130:55
     |
1130 |                         payments[&c.payment_date()] + c.amount().unwrap(),
     |                                                       ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:429:53
    |
429 |         let base_date: NaiveDate = self.base_date - Duration::try_days(rhs).unwrap();
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1133:55
     |
1133 |                     payments.insert(c.payment_date(), c.amount().unwrap());
     |                                                       ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:430:9
    |
430 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
    --> src/instruments/makefixedrateinstrument.rs:1140:21
     |
1140 |         let first = payments.values().next().unwrap();
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is `None`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: needless use of `for_each`
    --> src/instruments/makefixedrateinstrument.rs:1141:9
     |
1141 |         payments.values().for_each(|x| assert_eq!(first, x));
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for x in payments.values() { assert_eq!(first, x); }`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:445:43
    |
445 |         self.base_date = self.base_date - Duration::try_days(rhs).unwrap();
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1141:40
     |
1141 |         payments.values().for_each(|x| assert_eq!(first, x));
     |                                        ^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: usage of wildcard import
 --> src/time/daycounter.rs:5:31
  |
5 |     business252::Business252, thirty360::*, traits::DayCountProvider,
  |                               ^^^^^^^^^^^^ help: try: `thirty360::{Thirty360, Thirty360US}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1172:9
     |
1172 |         assert_eq!(instrument.notional(), notional);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1202:9
     |
1202 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1232:9
     |
1232 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actual360.rs:28:9
   |
28 |         Self::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actual365.rs:28:9
   |
28 |         Self::day_count(start, end) as f64 / 365.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1261:9
     |
1261 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: `if` chain can be rewritten with `match`
  --> src/time/daycounters/actualactual.rs:42:9
   |
42 | /         if y1 == y2 {
43 | |             days as f64 / days_in_year(y1) as f64
44 | |         } else if y2 > y1 {
45 | |             let mut sum = 0.0;
...  |
60 | |             sum
61 | |         }
   | |_________^ help: consider rewriting the `if` chain with `match`: `match y1.cmp(&y2) {...}`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#comparison_chain
   = note: `-D clippy::comparison-chain` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::comparison_chain)]`

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:43:13
   |
43 |             days as f64 / days_in_year(y1) as f64
   |             ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:43:27
   |
43 |             days as f64 / days_in_year(y1) as f64
   |                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
43 -             days as f64 / days_in_year(y1) as f64
43 +             days as f64 / f64::from(days_in_year(y1))
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:46:20
   |
46 |             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:46:63
   |
46 |             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
   |                                                               ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
46 -             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
46 +             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / f64::from(days_in_year(y1));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:50:20
   |
50 |             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:50:57
   |
50 |             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
50 -             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
50 +             sum += (end - Date::new(y2, 1, 1)) as f64 / f64::from(days_in_year(y2));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:55:20
   |
55 |             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1290:9
     |
1290 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:55:61
   |
55 |             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
   |                                                             ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
55 -             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
55 +             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / f64::from(days_in_year(y2));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:59:20
   |
59 |             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:59:59
   |
59 |             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
   |                                                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
59 -             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
59 +             sum -= (start - Date::new(y1, 1, 1)) as f64 / f64::from(days_in_year(y1));
   |

error: casting `usize` to `i64` may wrap around the value on targets with 64-bit wide pointers
  --> src/time/daycounters/business252.rs:28:14
   |
28 |             -(calendar.business_day_list(start, end).len() as i64)
   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap

error: casting `usize` to `i64` may wrap around the value on targets with 64-bit wide pointers
  --> src/time/daycounters/business252.rs:30:13
   |
30 |             calendar.business_day_list(start, end).len() as i64
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/business252.rs:35:9
   |
35 |         Self::day_count(start, end) as f64 / 252.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:22:18
   |
22 |         let d1 = start.day() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
22 -         let d1 = start.day() as i64;
22 +         let d1 = i64::from(start.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:23:18
   |
23 |         let d2 = end.day() as i64;
   |                  ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
23 -         let d2 = end.day() as i64;
23 +         let d2 = i64::from(end.day());
   |

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1332:9
     |
1332 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:24:18
   |
24 |         let m1 = start.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
24 -         let m1 = start.month() as i64;
24 +         let m1 = i64::from(start.month());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:25:18
   |
25 |         let m2 = end.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
25 -         let m2 = end.month() as i64;
25 +         let m2 = i64::from(end.month());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:26:18
   |
26 |         let y1 = start.year() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
26 -         let y1 = start.year() as i64;
26 +         let y1 = i64::from(start.year());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:27:18
   |
27 |         let y2 = end.year() as i64;
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
27 -         let y2 = end.year() as i64;
27 +         let y2 = i64::from(end.year());
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/thirty360.rs:36:9
   |
36 |         Self::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:69:18
   |
69 |         let d1 = start.day() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
69 -         let d1 = start.day() as i64;
69 +         let d1 = i64::from(start.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:70:18
   |
70 |         let d2 = end.day() as i64;
   |                  ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
70 -         let d2 = end.day() as i64;
70 +         let d2 = i64::from(end.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:71:18
   |
71 |         let m1 = start.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
71 -         let m1 = start.month() as i64;
71 +         let m1 = i64::from(start.month());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:72:18
   |
72 |         let m2 = end.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
72 -         let m2 = end.month() as i64;
72 +         let m2 = i64::from(end.month());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:90:16
   |
90 |         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |                ^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
90 -         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
90 +         360 * (i64::from(y2) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:90:30
   |
90 |         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |                              ^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
90 -         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
90 +         360 * ((y2 as i64) - i64::from(y1)) + 30 * (m2 - m1) + (dd2 - dd1)
   |

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1363:9
     |
1363 |         assert_eq!(instrument2.notional(), instrument.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/thirty360.rs:94:9
   |
94 |         Self::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1400:9
     |
1400 |         assert_eq!(instrument2.notional(), instrument1.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1431:9
     |
1431 |         assert_eq!(instrument2.notional(), instrument.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1499:13
     |
1499 |             calculate_equal_payment_redemptions(dates.clone(), rate, notional).unwrap();
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1534:36
     |
1534 |             .for_each(|cf| assert!(cf.amount().unwrap() > 0.0));
     |                                    ^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1537:46
     |
1537 |             Cashflow::Redemption(c) => acc + c.amount().unwrap(),
     |                                              ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
    --> src/instruments/makefixedrateinstrument.rs:1579:17
     |
1579 |                 assert!(c.amount().unwrap() > 0.0)
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `assert!(c.amount().unwrap() > 0.0);`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1579:25
     |
1579 |                 assert!(c.amount().unwrap() > 0.0)
     |                         ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1585:46
     |
1585 |             Cashflow::Redemption(c) => acc + c.amount().unwrap(),
     |                                              ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1632:50
     |
1632 |                 Cashflow::Redemption(c) => acc + c.amount().unwrap(),
     |                                                  ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1640:50
     |
1640 |                 Cashflow::Redemption(c) => acc + c.amount().unwrap(),
     |                                                  ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/enums.rs:430:10
    |
430 | impl Add<Weekday> for Weekday {
    |          ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:433:23
    |
433 |     fn add(self, rhs: Weekday) -> Self::Output {
    |                       ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:438:10
    |
438 | impl Sub<Weekday> for Weekday {
    |          ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:441:23
    |
441 |     fn sub(self, rhs: Weekday) -> Self::Output {
    |                       ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:447:19
    |
447 |     type Output = i32;
    |                   ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:455:19
    |
455 |     type Output = i32;
    |                   ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:458:25
    |
458 |         self + -(rhs as i32)
    |                         ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: usage of wildcard import
 --> src/time/imm.rs:2:5
  |
2 | use super::enums::*;
  |     ^^^^^^^^^^^^^^^ help: try: `super::enums::Weekday`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: this argument is passed by value, but not consumed in the function body
  --> src/time/imm.rs:33:29
   |
33 |     pub fn is_imm_code(in_: String, main_cycle: bool) -> bool {
   |                             ^^^^^^ help: consider changing the type to: `&str`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: only a `panic!` in `if`-then statement
  --> src/time/imm.rs:60:9
   |
60 | /         if !Self::is_imm_date(imm_date, false) {
61 | |             panic!("{imm_date} is not an IMM date");
62 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
60 -         if !Self::is_imm_date(imm_date, false) {
61 -             panic!("{imm_date} is not an IMM date");
62 -         }
60 +         assert!(Self::is_imm_date(imm_date, false), "{imm_date} is not an IMM date");
   |

error: this argument is passed by value, but not consumed in the function body
  --> src/time/imm.rs:90:27
   |
90 |     pub fn date(imm_code: String, reference_date: Date) -> Date {
   |                           ^^^^^^ help: consider changing the type to: `&str`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: only a `panic!` in `if`-then statement
  --> src/time/imm.rs:91:9
   |
91 | /         if reference_date == Date::empty() {
92 | |             panic!("No reference date provided");
93 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
91 -         if reference_date == Date::empty() {
92 -             panic!("No reference date provided");
93 -         }
91 +         assert!(reference_date != Date::empty(), "No reference date provided");
   |

error: variables can be used directly in the `format!` string
   --> src/time/imm.rs:114:23
    |
114 |             Err(e) => panic!("Invalid IMM year number: {}", e),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
    = note: `-D clippy::uninlined-format-args` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::uninlined_format_args)]`
help: change this to
    |
114 -             Err(e) => panic!("Invalid IMM year number: {}", e),
114 +             Err(e) => panic!("Invalid IMM year number: {e}"),
    |

error: only a `panic!` in `if`-then statement
   --> src/time/imm.rs:139:9
    |
139 | /         if reference_date == Date::empty() {
140 | |             panic!("No reference date provided");
141 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
    |
139 -         if reference_date == Date::empty() {
140 -             panic!("No reference date provided");
141 -         }
139 +         assert!(reference_date != Date::empty(), "No reference date provided");
    |

error: method `from_str` can be confused for the standard trait method `std::str::FromStr::from_str`
   --> src/time/period.rs:257:5
    |
257 | /     pub fn from_str(tenor: &str) -> Result<Self> {
258 | |         // parse multiple periods and add them
259 | |         let chars = tenor.chars();
260 | |         let mut periods = Vec::new();
...   |
275 | |         Ok(result)
276 | |     }
    | |_____^
    |
    = help: consider implementing the trait `std::str::FromStr` or choosing a less ambiguous method name
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#should_implement_trait
    = note: `-D clippy::should-implement-trait` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::should_implement_trait)]`

error: all if blocks contain the same code at the start
   --> src/time/period.rs:263:13
    |
263 | /             if c.is_numeric() {
264 | |                 current_period.push(c);
    | |_______________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#branches_sharing_code
    = note: `-D clippy::branches-sharing-code` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::branches_sharing_code)]`
help: consider moving these statements before the if
    |
263 ~             current_period.push(c);
264 +             if c.is_numeric() {
    |

error: redundant clone
   --> src/time/period.rs:301:59
    |
301 |                     format!("Invalid time unit ({units})").to_string(),
    |                                                           ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:301:21
    |
301 |                     format!("Invalid time unit ({units})").to_string(),
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:848:9
    |
848 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: redundant clone
   --> src/time/period.rs:291:60
    |
291 |                 format!("Invalid period length ({length})").to_string(),
    |                                                            ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:291:17
    |
291 |                 format!("Invalid period length ({length})").to_string(),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:320:32
    |
320 |             TimeUnit::Years => self.length as f64,
    |                                ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
320 -             TimeUnit::Years => self.length as f64,
320 +             TimeUnit::Years => f64::from(self.length),
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:321:33
    |
321 |             TimeUnit::Months => self.length as f64 / 12.0,
    |                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
321 -             TimeUnit::Months => self.length as f64 / 12.0,
321 +             TimeUnit::Months => f64::from(self.length) / 12.0,
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:322:32
    |
322 |             TimeUnit::Weeks => self.length as f64 / 52.0,
    |                                ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
322 -             TimeUnit::Weeks => self.length as f64 / 52.0,
322 +             TimeUnit::Weeks => f64::from(self.length) / 52.0,
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:323:31
    |
323 |             TimeUnit::Days => self.length as f64 / 365.0,
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
323 -             TimeUnit::Days => self.length as f64 / 365.0,
323 +             TimeUnit::Days => f64::from(self.length) / 365.0,
    |

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:880:9
    |
880 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: the following explicit lifetimes could be elided: 'de
   --> src/time/period.rs:355:14
    |
355 |         impl<'de> Visitor<'de> for PeriodVisitor {
    |              ^^^          ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
    |
355 -         impl<'de> Visitor<'de> for PeriodVisitor {
355 +         impl Visitor<'_> for PeriodVisitor {
    |

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:913:9
    |
913 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:945:9
    |
945 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/time/period.rs:460:19
    |
460 |     type Output = Period;
    |                   ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:463:9
    |
463 |         Period {
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:481:26
    |
481 |     type Output = Result<Period>;
    |                          ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: redundant clone
   --> src/time/period.rs:500:33
    |
500 | ...                   .to_string(),
    |                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:499:29
    |
499 | / ...                   format!("impossible addition between {result:?} and {other:?}")
500 | | ...                       .to_string(),
    | |__________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:506:77
    |
506 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                                                                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:506:29
    |
506 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:518:33
    |
518 | ...                   .to_string(),
    |                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:517:29
    |
517 | / ...                   format!("impossible addition between {result:?} and {other:?}")
518 | | ...                       .to_string(),
    | |__________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:524:77
    |
524 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                                                                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:524:29
    |
524 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:537:33
    |
537 | ...                   .to_string(),
    |                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:536:29
    |
536 | / ...                   format!("impossible addition between {result:?} and {other:?}")
537 | | ...                       .to_string(),
    | |__________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:543:77
    |
543 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                                                                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:543:29
    |
543 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:555:33
    |
555 | ...                   .to_string(),
    |                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:554:29
    |
554 | / ...                   format!("impossible addition between {result:?} and {other:?}")
555 | | ...                       .to_string(),
    | |__________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:561:77
    |
561 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                                                                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:561:29
    |
561 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:991:9
    |
991 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:504:21
    |
504 |                     _ => {
    |                     ^ help: try: `TimeUnit::Years`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:522:21
    |
522 |                     _ => {
    |                     ^ help: try: `TimeUnit::Months`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:541:21
    |
541 |                     _ => {
    |                     ^ help: try: `TimeUnit::Weeks`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefloatingrateinstrument.rs:1023:9
     |
1023 |         assert_eq!(instrument2.notional(), instrument.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:559:21
    |
559 |                     _ => {
    |                     ^ help: try: `TimeUnit::Days`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: unnecessary structure name repetition
   --> src/time/period.rs:584:26
    |
584 |     type Output = Result<Period>;
    |                          ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefloatingrateinstrument.rs:1031:9
     |
1031 |         assert_eq!(instrument2.spread(), instrument.spread());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/time/period.rs:603:19
    |
603 |     type Output = Period;
    |                   ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:606:9
    |
606 |         Period {
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefloatingrateinstrument.rs:1034:13
     |
1034 |             instrument2.currency().unwrap(),
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefloatingrateinstrument.rs:1035:13
     |
1035 |             instrument.currency().unwrap()
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many arguments (10/7)
   --> src/time/schedule.rs:92:5
    |
 92 | /     pub fn new(
 93 | |         tenor: Period,
 94 | |         calendar: Calendar,
 95 | |         convention: BusinessDayConvention,
...   |
102 | |         is_regular: Vec<bool>,
103 | |     ) -> Self {
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function has too many lines (336/100)
   --> src/time/schedule.rs:348:5
    |
348 |     pub fn build(&mut self) -> Result<Schedule> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/schedule.rs:387:17
    |
387 |                 _ => {
    |                 ^ help: try: `DateGenerationRule::ThirdWednesdayInclusive`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/schedule.rs:421:17
    |
421 |                 _ => {
    |                 ^ help: try: `DateGenerationRule::ThirdWednesdayInclusive`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: `if _ { .. } else { .. }` is an expression
   --> src/time/schedule.rs:458:17
    |
458 | /                 let mut exit_date = self.effective_date;
459 | |                 if self.first_date != Date::empty() {
460 | |                     exit_date = self.first_date;
461 | |                 }
    | |_________________^ help: it is more idiomatic to write: `let <mut> exit_date = if self.first_date != Date::empty() { self.first_date } else { self.effective_date };`
    |
    = note: you might not need `mut` at all
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_let_if_seq
    = note: `-D clippy::useless-let-if-seq` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::useless_let_if_seq)]`

error: unnecessary `!=` operation
   --> src/time/schedule.rs:450:21
    |
450 | /                     if temp != self.next_to_last_date {
451 | |                         self.is_regular.insert(0, false);
452 | |                     } else {
453 | |                         self.is_regular.insert(0, true);
454 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#if_not_else
    = note: `-D clippy::if-not-else` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::if_not_else)]`
help: try
    |
450 ~                     if temp == self.next_to_last_date {
451 +                         self.is_regular.insert(0, true);
452 +                     } else {
453 +                         self.is_regular.insert(0, false);
454 +                     }
    |

error: `if _ { .. } else { .. }` is an expression
   --> src/time/schedule.rs:576:17
    |
576 | /                 let mut exit_date = self.termination_date;
577 | |
578 | |                 if self.next_to_last_date != Date::empty() {
579 | |                     exit_date = self.next_to_last_date;
580 | |                 }
    | |_________________^ help: it is more idiomatic to write: `let <mut> exit_date = if self.next_to_last_date != Date::empty() { self.next_to_last_date } else { self.termination_date };`
    |
    = note: you might not need `mut` at all
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_let_if_seq

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:535:25
    |
535 |                 seed = *self.dates.last().unwrap();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary `!=` operation
   --> src/time/schedule.rs:545:21
    |
545 | /                     if temp != self.first_date {
546 | |                         self.is_regular.push(false);
547 | |                     } else {
548 | |                         self.is_regular.push(true);
549 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#if_not_else
help: try
    |
545 ~                     if temp == self.first_date {
546 +                         self.is_regular.push(true);
547 +                     } else {
548 +                         self.is_regular.push(false);
549 +                     }
    |

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:593:42
    |
593 | ...                   .adjust(*self.dates.last().unwrap(), Some(self.convention))
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:607:34
    |
607 |                         .adjust(*self.dates.last().unwrap(), Some(self.convention))
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:617:22
    |
617 |                     *self.dates.last().unwrap(),
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/time/schedule.rs:650:25
    |
650 |             for date in self.dates.iter_mut() {
    |                         ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut self.dates`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:687:74
    |
687 |         if self.dates.len() >= 2 && self.dates[self.dates.len() - 2] >= *self.dates.last().unwrap()
    |                                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:693:51
    |
693 |                     self.dates[dates_len - 2] == *self.dates.last().unwrap();
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:695:42
    |
695 |             self.dates[dates_len - 2] = *self.dates.last().unwrap();
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: docs for function returning `Result` missing `# Errors` section
  --> src/visitors/accruedamountconstvisitor.rs:29:5
   |
29 |     pub fn new(evaluation_date: Date, horizon: Period) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

error: this function has a `#[must_use]` attribute with no message, but returns a type already marked as `#[must_use]`
  --> src/visitors/accruedamountconstvisitor.rs:29:5
   |
29 |     pub fn new(evaluation_date: Date, horizon: Period) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: either add some descriptive message or remove the attribute
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#double_must_use
   = note: `-D clippy::double-must-use` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::double_must_use)]`

error: missing `#[must_use]` attribute on a method returning `Self`
  --> src/visitors/accruedamountconstvisitor.rs:42:5
   |
42 | /     pub const fn with_validate_currency(mut self, currency: Currency) -> Self {
43 | |         self.validation_currency = Some(currency);
44 | |         self
45 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: docs for function returning `Result` missing `# Errors` section
  --> src/visitors/accruedamountconstvisitor.rs:48:5
   |
48 |     pub fn accrued_amounts(&self) -> Result<BTreeMap<Date, f64>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:56:26
   |
56 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:54:9
   |
54 | /         self.redemptions
55 | |             .lock()
56 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
   = note: `-D clippy::unnecessary-result-map-or-else` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::unnecessary_result_map_or_else)]`
help: consider using `unwrap_or_else`
   |
54 ~         self.redemptions
55 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:64:26
   |
64 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:62:9
   |
62 | /         self.disbursements
63 | |             .lock()
64 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
help: consider using `unwrap_or_else`
   |
62 ~         self.disbursements
63 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:72:26
   |
72 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:70:9
   |
70 | /         self.interest
71 | |             .lock()
72 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
help: consider using `unwrap_or_else`
   |
70 ~         self.interest
71 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: this function has too many lines (159/100)
   --> src/visitors/cashflowcompressorconstvisitor.rs:191:5
    |
191 |     fn visit(&self, visitable: &T) -> Self::Output {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/durationconstvisitor.rs:33:6
   |
33 | impl<'a, T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'a> {
   |      ^^                                                          ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
33 - impl<'a, T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'a> {
33 + impl<T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'_> {
   |

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/npvconstvisitor.rs:37:6
   |
37 | impl<'a, T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'a> {
   |      ^^                                                     ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
37 - impl<'a, T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'a> {
37 + impl<T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'_> {
   |

error: used `cloned` where `copied` could be used instead
   --> src/visitors/parvaluevisitordoublerateinstrument.rs:123:18
    |
123 |                 .cloned()
    |                  ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/zspreadconstvisitor.rs:52:6
   |
52 | impl<'a, T> SpreadedNPV<'a, T>
   |      ^^                 ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
52 - impl<'a, T> SpreadedNPV<'a, T>
52 + impl<T> SpreadedNPV<'_, T>
   |

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/zspreadconstvisitor.rs:96:6
   |
96 | impl<'a, T> CostFunction for SpreadedNPV<'a, T>
   |      ^^                                  ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
96 - impl<'a, T> CostFunction for SpreadedNPV<'a, T>
96 + impl<T> CostFunction for SpreadedNPV<'_, T>
   |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/visitors/zspreadconstvisitor.rs:109:17
    |
109 | /                 match cf {
110 | |                     Cashflow::Disbursement(_) => Ok(acc),
111 | |                     _ => {
112 | |                         let cf_npv = self.cashflow_npv(cf, *param)?;
...   |
115 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
109 ~                 if let Cashflow::Disbursement(_) = cf { Ok(acc) } else {
110 +                     let cf_npv = self.cashflow_npv(cf, *param)?;
111 +                     Ok(acc + cf_npv)
112 +                 }
    |

error: the following explicit lifetimes could be elided: 'a
   --> src/visitors/zspreadconstvisitor.rs:121:6
    |
121 | impl<'a, T> ConstVisit<T> for ZSpreadConstVisitor<'a>
    |      ^^                                           ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
    |
121 - impl<'a, T> ConstVisit<T> for ZSpreadConstVisitor<'a>
121 + impl<T> ConstVisit<T> for ZSpreadConstVisitor<'_>
    |

error: strict comparison of `f32` or `f64`
   --> src/rates/interestrate.rs:158:12
    |
158 |         if compound == 1.0 {
    |            ^^^^^^^^^^^^^^^ help: consider comparing them within some margin of error: `(compound - 1.0).abs() < error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:209:36
    |
209 |             Compounding::Simple => 1.0 + rate * year_fraction,
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: this function has too many lines (303/100)
   --> src/rates/interestrate.rs:268:5
    |
268 |     fn test_cases() -> Vec<InterestRateData> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/rates/interestrate.rs:597:23
    |
597 |                     < (test_case.precision as f64) / 100.0
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: strict comparison of `f32` or `f64`
   --> src/rates/interestrate.rs:630:9
    |
630 |         assert_eq!(ir.rate(), 0.05);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/rates/interestrate.rs:644:9
    |
644 |         assert_eq!(ir.rate(), 0.05);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/rates/interestrate.rs:656:18
    |
656 |           let ir = InterestRate::implied_rate(
    |  __________________^
657 | |             1.05,
658 | |             DayCounter::Actual360,
659 | |             Compounding::Simple,
...   |
663 | |         .unwrap();
    | |_________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function's return value is unnecessary
   --> src/rates/interestrateindex/iborindex.rs:279:5
    |
279 |     fn test_fixing_interpolation_ibor() -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove the return type...
    |
279 -     fn test_fixing_interpolation_ibor() -> Result<()> {
279 +     fn test_fixing_interpolation_ibor() -> () {
    |
help: ...and then remove returned values
    |
300 -         Ok(())
    |

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/iborindex.rs:287:10
    |
287 |         .cloned()
    |          ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: redundant clone
   --> src/rates/interestrateindex/iborindex.rs:330:34
    |
330 |             spread_term_structure.clone(),
    |                                  ^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/interestrateindex/iborindex.rs:330:13
    |
330 |             spread_term_structure.clone(),
    |             ^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: could not compile `rustatlas` (lib) due to 402 previous errors
warning: build failed, waiting for other jobs to finish...
error: strict comparison of `f32` or `f64`
   --> src/time/daycounter.rs:195:9
    |
195 |         assert_ne!(yf_1, yf_2);
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_ne` (in Nightly builds, run with -Z macro-backtrace for more info)

error: variables can be used directly in the `format!` string
   --> src/time/imm.rs:114:23
    |
114 |             Err(e) => panic!("Invalid IMM year number: {}", e),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
114 -             Err(e) => panic!("Invalid IMM year number: {}", e),
114 +             Err(e) => panic!("Invalid IMM year number: {e}"),
    |

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:417:9
    |
417 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:468:9
    |
468 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:521:9
    |
521 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:573:9
    |
573 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:632:9
    |
632 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: adding items after statements is confusing, since items exist from the start of the scope
   --> src/visitors/durationconstvisitor.rs:217:9
    |
217 | /         fn duration(instruments: &mut [FixedRateInstrument]) -> f64 {
218 | |             let store = create_store()
219 | |                 .unwrap_or_else(|e| panic!("market store creation should succeed: {e}"));
220 | |             let mut duration = 0.0;
...   |
239 | |             duration
240 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements
    = note: `-D clippy::items-after-statements` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::items_after_statements)]`

error: strict comparison of `f32` or `f64`
   --> src/visitors/npvconstvisitor.rs:303:9
    |
303 |         assert_ne!(npv, 0.0);
    |         ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_ne` (in Nightly builds, run with -Z macro-backtrace for more info)

error: this function's return value is unnecessary
   --> src/visitors/npvconstvisitor.rs:356:5
    |
356 |     fn generator_tests() -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove the return type...
    |
356 -     fn generator_tests() -> Result<()> {
356 +     fn generator_tests() -> () {
    |
help: ...and then remove returned values
    |
419 -         Ok(())
    |

error: adding items after statements is confusing, since items exist from the start of the scope
   --> src/visitors/npvconstvisitor.rs:390:9
    |
390 | /         fn npv(instruments: &mut [FixedRateInstrument]) -> f64 {
391 | |             let store =
392 | |                 create_store().unwrap_or_else(|e| panic!("market store creation should succeed: {e}"));
393 | |             let mut npv = 0.0;
...   |
412 | |             npv
413 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

error: could not compile `rustatlas` (lib test) due to 511 previous errors
