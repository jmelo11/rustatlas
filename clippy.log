    Checking rustatlas v0.1.0 (/Users/josemelo/Desktop/dev/libs/rustatlas)
error: this could be a `const fn`
  --> src/alm/cashaccount.rs:31:5
   |
31 | /     pub fn new() -> Self {
32 | |         Self {
33 | |             amount: RefCell::new(BTreeMap::new()),
34 | |             currency: None,
35 | |         }
36 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
   = note: `-D clippy::missing-const-for-fn` implied by `-D clippy::nursery`
   = help: to override `-D clippy::nursery` add `#[allow(clippy::missing_const_for_fn)]`
help: make the function `const`
   |
31 |     pub const fn new() -> Self {
   |         +++++

error: this function has too many arguments (9/7)
  --> src/alm/positiongenerator.rs:53:5
   |
53 | /     pub const fn new(
54 | |         weight: f64,
55 | |         structure: Structure,
56 | |         payment_frequency: Frequency,
...  |
62 | |         forecast_curve_id: Option<usize>,
63 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments
   = note: `-D clippy::too-many-arguments` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::too_many_arguments)]`

error: consider adding a `;` to the last statement for consistent formatting
   --> src/cashflows/cashflow.rs:231:13
    |
231 |             coupon.set_fixing_rate(fixing_rate)
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `coupon.set_fixing_rate(fixing_rate);`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
    = note: `-D clippy::semicolon-if-nothing-returned` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::semicolon_if_nothing_returned)]`

error: this function has too many arguments (9/7)
  --> src/cashflows/floatingratecoupon.rs:51:5
   |
51 | /     pub fn new(
52 | |         notional: f64,
53 | |         spread: f64,
54 | |         accrual_start_date: Date,
...  |
60 | |         side: Side,
61 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this could be a `const fn`
  --> src/cashflows/floatingratecoupon.rs:95:5
   |
95 | /     pub fn set_forecast_curve_id(&mut self, id: usize) {
96 | |         self.forecast_curve_id = Some(id);
97 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
95 |     pub const fn set_forecast_curve_id(&mut self, id: usize) {
   |         +++++

error: this could be a `const fn`
   --> src/cashflows/floatingratecoupon.rs:109:5
    |
109 | /     pub fn set_notional(&mut self, notional: f64) {
110 | |         self.notional = notional;
111 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
109 |     pub const fn set_notional(&mut self, notional: f64) {
    |         +++++

error: used `unwrap()` on a `Result` value
   --> src/cashflows/floatingratecoupon.rs:173:23
    |
173 |           let accrual = self
    |  _______________________^
174 | |             .accrued_amount(self.accrual_start_date, self.accrual_end_date)
175 | |             .unwrap();
    | |_____________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used
    = note: requested on the command line with `-D clippy::unwrap-used`

error: this could be a `const fn`
  --> src/cashflows/simplecashflow.rs:40:5
   |
40 | /     pub fn new(payment_date: Date, currency: Currency, side: Side) -> SimpleCashflow {
41 | |         Self {
42 | |             payment_date,
43 | |             currency,
...  |
49 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
40 |     pub const fn new(payment_date: Date, currency: Currency, side: Side) -> SimpleCashflow {
   |         +++++

error: unnecessary structure name repetition
  --> src/cashflows/simplecashflow.rs:40:71
   |
40 |     pub fn new(payment_date: Date, currency: Currency, side: Side) -> SimpleCashflow {
   |                                                                       ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self
   = note: `-D clippy::use-self` implied by `-D clippy::nursery`
   = help: to override `-D clippy::nursery` add `#[allow(clippy::use_self)]`

error: this could be a `const fn`
  --> src/cashflows/simplecashflow.rs:73:5
   |
73 | /     pub fn set_discount_curve_id(&mut self, id: usize) {
74 | |         self.discount_curve_id = Some(id);
75 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
73 |     pub const fn set_discount_curve_id(&mut self, id: usize) {
   |         +++++

error: this could be a `const fn`
  --> src/cashflows/simplecashflow.rs:78:5
   |
78 | /     pub fn set_amount(&mut self, amount: f64) {
79 | |         self.amount = Some(amount);
80 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
78 |     pub const fn set_amount(&mut self, amount: f64) {
   |         +++++

error: use Option::map_or_else instead of an if let/else
   --> src/core/marketstore.rs:181:27
    |
181 |               indice_name = match indice.read_index() {
    |  ___________________________^
182 | |                 Ok(indice) => indice.name().unwrap_or_default(),
183 | |                 Err(_) => String::new(),
184 | |             };
    | |_____________^ help: try: `indice.read_index().map_or_else(|_| String::new(), |indice| indice.name().unwrap_or_default())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
    = note: `-D clippy::option-if-let-else` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::option_if_let_else)]`

error: redundant closure
   --> src/core/marketstore.rs:198:47
    |
198 |                     .map_or_else(String::new, |idx| idx.to_string());
    |                                               ^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::string::ToString::to_string`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls
    = note: `-D clippy::redundant-closure-for-method-calls` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::redundant_closure_for_method_calls)]`

error: this could be a `const fn`
  --> src/core/meta.rs:26:5
   |
26 | /     pub fn new(
27 | |         first_currency: Currency,
28 | |         second_currency: Option<Currency>,
29 | |         reference_date: Option<Date>,
...  |
36 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
26 |     pub const fn new(
   |         +++++

error: unnecessary structure name repetition
  --> src/core/meta.rs:30:10
   |
30 |     ) -> ExchangeRateRequest {
   |          ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/core/meta.rs:31:9
   |
31 |         ExchangeRateRequest {
   |         ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/core/meta.rs:73:57
   |
73 |     pub const fn new(provider_id: usize, date: Date) -> DiscountFactorRequest {
   |                                                         ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/core/meta.rs:74:9
   |
74 |         DiscountFactorRequest { provider_id, date }
   |         ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/core/meta.rs:120:10
    |
120 |     ) -> ForwardRateRequest {
    |          ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/core/meta.rs:121:9
    |
121 |         ForwardRateRequest {
    |         ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/core/meta.rs:186:10
    |
186 |     ) -> MarketRequest {
    |          ^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/core/meta.rs:187:9
    |
187 |         MarketRequest { id, df, fwd, fx }
    |         ^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/core/meta.rs:243:10
    |
243 |     ) -> MarketData {
    |          ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/core/meta.rs:244:9
    |
244 |         MarketData {
    |         ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/currencies/enums.rs:181:50
    |
181 |               _ => Err(AtlasError::InvalidValueErr(format!(
    |  __________________________________________________^
182 | |                 "Invalid currency: {}",
183 | |                 s
184 | |             ))),
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
    = note: `-D clippy::uninlined-format-args` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::uninlined_format_args)]`

error: unnecessary structure name repetition
  --> src/currencies/exchangeratestore.rs:31:31
   |
31 |     pub fn new(date: Date) -> ExchangeRateStore {
   |                               ^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/currencies/exchangeratestore.rs:32:9
   |
32 |         ExchangeRateStore {
   |         ^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: temporary with significant `Drop` can be early dropped
   --> src/currencies/exchangeratestore.rs:84:17
    |
 69 |       pub fn get_exchange_rate(&self, first_ccy: Currency, second_ccy: Currency) -> Result<f64> {
    |  _______________________________________________________________________________________________-
 70 | |         if first_ccy == second_ccy {
 71 | |             return Ok(1.0);
...   |
 84 | |         let mut mutable_cache = self.exchange_rate_cache.lock().unwrap();
    | |                 ^^^^^^^^^^^^^
...   |
111 | |         )))
112 | |     }
    | |_____- temporary `mutable_cache` is currently being dropped at the end of its contained scope
    |
    = note: this might lead to unnecessary resource contention
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#significant_drop_tightening
    = note: `-D clippy::significant-drop-tightening` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::significant_drop_tightening)]`
help: drop the temporary after the end of its last usage
    |
100 ~                         mutable_cache.insert((second_ccy, first_ccy), 1.0 / new_rate);
101 +                         drop(mutable_cache);
    |

error: used `unwrap()` on a `Result` value
  --> src/currencies/exchangeratestore.rs:75:36
   |
75 |         if let Some(cached_rate) = self.exchange_rate_cache.lock().unwrap().get(&cache_key) {
   |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
  --> src/currencies/exchangeratestore.rs:84:33
   |
84 |         let mut mutable_cache = self.exchange_rate_cache.lock().unwrap();
   |                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: variables can be used directly in the `format!` string
   --> src/currencies/exchangeratestore.rs:108:37
    |
108 |           Err(AtlasError::NotFoundErr(format!(
    |  _____________________________________^
109 | |             "No exchange rate found between {:?} and {:?}",
110 | |             first_ccy, second_ccy
111 | |         )))
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
   --> src/currencies/exchangeratestore.rs:132:29
    |
132 |         let mut new_store = ExchangeRateStore::new(date);
    |                             ^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/currencies/exchangeratestore.rs:133:35
    |
133 |         for ((ccy1, ccy2), fx) in self.exchange_rate_map.iter() {
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.exchange_rate_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop
    = note: `-D clippy::explicit-iter-loop` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::explicit_iter_loop)]`

error: this function has too many arguments (18/7)
  --> src/instruments/doublerateinstrument.rs:46:5
   |
46 | /     pub const fn new(
47 | |         start_date: Date,
48 | |         end_date: Date,
49 | |         notional: f64,
...  |
64 | |         cashflows: Vec<Cashflow>,
65 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: unnecessary structure name repetition
  --> src/instruments/doublerateinstrument.rs:66:9
   |
66 |         DoubleRateInstrument {
   |         ^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: struct constructor field order is inconsistent with struct definition field order
  --> src/instruments/doublerateinstrument.rs:67:13
   |
67 | /             start_date,
68 | |             end_date,
69 | |             notional,
70 | |             notional_at_change_rate,
...  |
83 | |             discount_curve_id,
84 | |             cashflows,
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#inconsistent_struct_constructor
   = note: `-D clippy::inconsistent-struct-constructor` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::inconsistent_struct_constructor)]`
help: try
   |
67 ~             start_date,
68 +             end_date,
69 +             notional,
70 +             notional_at_change_rate,
71 +             payment_frequency,
72 +             rate_type,
73 +             side,
74 +             currency,
75 +             id,
76 +             issue_date,
77 +             change_rate_date,
78 +             first_rate_definition,
79 +             first_rate,
80 +             second_rate_definition,
81 +             second_rate,
82 +             forecast_curve_id,
83 +             discount_curve_id,
84 ~             cashflows,
   |

error: this function has too many arguments (13/7)
  --> src/instruments/fixedrateinstrument.rs:47:5
   |
47 | /     pub const fn new(
48 | |         start_date: Date,
49 | |         end_date: Date,
50 | |         notional: f64,
...  |
60 | |         yield_rate: Option<InterestRate>,
61 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: unnecessary structure name repetition
  --> src/instruments/fixedrateinstrument.rs:62:9
   |
62 |         FixedRateInstrument {
   |         ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: doc comment uses two spaces for a hard line break
   --> src/instruments/fixedrateinstrument.rs:170:59
    |
170 | /// Implements fixed rate bond accrual using a yield rate.  
    |                                                           ^^
    |
    = help: replace this double space with a backslash: `\`
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_comment_double_space_linebreaks
    = note: `-D clippy::doc-comment-double-space-linebreaks` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::doc_comment_double_space_linebreaks)]`

error: needless use of `for_each`
   --> src/instruments/fixedrateinstrument.rs:210:9
    |
210 | /         cashflows.iter().for_each(|cf| {
211 | |             //amount += cf.amount().unwrap() / rate.discount_factor(cf.payment_date(), to);
212 | |             amount += cf.amount().unwrap();
213 | |         });
    | |___________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
    = note: `-D clippy::needless-for-each` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_for_each)]`
help: try
    |
210 ~         for cf in cashflows.iter() {
211 +             //amount += cf.amount().unwrap() / rate.discount_factor(cf.payment_date(), to);
212 +             amount += cf.amount().unwrap();
213 +         }
    |

error: used `unwrap()` on a `Result` value
   --> src/instruments/fixedrateinstrument.rs:212:23
    |
212 |             amount += cf.amount().unwrap();
    |                       ^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/fixedrateinstrument.rs:231:27
    |
231 |                 let npv = cf.amount().unwrap()
    |                           ^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many arguments (14/7)
  --> src/instruments/floatingrateinstrument.rs:52:5
   |
52 | /     pub const fn new(
53 | |         start_date: Date,
54 | |         end_date: Date,
55 | |         notional: f64,
...  |
66 | |         issue_date: Option<Date>,
67 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: unnecessary structure name repetition
  --> src/instruments/floatingrateinstrument.rs:68:9
   |
68 |         FloatingRateInstrument {
   |         ^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this function has too many arguments (17/7)
  --> src/instruments/hybridrateinstrument.rs:39:5
   |
39 | /     pub const fn new(
40 | |         start_date: Date,
41 | |         end_date: Date,
42 | |         notional: f64,
...  |
56 | |         cashflows: Vec<Cashflow>,
57 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: unnecessary structure name repetition
  --> src/instruments/hybridrateinstrument.rs:58:9
   |
58 |         HybridRateInstrument {
   |         ^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: struct constructor field order is inconsistent with struct definition field order
  --> src/instruments/hybridrateinstrument.rs:59:13
   |
59 | /             start_date,
60 | |             end_date,
61 | |             notional,
62 | |             payment_frequency,
...  |
74 | |             discount_curve_id,
75 | |             cashflows,
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#inconsistent_struct_constructor
help: try
   |
59 ~             start_date,
60 +             end_date,
61 +             notional,
62 +             payment_frequency,
63 +             structure,
64 +             rate_type,
65 +             side,
66 +             currency,
67 +             id,
68 +             issue_date,
69 +             first_rate_definition,
70 +             first_rate,
71 +             second_rate_definition,
72 +             second_rate,
73 +             forecast_curve_id,
74 +             discount_curve_id,
75 ~             cashflows,
   |

error: use Option::map_or_else instead of an if let/else
   --> src/instruments/hybridrateinstrument.rs:186:9
    |
186 | /         match self.currency {
187 | |             Some(currency) => Ok(currency),
188 | |             None => Err(AtlasError::NotFoundErr("Currency not found".to_string())),
189 | |         }
    | |_________^ help: try: `self.currency.map_or_else(|| Err(AtlasError::NotFoundErr("Currency not found".to_string())), |currency| Ok(currency))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:41:27
   |
41 |             "Fixed" => Ok(RateType::Fixed),
   |                           ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:42:30
   |
42 |             "Floating" => Ok(RateType::Floating),
   |                              ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:43:39
   |
43 |             "FixedThenFloating" => Ok(RateType::FixedThenFloating),
   |                                       ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:44:39
   |
44 |             "FloatingThenFixed" => Ok(RateType::FloatingThenFixed),
   |                                       ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:45:36
   |
45 |             "FixedThenFixed" => Ok(RateType::FixedThenFixed),
   |                                    ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:46:29
   |
46 |             "Suffled" => Ok(RateType::Suffled),
   |                             ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/instruments/instrument.rs:47:50
   |
47 |               _ => Err(AtlasError::InvalidValueErr(format!(
   |  __________________________________________________^
48 | |                 "Invalid rate type: {}",
49 | |                 s
50 | |             ))),
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:86:13
   |
86 |             Instrument::FixedRateInstrument(fri) => fri.cashflows(),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:87:13
   |
87 |             Instrument::FloatingRateInstrument(fri) => fri.cashflows(),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:88:13
   |
88 |             Instrument::HybridRateInstrument(hri) => hri.cashflows(),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:89:13
   |
89 |             Instrument::DoubleRateInstrument(dri) => dri.cashflows(),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:95:13
   |
95 |             Instrument::FixedRateInstrument(fri) => fri.mut_cashflows(),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:96:13
   |
96 |             Instrument::FloatingRateInstrument(fri) => fri.mut_cashflows(),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:97:13
   |
97 |             Instrument::HybridRateInstrument(hri) => hri.mut_cashflows(),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/instrument.rs:98:13
   |
98 |             Instrument::DoubleRateInstrument(dri) => dri.mut_cashflows(),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:106:5
    |
106 | /     pub fn notional(&self) -> f64 {
107 | |         match self {
108 | |             Instrument::FixedRateInstrument(fri) => fri.notional(),
109 | |             Instrument::FloatingRateInstrument(fri) => fri.notional(),
...   |
113 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
106 |     pub const fn notional(&self) -> f64 {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:108:13
    |
108 |             Instrument::FixedRateInstrument(fri) => fri.notional(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:109:13
    |
109 |             Instrument::FloatingRateInstrument(fri) => fri.notional(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:110:13
    |
110 |             Instrument::HybridRateInstrument(hri) => hri.notional(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:111:13
    |
111 |             Instrument::DoubleRateInstrument(dri) => dri.notional(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:117:5
    |
117 | /     pub fn start_date(&self) -> Date {
118 | |         match self {
119 | |             Instrument::FixedRateInstrument(fri) => fri.start_date(),
120 | |             Instrument::FloatingRateInstrument(fri) => fri.start_date(),
...   |
124 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
117 |     pub const fn start_date(&self) -> Date {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:119:13
    |
119 |             Instrument::FixedRateInstrument(fri) => fri.start_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:120:13
    |
120 |             Instrument::FloatingRateInstrument(fri) => fri.start_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:121:13
    |
121 |             Instrument::HybridRateInstrument(hri) => hri.start_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:122:13
    |
122 |             Instrument::DoubleRateInstrument(dri) => dri.start_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:128:5
    |
128 | /     pub fn end_date(&self) -> Date {
129 | |         match self {
130 | |             Instrument::FixedRateInstrument(fri) => fri.end_date(),
131 | |             Instrument::FloatingRateInstrument(fri) => fri.end_date(),
...   |
135 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
128 |     pub const fn end_date(&self) -> Date {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:130:13
    |
130 |             Instrument::FixedRateInstrument(fri) => fri.end_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:131:13
    |
131 |             Instrument::FloatingRateInstrument(fri) => fri.end_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:132:13
    |
132 |             Instrument::HybridRateInstrument(hri) => hri.end_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:133:13
    |
133 |             Instrument::DoubleRateInstrument(dri) => dri.end_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:141:13
    |
141 |             Instrument::FixedRateInstrument(fri) => fri.id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:142:13
    |
142 |             Instrument::FloatingRateInstrument(fri) => fri.id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:143:13
    |
143 |             Instrument::HybridRateInstrument(hri) => hri.id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:144:13
    |
144 |             Instrument::DoubleRateInstrument(dri) => dri.id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/instrument.rs:155:13
    |
155 |             _ => todo!(),
    |             ^ help: try: `Instrument::DoubleRateInstrument(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants
    = note: `-D clippy::match-wildcard-for-single-variants` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::match_wildcard_for_single_variants)]`

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:152:13
    |
152 |             Instrument::FixedRateInstrument(fri) => fri.structure(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:153:13
    |
153 |             Instrument::FloatingRateInstrument(fri) => fri.structure(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:154:13
    |
154 |             Instrument::HybridRateInstrument(hri) => hri.structure(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:161:5
    |
161 | /     pub fn payment_frequency(&self) -> Frequency {
162 | |         match self {
163 | |             Instrument::FixedRateInstrument(fri) => fri.payment_frequency(),
164 | |             Instrument::FloatingRateInstrument(fri) => fri.payment_frequency(),
...   |
168 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
161 |     pub const fn payment_frequency(&self) -> Frequency {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:163:13
    |
163 |             Instrument::FixedRateInstrument(fri) => fri.payment_frequency(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:164:13
    |
164 |             Instrument::FloatingRateInstrument(fri) => fri.payment_frequency(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:165:13
    |
165 |             Instrument::HybridRateInstrument(hri) => hri.payment_frequency(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:166:13
    |
166 |             Instrument::DoubleRateInstrument(dri) => dri.payment_frequency(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:172:5
    |
172 | /     pub fn side(&self) -> Option<Side> {
173 | |         match self {
174 | |             Instrument::FixedRateInstrument(fri) => Some(fri.side()),
175 | |             Instrument::FloatingRateInstrument(fri) => Some(fri.side()),
...   |
179 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
172 |     pub const fn side(&self) -> Option<Side> {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:174:13
    |
174 |             Instrument::FixedRateInstrument(fri) => Some(fri.side()),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:175:13
    |
175 |             Instrument::FloatingRateInstrument(fri) => Some(fri.side()),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:176:13
    |
176 |             Instrument::HybridRateInstrument(hri) => hri.side(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:177:13
    |
177 |             Instrument::DoubleRateInstrument(dri) => Some(dri.side()),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:183:5
    |
183 | /     pub fn issue_date(&self) -> Option<Date> {
184 | |         match self {
185 | |             Instrument::FixedRateInstrument(fri) => fri.issue_date(),
186 | |             Instrument::FloatingRateInstrument(fri) => fri.issue_date(),
...   |
190 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
183 |     pub const fn issue_date(&self) -> Option<Date> {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:185:13
    |
185 |             Instrument::FixedRateInstrument(fri) => fri.issue_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:186:13
    |
186 |             Instrument::FloatingRateInstrument(fri) => fri.issue_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:187:13
    |
187 |             Instrument::HybridRateInstrument(hri) => hri.issue_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:188:13
    |
188 |             Instrument::DoubleRateInstrument(dri) => dri.issue_date(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:194:5
    |
194 | /     pub fn rate_type(&self) -> RateType {
195 | |         match self {
196 | |             Instrument::FixedRateInstrument(_) => RateType::Fixed,
197 | |             Instrument::FloatingRateInstrument(_) => RateType::Floating,
...   |
201 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
194 |     pub const fn rate_type(&self) -> RateType {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:196:13
    |
196 |             Instrument::FixedRateInstrument(_) => RateType::Fixed,
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:197:13
    |
197 |             Instrument::FloatingRateInstrument(_) => RateType::Floating,
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:198:13
    |
198 |             Instrument::HybridRateInstrument(hri) => hri.rate_type(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:199:13
    |
199 |             Instrument::DoubleRateInstrument(dri) => dri.rate_type(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:207:13
    |
207 |             Instrument::FixedRateInstrument(fri) => Some(fri.rate().rate()),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:208:13
    |
208 |             Instrument::FloatingRateInstrument(_) => None,
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:209:13
    |
209 |             Instrument::HybridRateInstrument(_) => todo!(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:210:13
    |
210 |             Instrument::DoubleRateInstrument(_) => todo!(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:218:13
    |
218 |             Instrument::FixedRateInstrument(_) => None,
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:219:13
    |
219 |             Instrument::FloatingRateInstrument(fri) => Some(fri.spread()),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:220:13
    |
220 |             Instrument::HybridRateInstrument(_) => todo!(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:221:13
    |
221 |             Instrument::DoubleRateInstrument(_) => todo!(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:227:5
    |
227 | /     pub fn forecast_curve_id(&self) -> Option<usize> {
228 | |         match self {
229 | |             Instrument::FixedRateInstrument(_) => None,
230 | |             Instrument::FloatingRateInstrument(fri) => fri.forecast_curve_id(),
...   |
234 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
227 |     pub const fn forecast_curve_id(&self) -> Option<usize> {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:229:13
    |
229 |             Instrument::FixedRateInstrument(_) => None,
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:230:13
    |
230 |             Instrument::FloatingRateInstrument(fri) => fri.forecast_curve_id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:231:13
    |
231 |             Instrument::HybridRateInstrument(hri) => hri.forecast_curve_id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:232:13
    |
232 |             Instrument::DoubleRateInstrument(dri) => dri.forecast_curve_id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:238:5
    |
238 | /     pub fn discount_curve_id(&self) -> Option<usize> {
239 | |         match self {
240 | |             Instrument::FixedRateInstrument(fri) => fri.discount_curve_id(),
241 | |             Instrument::FloatingRateInstrument(fri) => fri.discount_curve_id(),
...   |
245 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
238 |     pub const fn discount_curve_id(&self) -> Option<usize> {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:240:13
    |
240 |             Instrument::FixedRateInstrument(fri) => fri.discount_curve_id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:241:13
    |
241 |             Instrument::FloatingRateInstrument(fri) => fri.discount_curve_id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:242:13
    |
242 |             Instrument::HybridRateInstrument(hri) => hri.discount_curve_id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:243:13
    |
243 |             Instrument::DoubleRateInstrument(dri) => dri.discount_curve_id(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:250:13
    |
250 |             Instrument::FixedRateInstrument(fri) => fri.set_discount_curve_id(id),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:251:13
    |
251 |             Instrument::FloatingRateInstrument(fri) => fri.set_discount_curve_id(id),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:252:13
    |
252 |             Instrument::HybridRateInstrument(hri) => hri.set_discount_curve_id(id),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:253:13
    |
253 |             Instrument::DoubleRateInstrument(dri) => dri.set_discount_curve_id(id),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/instrument.rs:263:13
    |
263 |             _ => {}
    |             ^ help: try: `Instrument::FixedRateInstrument(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:260:13
    |
260 |             Instrument::FloatingRateInstrument(fri) => fri.set_forecast_curve_id(id),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:261:13
    |
261 |             Instrument::HybridRateInstrument(hri) => hri.set_forecast_curve_id(id),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:262:13
    |
262 |             Instrument::DoubleRateInstrument(dri) => dri.set_forecast_curve_id(id),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:269:5
    |
269 | /     pub fn first_rate_definition(&self) -> Option<RateDefinition> {
270 | |         match self {
271 | |             Instrument::FixedRateInstrument(fri) => Some(fri.rate().rate_definition()),
272 | |             Instrument::FloatingRateInstrument(fri) => Some(fri.rate_definition()),
...   |
276 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
269 |     pub const fn first_rate_definition(&self) -> Option<RateDefinition> {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:271:13
    |
271 |             Instrument::FixedRateInstrument(fri) => Some(fri.rate().rate_definition()),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:272:13
    |
272 |             Instrument::FloatingRateInstrument(fri) => Some(fri.rate_definition()),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:273:13
    |
273 |             Instrument::HybridRateInstrument(hri) => hri.first_rate_definition(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:274:13
    |
274 |             Instrument::DoubleRateInstrument(dri) => dri.first_rate_definition(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/instrument.rs:280:5
    |
280 | /     pub fn second_rate_definition(&self) -> Option<RateDefinition> {
281 | |         match self {
282 | |             Instrument::FixedRateInstrument(_) => None,
283 | |             Instrument::FloatingRateInstrument(_) => None,
...   |
287 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
280 |     pub const fn second_rate_definition(&self) -> Option<RateDefinition> {
    |         +++++

error: these match arms have identical bodies
   --> src/instruments/instrument.rs:282:13
    |
282 |             Instrument::FixedRateInstrument(_) => None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
283 |             Instrument::FloatingRateInstrument(_) => None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
    = note: `-D clippy::match-same-arms` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::match_same_arms)]`
help: otherwise merge the patterns into a single arm
    |
282 -             Instrument::FixedRateInstrument(_) => None,
283 -             Instrument::FloatingRateInstrument(_) => None,
282 +             Instrument::FixedRateInstrument(_) | Instrument::FloatingRateInstrument(_) => None,
    |

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:282:13
    |
282 |             Instrument::FixedRateInstrument(_) => None,
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:283:13
    |
283 |             Instrument::FloatingRateInstrument(_) => None,
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:284:13
    |
284 |             Instrument::HybridRateInstrument(hri) => hri.second_rate_definition(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:285:13
    |
285 |             Instrument::DoubleRateInstrument(dri) => dri.second_rate_definition(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:293:13
    |
293 |             Instrument::FixedRateInstrument(fri) => fri.currency(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:294:13
    |
294 |             Instrument::FloatingRateInstrument(fri) => fri.currency(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:295:13
    |
295 |             Instrument::HybridRateInstrument(hri) => hri.currency(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/instrument.rs:296:13
    |
296 |             Instrument::DoubleRateInstrument(dri) => dri.currency(),
    |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this function has too many arguments (9/7)
  --> src/instruments/leg.rs:27:5
   |
27 | /     pub const fn new(
28 | |         structure: Structure,
29 | |         rate_type: RateType,
30 | |         rate_value: f64,
...  |
36 | |         cashflows: Vec<Cashflow>,
37 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: unnecessary structure name repetition
  --> src/instruments/leg.rs:38:9
   |
38 |         Leg {
   |         ^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: needless use of `for_each`
   --> src/alm/cashaccount.rs:192:9
    |
192 | /         cash_account.iter().for_each(|(date, amount)| {
193 | |             println!("{}: {}", date, amount);
194 | |         });
    | |___________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
    = note: `-D clippy::needless-for-each` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_for_each)]`
help: try
    |
192 ~         for (date, amount) in cash_account.iter() {
193 +             println!("{}: {}", date, amount);
194 +         }
    |

error: variables can be used directly in the `format!` string
   --> src/alm/cashaccount.rs:193:13
    |
193 |             println!("{}: {}", date, amount);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
    = note: `-D clippy::uninlined-format-args` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::uninlined_format_args)]`
help: change this to
    |
193 -             println!("{}: {}", date, amount);
193 +             println!("{date}: {amount}");
    |

error: needless use of `for_each`
   --> src/alm/cashaccount.rs:251:9
    |
251 | /         cash_account.iter().for_each(|(date, amount)| {
252 | |             println!("{}: {}", date, amount);
253 | |         });
    | |___________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
251 ~         for (date, amount) in cash_account.iter() {
252 +             println!("{}: {}", date, amount);
253 +         }
    |

error: variables can be used directly in the `format!` string
   --> src/alm/cashaccount.rs:252:13
    |
252 |             println!("{}: {}", date, amount);
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
252 -             println!("{}: {}", date, amount);
252 +             println!("{date}: {amount}");
    |

error: this function's return value is unnecessarily wrapped by `Result`
   --> src/alm/rolloversimulationengine.rs:239:5
    |
239 |     pub fn get_outstandings_at_date(instruments: &[Instrument], eval_date: Date) -> Result<f64> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
    = note: `-D clippy::unnecessary-wraps` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::unnecessary_wraps)]`
help: remove `Result` from the return type...
    |
239 -     pub fn get_outstandings_at_date(instruments: &[Instrument], eval_date: Date) -> Result<f64> {
239 +     pub fn get_outstandings_at_date(instruments: &[Instrument], eval_date: Date) -> f64 {
    |
help: ...and then remove the surrounding `Ok()` from returning expressions
    |
262 -         Ok(outstanding)
262 +         outstanding
    |

error: these match arms have identical bodies
   --> src/alm/rolloversimulationengine.rs:245:21
    |
245 | /                     Cashflow::Disbursement(f) => {
246 | |                         let payment_date = f.payment_date();
247 | |                         if payment_date <= eval_date {
248 | |                             local_sum += f.amount().unwrap() * f.side().sign();
249 | |                         }
250 | |                     }
    | |_____________________^
251 | /                     Cashflow::Redemption(f) => {
252 | |                         let payment_date = f.payment_date();
253 | |                         if payment_date <= eval_date {
254 | |                             local_sum += f.amount().unwrap() * f.side().sign();
255 | |                         }
256 | |                     }
    | |_____________________^
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
    = note: `-D clippy::match-same-arms` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::match_same_arms)]`
help: otherwise merge the patterns into a single arm
    |
245 -                     Cashflow::Disbursement(f) => {
246 -                         let payment_date = f.payment_date();
247 -                         if payment_date <= eval_date {
248 -                             local_sum += f.amount().unwrap() * f.side().sign();
249 -                         }
250 -                     }
251 -                     Cashflow::Redemption(f) => {
245 +                     Cashflow::Disbursement(f) | Cashflow::Redemption(f) => {
    |

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:248:42
    |
248 | ...                   local_sum += f.amount().unwrap() * f.side().sign();
    |                                    ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used
    = note: requested on the command line with `-D clippy::unwrap-used`

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:254:42
    |
254 | ...                   local_sum += f.amount().unwrap() * f.side().sign();
    |                                    ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many lines (220/100)
   --> src/instruments/loandepo.rs:151:5
    |
151 |     fn try_from(value: LoanDepo) -> Result<Instrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines
    = note: `-D clippy::too-many-lines` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::too_many_lines)]`

error: unnecessary structure name repetition
   --> src/instruments/loandepo.rs:151:44
    |
151 |     fn try_from(value: LoanDepo) -> Result<Instrument> {
    |                                            ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:345:28
    |
345 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/instruments/loandepo.rs:332:20
    |
332 |                 Ok(Instrument::FixedRateInstrument(instrument))
    |                    ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/loandepo.rs:370:20
    |
370 |                 Ok(Instrument::FloatingRateInstrument(instrument))
    |                    ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:396:9
    |
396 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: `-D clippy::float-cmp` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::float_cmp)]`
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:400:9
    |
400 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: item in documentation is missing backticks
  --> src/instruments/makedoublerateinstrument.rs:63:35
   |
63 |     /// Creates a new instance of MakeDoubleRateInstrument with default values.
   |                                   ^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
   = note: `-D clippy::doc-markdown` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::doc_markdown)]`
help: try
   |
63 -     /// Creates a new instance of MakeDoubleRateInstrument with default values.
63 +     /// Creates a new instance of `MakeDoubleRateInstrument` with default values.
   |

error: unnecessary structure name repetition
  --> src/instruments/makedoublerateinstrument.rs:66:9
   |
66 |         MakeDoubleRateInstrument {
   |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makedoublerateinstrument.rs:95:65
   |
95 |     pub const fn with_issue_date(mut self, issue_date: Date) -> MakeDoubleRateInstrument {
   |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:102:79
    |
102 |     pub const fn with_first_coupon_date(mut self, first_coupon_date: Date) -> MakeDoubleRateInstrument {
    |                                                                               ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:406:28
    |
406 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:109:65
    |
109 |     pub const fn with_currency(mut self, currency: Currency) -> MakeDoubleRateInstrument {
    |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:116:53
    |
116 |     pub const fn with_side(mut self, side: Side) -> MakeDoubleRateInstrument {
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:123:60
    |
123 |     pub const fn with_notional(mut self, notional: f64) -> MakeDoubleRateInstrument {
    |                                                            ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:130:45
    |
130 |     pub fn with_id(mut self, id: String) -> MakeDoubleRateInstrument {
    |                                             ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:137:65
    |
137 |     pub const fn with_start_date(mut self, start_date: Date) -> MakeDoubleRateInstrument {
    |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:144:61
    |
144 |     pub const fn with_end_date(mut self, end_date: Date) -> MakeDoubleRateInstrument {
    |                                                             ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:458:9
    |
458 |         assert_eq!(outstanding, -1980.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:151:73
    |
151 |     pub const fn with_discount_curve_id(mut self, id: Option<usize>) -> MakeDoubleRateInstrument {
    |                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:158:73
    |
158 |     pub const fn with_forecast_curve_id(mut self, id: Option<usize>) -> MakeDoubleRateInstrument {
    |                                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:165:57
    |
165 |     pub const fn with_tenor(mut self, tenor: Period) -> MakeDoubleRateInstrument {
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:172:81
    |
172 |     pub const fn with_tenor_change_rate(mut self, tenor_change_rate: Period) -> MakeDoubleRateInstrument {
    |                                                                                 ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:182:10
    |
182 |     ) -> MakeDoubleRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:189:76
    |
189 |     pub const fn with_payment_frequency(mut self, frequency: Frequency) -> MakeDoubleRateInstrument {
    |                                                                            ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:464:28
    |
464 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:196:59
    |
196 |     pub fn with_calendar(mut self, calendar: Calendar) -> MakeDoubleRateInstrument {
    |                                                           ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:206:10
    |
206 |     ) -> MakeDoubleRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:216:10
    |
216 |     ) -> MakeDoubleRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:223:67
    |
223 |     pub const fn with_rate_type(mut self, rate_type: RateType) -> MakeDoubleRateInstrument {
    |                                                                   ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:233:10
    |
233 |     ) -> MakeDoubleRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:240:63
    |
240 |     pub const fn with_first_part_rate(mut self, rate: f64) -> MakeDoubleRateInstrument {
    |                                                               ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:517:9
    |
517 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:250:10
    |
250 |     ) -> MakeDoubleRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makedoublerateinstrument.rs:257:64
    |
257 |     pub const fn with_second_part_rate(mut self, rate: f64) -> MakeDoubleRateInstrument {
    |                                                                ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/alm/rolloversimulationengine.rs:521:9
    |
521 |         println!("Outstanding: {}", outstanding);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
521 -         println!("Outstanding: {}", outstanding);
521 +         println!("Outstanding: {outstanding}");
    |

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:522:9
    |
522 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:528:28
    |
528 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:583:17
    |
583 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops
    = note: `-D clippy::suboptimal-flops` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::suboptimal_flops)]`

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:583:41
    |
583 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: this function has too many lines (256/100)
   --> src/instruments/makedoublerateinstrument.rs:274:5
    |
274 |     pub fn build(self) -> Result<DoubleRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:588:17
    |
588 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:588:41
    |
588 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: these match arms have identical bodies
   --> src/instruments/makedoublerateinstrument.rs:285:13
    |
285 | /             RateType::FixedThenFixed => {
286 | |                 let rate_definition = self
287 | |                     .first_part_rate_definition
288 | |                     .ok_or(AtlasError::ValueNotSetErr("Rate definition".into()))?;
...   |
292 | |                 InterestRate::from_rate_definition(rate_value, rate_definition)
293 | |             }
    | |_____________^
294 | /             RateType::FixedThenFloating => {
295 | |                 let rate_definition = self
296 | |                     .first_part_rate_definition
297 | |                     .ok_or(AtlasError::ValueNotSetErr("Rate definition".into()))?;
...   |
301 | |                 InterestRate::from_rate_definition(rate_value, rate_definition)
302 | |             }
    | |_____________^
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
help: otherwise merge the patterns into a single arm
    |
285 -             RateType::FixedThenFixed => {
286 -                 let rate_definition = self
287 -                     .first_part_rate_definition
288 -                     .ok_or(AtlasError::ValueNotSetErr("Rate definition".into()))?;
289 -                 let rate_value = self
290 -                     .first_part_rate
291 -                     .ok_or(AtlasError::ValueNotSetErr("Rate value".into()))?;
292 -                 InterestRate::from_rate_definition(rate_value, rate_definition)
293 -             }
294 -             RateType::FixedThenFloating => {
285 +             RateType::FixedThenFixed | RateType::FixedThenFloating => {
    |

error: used `unwrap()` on a `Result` value
   --> src/alm/rolloversimulationengine.rs:594:28
    |
594 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:649:17
    |
649 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:649:41
    |
649 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makedoublerateinstrument.rs:330:24
    |
330 |           let end_date = match self.end_date {
    |  ________________________^
331 | |             Some(date) => date,
332 | |             None => {
333 | |                 let tenor = self.tenor.ok_or(AtlasError::ValueNotSetErr(
...   |
338 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
    = note: `-D clippy::single-match-else` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::single_match_else)]`
help: try
    |
330 ~         let end_date = if let Some(date) = self.end_date { date } else {
331 +             let tenor = self.tenor.ok_or(AtlasError::ValueNotSetErr(
332 +                 "Tenor or end date is required".into(),
333 +             ))?;
334 +             start_date + tenor
335 ~         };
    |

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:654:17
    |
654 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:654:41
    |
654 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makedoublerateinstrument.rs:341:32
    |
341 |           let change_rate_date = match self.change_rate_date {
    |  ________________________________^
342 | |             Some(date) => date,
343 | |             None => {
344 | |                 let tenor_change_rate =
...   |
350 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
341 ~         let change_rate_date = if let Some(date) = self.change_rate_date { date } else {
342 +             let tenor_change_rate =
343 +                 self.tenor_change_rate.ok_or(AtlasError::ValueNotSetErr(
344 +                     "Tenor change rate or change rate date is required".into(),
345 +                 ))?;
346 +             start_date + tenor_change_rate
347 ~         };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makedoublerateinstrument.rs:435:22
    |
435 |             acc.push(acc.last().unwrap() - x);
    |                      ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:444:14
    |
444 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied
    = note: `-D clippy::cloned-instead-of-copied` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cloned_instead_of_copied)]`

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:449:14
    |
449 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `unwrap()` on an `Option` value
   --> src/instruments/makedoublerateinstrument.rs:491:32
    |
491 |         let first_date = vec![*dates.first().unwrap()];
    |                                ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:506:57
    |
506 |         let aux_dates: Vec<Date> = dates.iter().skip(1).cloned().collect();
    |                                                         ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makedoublerateinstrument.rs:541:13
    |
541 | /             cashflows
542 | |                 .iter_mut()
543 | |                 .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
541 |             cashflows
542 |                 .iter_mut()
543 ~                 .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makedoublerateinstrument.rs:547:13
    |
547 | /             cashflows
548 | |                 .iter_mut()
549 | |                 .for_each(|cf| cf.set_forecast_curve_id(id))
    | |____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
547 |             cashflows
548 |                 .iter_mut()
549 ~                 .for_each(|cf| cf.set_forecast_curve_id(id));
    |

error: this function has too many arguments (12/7)
   --> src/instruments/makedoublerateinstrument.rs:575:1
    |
575 | / fn build_coupons_from_notionals(
576 | |     cashflows: &mut Vec<Cashflow>,
577 | |     rate_type: RateType,
578 | |     dates_first_part: &[Date],
...   |
587 | |     currency: Currency,
588 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: these match arms have identical bodies
   --> src/instruments/makedoublerateinstrument.rs:607:13
    |
607 | /             RateType::FixedThenFixed => {
608 | |                 let rate =
609 | |                     InterestRate::from_rate_definition(first_part_rate, first_part_rate_definition);
610 | |                 let coupon = FixedRateCoupon::new(*notional, rate, d1, d2, d2, currency, side);
611 | |                 cashflows.push(Cashflow::FixedRateCoupon(coupon));
612 | |             }
    | |_____________^
613 | /             RateType::FixedThenFloating => {
614 | |                 let rate =
615 | |                     InterestRate::from_rate_definition(first_part_rate, first_part_rate_definition);
616 | |                 let coupon = FixedRateCoupon::new(*notional, rate, d1, d2, d2, currency, side);
617 | |                 cashflows.push(Cashflow::FixedRateCoupon(coupon));
618 | |             }
    | |_____________^
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
help: otherwise merge the patterns into a single arm
    |
607 -             RateType::FixedThenFixed => {
608 -                 let rate =
609 -                     InterestRate::from_rate_definition(first_part_rate, first_part_rate_definition);
610 -                 let coupon = FixedRateCoupon::new(*notional, rate, d1, d2, d2, currency, side);
611 -                 cashflows.push(Cashflow::FixedRateCoupon(coupon));
612 -             }
613 -             RateType::FixedThenFloating => {
607 +             RateType::FixedThenFixed | RateType::FixedThenFloating => {
    |

error: these match arms have identical bodies
   --> src/instruments/makedoublerateinstrument.rs:645:13
    |
645 | /             RateType::FixedThenFixed => {
646 | |                 let rate = InterestRate::from_rate_definition(
647 | |                     second_part_rate,
648 | |                     second_part_rate_definition,
...   |
651 | |                 cashflows.push(Cashflow::FixedRateCoupon(coupon));
652 | |             }
    | |_____________^
...
667 | /             RateType::FloatingThenFixed => {
668 | |                 let rate = InterestRate::from_rate_definition(
669 | |                     second_part_rate,
670 | |                     second_part_rate_definition,
...   |
673 | |                 cashflows.push(Cashflow::FixedRateCoupon(coupon));
674 | |             }
    | |_____________^
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
help: otherwise merge the patterns into a single arm
    |
645 ~             RateType::FixedThenFloating => {
646 |                 let coupon = FloatingRateCoupon::new(
...
658 |             }
659 ~             RateType::FixedThenFixed | RateType::FloatingThenFixed => {
    |

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makedoublerateinstrument.rs:704:12
    |
704 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
    = note: `-D clippy::needless-pass-by-value` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_pass_by_value)]`
help: consider changing the type to
    |
704 -     dates: Vec<Date>,
704 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
709 -         dates: dates.clone(),
709 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makedoublerateinstrument.rs:715:28
    |
715 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss
    = note: `-D clippy::cast-precision-loss` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_precision_loss)]`

error: item in documentation is missing backticks
  --> src/instruments/makefixedrateinstrument.rs:66:23
   |
66 |     /// Creates a new MakeFixedRateInstrument builder with default values.
   |                       ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
66 -     /// Creates a new MakeFixedRateInstrument builder with default values.
66 +     /// Creates a new `MakeFixedRateInstrument` builder with default values.
   |

error: unnecessary structure name repetition
  --> src/instruments/makefixedrateinstrument.rs:68:27
   |
68 |     pub const fn new() -> MakeFixedRateInstrument {
   |                           ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefixedrateinstrument.rs:69:9
   |
69 |         MakeFixedRateInstrument {
   |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefixedrateinstrument.rs:97:65
   |
97 |     pub const fn with_issue_date(mut self, issue_date: Date) -> MakeFixedRateInstrument {
   |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:107:10
    |
107 |     ) -> MakeFixedRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:114:65
    |
114 |     pub const fn with_currency(mut self, currency: Currency) -> MakeFixedRateInstrument {
    |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:121:53
    |
121 |     pub const fn with_side(mut self, side: Side) -> MakeFixedRateInstrument {
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:131:60
    |
131 |     pub const fn with_notional(mut self, notional: f64) -> MakeFixedRateInstrument {
    |                                                            ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:138:53
    |
138 |     pub fn with_id(mut self, id: Option<String>) -> MakeFixedRateInstrument {
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:145:73
    |
145 |     pub const fn with_yield_rate(mut self, yield_rate: InterestRate) -> MakeFixedRateInstrument {
    |                                                                         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:152:67
    |
152 |     pub fn with_calendar(mut self, calendar: Option<Calendar>) -> MakeFixedRateInstrument {
    |                                                                   ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:162:10
    |
162 |     ) -> MakeFixedRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:172:10
    |
172 |     ) -> MakeFixedRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/makefixedrateinstrument.rs:179:5
    |
179 | /     pub fn with_rate_definition(
180 | |         mut self,
181 | |         rate_definition: RateDefinition,
182 | |     ) -> MakeFixedRateInstrument {
...   |
204 | |         self
205 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
179 |     pub const fn with_rate_definition(
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:182:10
    |
182 |     ) -> MakeFixedRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/makefixedrateinstrument.rs:209:5
    |
209 | /     pub fn with_rate_value(mut self, rate_value: f64) -> MakeFixedRateInstrument {
210 | |         self.rate_value = Some(rate_value);
211 | |         match self.rate {
212 | |             Some(rate) => {
...   |
231 | |         self
232 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
209 |     pub const fn with_rate_value(mut self, rate_value: f64) -> MakeFixedRateInstrument {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:209:58
    |
209 |     pub fn with_rate_value(mut self, rate_value: f64) -> MakeFixedRateInstrument {
    |                                                          ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:236:65
    |
236 |     pub const fn with_start_date(mut self, start_date: Date) -> MakeFixedRateInstrument {
    |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:243:61
    |
243 |     pub const fn with_end_date(mut self, end_date: Date) -> MakeFixedRateInstrument {
    |                                                             ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:253:10
    |
253 |     ) -> MakeFixedRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:260:75
    |
260 |     pub fn with_redemptions(mut self, redemptions: HashMap<Date, f64>) -> MakeFixedRateInstrument {
    |                                                                           ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:270:10
    |
270 |     ) -> MakeFixedRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:277:61
    |
277 |     pub const fn with_rate(mut self, rate: InterestRate) -> MakeFixedRateInstrument {
    |                                                             ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:284:73
    |
284 |     pub const fn with_discount_curve_id(mut self, id: Option<usize>) -> MakeFixedRateInstrument {
    |                                                                         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:291:57
    |
291 |     pub const fn with_tenor(mut self, tenor: Period) -> MakeFixedRateInstrument {
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:298:76
    |
298 |     pub const fn with_payment_frequency(mut self, frequency: Frequency) -> MakeFixedRateInstrument {
    |                                                                            ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:305:38
    |
305 |     pub const fn bullet(mut self) -> MakeFixedRateInstrument {
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:312:49
    |
312 |     pub const fn equal_redemptions(mut self) -> MakeFixedRateInstrument {
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:319:36
    |
319 |     pub const fn zero(mut self) -> MakeFixedRateInstrument {
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:327:46
    |
327 |     pub const fn equal_payments(mut self) -> MakeFixedRateInstrument {
    |                                              ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:334:37
    |
334 |     pub const fn other(mut self) -> MakeFixedRateInstrument {
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
   --> src/cashflows/cashflow.rs:298:26
    |
298 |         let serialized = serde_json::to_string(&cashflow).unwrap();
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateinstrument.rs:342:68
    |
342 |     pub const fn with_structure(mut self, structure: Structure) -> MakeFixedRateInstrument {
    |                                                                    ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/cashflows/cashflow.rs:299:9
    |
299 |         println!("{}", serialized);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
299 -         println!("{}", serialized);
299 +         println!("{serialized}");
    |

error: used `unwrap()` on a `Result` value
   --> src/cashflows/cashflow.rs:301:38
    |
301 |         let deserialized: Cashflow = serde_json::from_str(&serialized).unwrap();
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: item in documentation is missing backticks
   --> src/instruments/makefixedrateinstrument.rs:355:30
    |
355 |     /// Builds and returns a FixedRateInstrument from the configured builder.
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
355 -     /// Builds and returns a FixedRateInstrument from the configured builder.
355 +     /// Builds and returns a `FixedRateInstrument` from the configured builder.
    |

error: this function has too many lines (492/100)
   --> src/instruments/makefixedrateinstrument.rs:359:5
    |
359 |     pub fn build(self) -> Result<FixedRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:379:32
    |
379 |                   let end_date = match self.end_date {
    |  ________________________________^
380 | |                     Some(date) => date,
381 | |                     None => {
382 | |                         let tenor = self
...   |
387 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
379 ~                 let end_date = if let Some(date) = self.end_date { date } else {
380 +                     let tenor = self
381 +                         .tenor
382 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
383 +                     start_date + tenor
384 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:424:40
    |
424 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:425:39
    |
425 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:455:21
    |
455 | /                     cashflows
456 | |                         .iter_mut()
457 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
455 |                     cashflows
456 |                         .iter_mut()
457 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateinstrument.rs:496:39
    |
496 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateinstrument.rs:514:39
    |
514 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:530:21
    |
530 | /                     cashflows
531 | |                         .iter_mut()
532 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
530 |                     cashflows
531 |                         .iter_mut()
532 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:555:32
    |
555 |                   let end_date = match self.end_date {
    |  ________________________________^
556 | |                     Some(date) => date,
557 | |                     None => {
558 | |                         let tenor = self
...   |
563 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
555 ~                 let end_date = if let Some(date) = self.end_date { date } else {
556 +                     let tenor = self
557 +                         .tenor
558 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
559 +                     start_date + tenor
560 ~                 };
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:566:17
    |
566 | /                 match self.redemptions {
567 | |                     Some(redemption) => {
568 | |                         // disbursements should have only one element
569 | |                         let disbursements_dates = self
...   |
611 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
566 ~                 if let Some(redemption) = self.redemptions {
567 +                     // disbursements should have only one element
568 +                     let disbursements_dates = self
569 +                         .disbursements
570 +                         .ok_or(AtlasError::ValueNotSetErr("Disbursements".into()))?
571 +                         .keys()
572 +                         .cloned()
573 +                         .collect::<Vec<Date>>();
574 + 
575 +                     let redemption_dates = redemption.keys().cloned().collect::<Vec<Date>>();
576 +                     // dates equal to disbursements dates an them redemption dates
577 +                     dates.extend(disbursements_dates);
578 +                     dates.extend(redemption_dates);
579 +                     dates.sort();
580 +                 } else {
581 +                     let mut schedule_builder = MakeSchedule::new(start_date, end_date)
582 +                         .with_frequency(payment_frequency)
583 +                         .with_calendar(
584 +                             self.calendar
585 +                                 .unwrap_or(Calendar::NullCalendar(NullCalendar::new())),
586 +                         )
587 +                         .with_convention(
588 +                             self.business_day_convention
589 +                                 .unwrap_or(BusinessDayConvention::Unadjusted),
590 +                         )
591 +                         .with_rule(
592 +                             self.date_generation_rule
593 +                                 .unwrap_or(DateGenerationRule::Backward),
594 +                         );
595 +                     let schedule = match self.first_coupon_date {
596 +                         Some(date) => {
597 +                             if date > start_date {
598 +                                 schedule_builder.with_first_date(date).build()?
599 +                             } else {
600 +                                 Err(AtlasError::InvalidValueErr(
601 +                                     "First coupon date must be after start date".into(),
602 +                                 ))?
603 +                             }
604 +                         }
605 +                         None => schedule_builder.build()?,
606 +                     };
607 +                     dates = schedule.dates().clone();
608 +                 }
    |

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:573:30
    |
573 | ...                   .cloned()
    |                        ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:576:66
    |
576 |                         let redemption_dates = redemption.keys().cloned().collect::<Vec<Date>>();
    |                                                                  ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: assigning the result of `Clone::clone()` may be inefficient
   --> src/instruments/makefixedrateinstrument.rs:609:25
    |
609 |                         dates = schedule.dates().clone();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `dates.clone_from(schedule.dates())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones
    = note: `-D clippy::assigning-clones` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::assigning_clones)]`

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:621:30
    |
621 |                     acc.push(acc.last().unwrap() - x);
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:638:40
    |
638 |                 let first_date = vec![*dates.first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:653:65
    |
653 |                 let aux_dates: Vec<Date> = dates.iter().skip(1).cloned().collect();
    |                                                                 ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:691:21
    |
691 | /                     cashflows
692 | |                         .iter_mut()
693 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
691 |                     cashflows
692 |                         .iter_mut()
693 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:716:32
    |
716 |                   let end_date = match self.end_date {
    |  ________________________________^
717 | |                     Some(date) => date,
718 | |                     None => {
719 | |                         let tenor = self
...   |
724 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
716 ~                 let end_date = if let Some(date) = self.end_date { date } else {
717 +                     let tenor = self
718 +                         .tenor
719 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
720 +                     start_date + tenor
721 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:749:40
    |
749 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:750:39
    |
750 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/cashflows/fixedratecoupon.rs:267:13
    |
267 | /             coupon
268 | |                 .accrued_amount(accrual_start_date, accrual_end_date)
269 | |                 .unwrap(),
    | |_________________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:778:21
    |
778 | /                     cashflows
779 | |                         .iter_mut()
780 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
778 |                     cashflows
779 |                         .iter_mut()
780 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: strict comparison of `f32` or `f64`
   --> src/cashflows/fixedratecoupon.rs:266:9
    |
266 | /         assert_eq!(
267 | |             coupon
268 | |                 .accrued_amount(accrual_start_date, accrual_end_date)
269 | |                 .unwrap(),
270 | |             expected_amount
271 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:803:32
    |
803 |                   let end_date = match self.end_date {
    |  ________________________________^
804 | |                     Some(date) => date,
805 | |                     None => {
806 | |                         let tenor = self
...   |
811 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
803 ~                 let end_date = if let Some(date) = self.end_date { date } else {
804 +                     let tenor = self
805 +                         .tenor
806 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
807 +                     start_date + tenor
808 ~                 };
    |

error: used `unwrap()` on a `Result` value
   --> src/cashflows/fixedratecoupon.rs:303:30
    |
303 |         let accrued_amount = coupon.accrued_amount(star_date, end_date).unwrap();
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: variables can be used directly in the `format!` string
   --> src/cashflows/fixedratecoupon.rs:305:9
    |
305 | /         print!(
306 | |             "Accrued amount between {} and {} is {}",
307 | |             star_date, end_date, accrued_amount
308 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateinstrument.rs:845:40
    |
845 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateinstrument.rs:849:51
    |
849 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:870:53
    |
870 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:882:21
    |
882 | /                     cashflows
883 | |                         .iter_mut()
884 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
882 |                     cashflows
883 |                         .iter_mut()
884 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makefixedrateinstrument.rs:956:12
    |
956 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider changing the type to
    |
956 -     dates: Vec<Date>,
956 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
961 -         dates: dates.clone(),
961 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateinstrument.rs:967:28
    |
967 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: consider implementing `TryFrom` instead
    --> src/instruments/makefixedrateinstrument.rs:993:1
     |
 993 | / impl From<FixedRateInstrument> for MakeFixedRateInstrument {
 994 | |     fn from(val: FixedRateInstrument) -> Self {
 995 | |         let mut disbursements = HashMap::new();
 996 | |         let mut redemptions = HashMap::new();
...    |
1033 | | }
     | |_^
     |
     = help: `From` is intended for infallible conversions only. Use `TryFrom` if there's a possibility for the conversion to fail
note: potential failure(s)
    --> src/instruments/makefixedrateinstrument.rs:1002:60
     |
1002 |                     disbursements.insert(c.payment_date(), c.amount().unwrap());
     |                                                            ^^^^^^^^^^^^^^^^^^^
...
1005 |                     redemptions.insert(c.payment_date(), c.amount().unwrap());
     |                                                          ^^^^^^^^^^^^^^^^^^^
...
1008 |                     additional_coupon_dates.insert(c.accrual_start_date().unwrap());
     |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1009 |                     additional_coupon_dates.insert(c.accrual_end_date().unwrap());
     |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
1022 |             .with_currency(val.currency().unwrap())
     |                            ^^^^^^^^^^^^^^^^^^^^^^^
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#fallible_impl_from
     = note: `-D clippy::fallible-impl-from` implied by `-D clippy::nursery`
     = help: to override `-D clippy::nursery` add `#[allow(clippy::fallible_impl_from)]`

error: wildcard matches only a single variant and will also match any future added variants
    --> src/instruments/makefixedrateinstrument.rs:1011:17
     |
1011 |                 _ => (),
     |                 ^ help: try: `Cashflow::FloatingRateCoupon(_)`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1002:60
     |
1002 |                     disbursements.insert(c.payment_date(), c.amount().unwrap());
     |                                                            ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1005:58
     |
1005 |                     redemptions.insert(c.payment_date(), c.amount().unwrap());
     |                                                          ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1008:52
     |
1008 |                     additional_coupon_dates.insert(c.accrual_start_date().unwrap());
     |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1009:52
     |
1009 |                     additional_coupon_dates.insert(c.accrual_end_date().unwrap());
     |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
    --> src/instruments/makefixedrateinstrument.rs:1015:23
     |
1015 |         let builder = MakeFixedRateInstrument::new()
     |                       ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1022:28
     |
1022 |             .with_currency(val.currency().unwrap())
     |                            ^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
    --> src/instruments/makefixedrateinstrument.rs:1037:9
     |
1037 |         MakeFixedRateInstrument::from(val.clone())
     |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: item in documentation is missing backticks
  --> src/instruments/makefixedrateleg.rs:64:23
   |
64 |     /// Creates a new MakeFixedRateLeg builder with default values.
   |                       ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
64 -     /// Creates a new MakeFixedRateLeg builder with default values.
64 +     /// Creates a new `MakeFixedRateLeg` builder with default values.
   |

error: unnecessary structure name repetition
  --> src/instruments/makefixedrateleg.rs:66:27
   |
66 |     pub const fn new() -> MakeFixedRateLeg {
   |                           ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefixedrateleg.rs:67:9
   |
67 |         MakeFixedRateLeg {
   |         ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefixedrateleg.rs:95:77
   |
95 |     pub const fn with_end_of_month(mut self, end_of_month: Option<bool>) -> MakeFixedRateLeg {
   |                                                                             ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:102:65
    |
102 |     pub const fn with_issue_date(mut self, issue_date: Date) -> MakeFixedRateLeg {
    |                                                                 ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:109:87
    |
109 |     pub const fn with_first_coupon_date(mut self, first_coupon_date: Option<Date>) -> MakeFixedRateLeg {
    |                                                                                       ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:116:65
    |
116 |     pub const fn with_currency(mut self, currency: Currency) -> MakeFixedRateLeg {
    |                                                                 ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:123:53
    |
123 |     pub const fn with_side(mut self, side: Side) -> MakeFixedRateLeg {
    |                                                     ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:133:60
    |
133 |     pub const fn with_notional(mut self, notional: f64) -> MakeFixedRateLeg {
    |                                                            ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:140:73
    |
140 |     pub const fn with_yield_rate(mut self, yield_rate: InterestRate) -> MakeFixedRateLeg {
    |                                                                         ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:147:67
    |
147 |     pub fn with_calendar(mut self, calendar: Option<Calendar>) -> MakeFixedRateLeg {
    |                                                                   ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:157:10
    |
157 |     ) -> MakeFixedRateLeg {
    |          ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:167:10
    |
167 |     ) -> MakeFixedRateLeg {
    |          ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/makefixedrateleg.rs:174:5
    |
174 | /     pub fn with_rate_definition(mut self, rate_definition: RateDefinition) -> MakeFixedRateLeg {
175 | |         self.rate_definition = Some(rate_definition);
176 | |         match self.rate_value {
177 | |             Some(rate_value) => {
...   |
196 | |         self
197 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
174 |     pub const fn with_rate_definition(mut self, rate_definition: RateDefinition) -> MakeFixedRateLeg {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:174:79
    |
174 |     pub fn with_rate_definition(mut self, rate_definition: RateDefinition) -> MakeFixedRateLeg {
    |                                                                               ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/instruments/makefixedrateleg.rs:201:5
    |
201 | /     pub fn with_rate_value(mut self, rate_value: f64) -> MakeFixedRateLeg {
202 | |         self.rate_value = Some(rate_value);
203 | |         match self.rate {
204 | |             Some(rate) => {
...   |
223 | |         self
224 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
201 |     pub const fn with_rate_value(mut self, rate_value: f64) -> MakeFixedRateLeg {
    |         +++++

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:201:58
    |
201 |     pub fn with_rate_value(mut self, rate_value: f64) -> MakeFixedRateLeg {
    |                                                          ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:228:65
    |
228 |     pub const fn with_start_date(mut self, start_date: Date) -> MakeFixedRateLeg {
    |                                                                 ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:235:61
    |
235 |     pub const fn with_end_date(mut self, end_date: Date) -> MakeFixedRateLeg {
    |                                                             ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:242:79
    |
242 |     pub fn with_disbursements(mut self, disbursements: HashMap<Date, f64>) -> MakeFixedRateLeg {
    |                                                                               ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:249:75
    |
249 |     pub fn with_redemptions(mut self, redemptions: HashMap<Date, f64>) -> MakeFixedRateLeg {
    |                                                                           ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:259:10
    |
259 |     ) -> MakeFixedRateLeg {
    |          ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:266:61
    |
266 |     pub const fn with_rate(mut self, rate: InterestRate) -> MakeFixedRateLeg {
    |                                                             ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:273:73
    |
273 |     pub const fn with_discount_curve_id(mut self, id: Option<usize>) -> MakeFixedRateLeg {
    |                                                                         ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:280:57
    |
280 |     pub const fn with_tenor(mut self, tenor: Period) -> MakeFixedRateLeg {
    |                                                         ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:287:76
    |
287 |     pub const fn with_payment_frequency(mut self, frequency: Frequency) -> MakeFixedRateLeg {
    |                                                                            ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:294:38
    |
294 |     pub const fn bullet(mut self) -> MakeFixedRateLeg {
    |                                      ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:301:49
    |
301 |     pub const fn equal_redemptions(mut self) -> MakeFixedRateLeg {
    |                                                 ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:308:36
    |
308 |     pub const fn zero(mut self) -> MakeFixedRateLeg {
    |                                    ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:316:46
    |
316 |     pub const fn equal_payments(mut self) -> MakeFixedRateLeg {
    |                                              ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:323:37
    |
323 |     pub const fn other(mut self) -> MakeFixedRateLeg {
    |                                     ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefixedrateleg.rs:331:68
    |
331 |     pub const fn with_structure(mut self, structure: Structure) -> MakeFixedRateLeg {
    |                                                                    ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: item in documentation is missing backticks
   --> src/instruments/makefixedrateleg.rs:344:44
    |
344 |     /// Builds the Leg from the configured MakeFixedRateLeg builder.
    |                                            ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
344 -     /// Builds the Leg from the configured MakeFixedRateLeg builder.
344 +     /// Builds the Leg from the configured `MakeFixedRateLeg` builder.
    |

error: used `unwrap()` on a `Result` value
   --> src/cashflows/floatingratecoupon.rs:173:23
    |
173 |           let accrual = self
    |  _______________________^
174 | |             .accrued_amount(self.accrual_start_date, self.accrual_end_date)
175 | |             .unwrap();
    | |_____________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many lines (429/100)
   --> src/instruments/makefixedrateleg.rs:348:5
    |
348 |     pub fn build(self) -> Result<Leg> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:368:32
    |
368 |                   let end_date = match self.end_date {
    |  ________________________________^
369 | |                     Some(date) => date,
370 | |                     None => {
371 | |                         let tenor = self
...   |
376 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
368 ~                 let end_date = if let Some(date) = self.end_date { date } else {
369 +                     let tenor = self
370 +                         .tenor
371 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
372 +                     start_date + tenor
373 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:414:40
    |
414 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:415:39
    |
415 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:445:21
    |
445 | /                     cashflows
446 | |                         .iter_mut()
447 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
445 |                     cashflows
446 |                         .iter_mut()
447 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:484:39
    |
484 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:502:39
    |
502 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:510:21
    |
510 | /                     cashflows
511 | |                         .iter_mut()
512 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
510 |                     cashflows
511 |                         .iter_mut()
512 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:531:32
    |
531 |                   let end_date = match self.end_date {
    |  ________________________________^
532 | |                     Some(date) => date,
533 | |                     None => {
534 | |                         let tenor = self
...   |
539 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
531 ~                 let end_date = if let Some(date) = self.end_date { date } else {
532 +                     let tenor = self
533 +                         .tenor
534 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
535 +                     start_date + tenor
536 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:583:30
    |
583 |                     acc.push(acc.last().unwrap() - x);
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:599:40
    |
599 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateleg.rs:610:53
    |
610 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:624:21
    |
624 | /                     cashflows
625 | |                         .iter_mut()
626 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
624 |                     cashflows
625 |                         .iter_mut()
626 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:645:32
    |
645 |                   let end_date = match self.end_date {
    |  ________________________________^
646 | |                     Some(date) => date,
647 | |                     None => {
648 | |                         let tenor = self
...   |
653 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
645 ~                 let end_date = if let Some(date) = self.end_date { date } else {
646 +                     let tenor = self
647 +                         .tenor
648 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
649 +                     start_date + tenor
650 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:678:40
    |
678 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:679:39
    |
679 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:707:21
    |
707 | /                     cashflows
708 | |                         .iter_mut()
709 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
707 |                     cashflows
708 |                         .iter_mut()
709 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:728:32
    |
728 |                   let end_date = match self.end_date {
    |  ________________________________^
729 | |                     Some(date) => date,
730 | |                     None => {
731 | |                         let tenor = self
...   |
736 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
728 ~                 let end_date = if let Some(date) = self.end_date { date } else {
729 +                     let tenor = self
730 +                         .tenor
731 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
732 +                     start_date + tenor
733 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefixedrateleg.rs:771:40
    |
771 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateleg.rs:775:51
    |
775 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateleg.rs:796:53
    |
796 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateleg.rs:808:21
    |
808 | /                     cashflows
809 | |                         .iter_mut()
810 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
808 |                     cashflows
809 |                         .iter_mut()
810 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makefixedrateleg.rs:877:12
    |
877 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider changing the type to
    |
877 -     dates: Vec<Date>,
877 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
883 -         dates: dates.clone(),
883 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateleg.rs:889:28
    |
889 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `unwrap()` on a `Result` value
   --> src/cashflows/traits.rs:121:34
    |
121 |         let mut accrued_amount = coupon.accrued_amount(start_date, end_date).unwrap();
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/cashflows/traits.rs:126:26
    |
126 |         accrued_amount = coupon.accrued_amount(start_date, end_date).unwrap();
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/cashflows/traits.rs:156:30
    |
156 |         let accrued_amount = coupon.clone().accrued_amount(start_date, end_date).unwrap();
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
  --> src/instruments/makefloatingrateinstrument.rs:61:27
   |
61 |     pub const fn new() -> MakeFloatingRateInstrument {
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefloatingrateinstrument.rs:62:9
   |
62 |         MakeFloatingRateInstrument {
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefloatingrateinstrument.rs:89:67
   |
89 |     pub fn with_calendar(mut self, calendar: Option<Calendar>) -> MakeFloatingRateInstrument {
   |                                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefloatingrateinstrument.rs:99:10
   |
99 |     ) -> MakeFloatingRateInstrument {
   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:109:10
    |
109 |     ) -> MakeFloatingRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:116:65
    |
116 |     pub const fn with_issue_date(mut self, issue_date: Date) -> MakeFloatingRateInstrument {
    |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:123:53
    |
123 |     pub fn with_id(mut self, id: Option<String>) -> MakeFloatingRateInstrument {
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:133:10
    |
133 |     ) -> MakeFloatingRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:140:65
    |
140 |     pub const fn with_start_date(mut self, start_date: Date) -> MakeFloatingRateInstrument {
    |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:147:61
    |
147 |     pub const fn with_end_date(mut self, end_date: Date) -> MakeFloatingRateInstrument {
    |                                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:154:57
    |
154 |     pub const fn with_tenor(mut self, tenor: Period) -> MakeFloatingRateInstrument {
    |                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:164:10
    |
164 |     ) -> MakeFloatingRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:174:10
    |
174 |     ) -> MakeFloatingRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:184:10
    |
184 |     ) -> MakeFloatingRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:194:10
    |
194 |     ) -> MakeFloatingRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:204:10
    |
204 |     ) -> MakeFloatingRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:214:10
    |
214 |     ) -> MakeFloatingRateInstrument {
    |          ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:221:60
    |
221 |     pub const fn with_notional(mut self, notional: f64) -> MakeFloatingRateInstrument {
    |                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:228:65
    |
228 |     pub const fn with_currency(mut self, currency: Currency) -> MakeFloatingRateInstrument {
    |                                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:235:56
    |
235 |     pub const fn with_spread(mut self, spread: f64) -> MakeFloatingRateInstrument {
    |                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:242:38
    |
242 |     pub const fn bullet(mut self) -> MakeFloatingRateInstrument {
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:249:49
    |
249 |     pub const fn equal_redemptions(mut self) -> MakeFloatingRateInstrument {
    |                                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:256:36
    |
256 |     pub const fn zero(mut self) -> MakeFloatingRateInstrument {
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:264:37
    |
264 |     pub const fn other(mut self) -> MakeFloatingRateInstrument {
    |                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:272:53
    |
272 |     pub const fn with_side(mut self, side: Side) -> MakeFloatingRateInstrument {
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:279:76
    |
279 |     pub const fn with_payment_frequency(mut self, frequency: Frequency) -> MakeFloatingRateInstrument {
    |                                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:286:68
    |
286 |     pub const fn with_structure(mut self, structure: Structure) -> MakeFloatingRateInstrument {
    |                                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this function has too many lines (388/100)
   --> src/instruments/makefloatingrateinstrument.rs:304:5
    |
304 |     pub fn build(self) -> Result<FloatingRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateinstrument.rs:721:13
    |
721 |             _ => Err(AtlasError::InvalidValueErr(
    |             ^ help: try: `Structure::EqualPayments`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:328:32
    |
328 |                   let end_date = match self.end_date {
    |  ________________________________^
329 | |                     Some(date) => date,
330 | |                     None => {
331 | |                         let tenor = self
...   |
336 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
328 ~                 let end_date = if let Some(date) = self.end_date { date } else {
329 +                     let tenor = self
330 +                         .tenor
331 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
332 +                     start_date + tenor
333 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:372:40
    |
372 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:373:39
    |
373 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:402:21
    |
402 | /                     cashflows.iter_mut().for_each(|cf| {
403 | |                         cf.set_discount_curve_id(id);
404 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
402 |                     cashflows.iter_mut().for_each(|cf| {
403 |                         cf.set_discount_curve_id(id);
404 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:407:21
    |
407 | /                     cashflows.iter_mut().for_each(|cf| {
408 | |                         cf.set_forecast_curve_id(id);
409 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
407 |                     cashflows.iter_mut().for_each(|cf| {
408 |                         cf.set_forecast_curve_id(id);
409 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:434:32
    |
434 |                   let end_date = match self.end_date {
    |  ________________________________^
435 | |                     Some(date) => date,
436 | |                     None => {
437 | |                         let tenor = self
...   |
442 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
434 ~                 let end_date = if let Some(date) = self.end_date { date } else {
435 +                     let tenor = self
436 +                         .tenor
437 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
438 +                     start_date + tenor
439 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:466:40
    |
466 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:467:39
    |
467 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:496:21
    |
496 | /                     cashflows.iter_mut().for_each(|cf| {
497 | |                         cf.set_discount_curve_id(id);
498 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
496 |                     cashflows.iter_mut().for_each(|cf| {
497 |                         cf.set_discount_curve_id(id);
498 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:501:21
    |
501 | /                     cashflows.iter_mut().for_each(|cf| {
502 | |                         cf.set_forecast_curve_id(id);
503 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
501 |                     cashflows.iter_mut().for_each(|cf| {
502 |                         cf.set_forecast_curve_id(id);
503 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:528:32
    |
528 |                   let end_date = match self.end_date {
    |  ________________________________^
529 | |                     Some(date) => date,
530 | |                     None => {
531 | |                         let tenor = self
...   |
536 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
528 ~                 let end_date = if let Some(date) = self.end_date { date } else {
529 +                     let tenor = self
530 +                         .tenor
531 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
532 +                     start_date + tenor
533 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefloatingrateinstrument.rs:573:51
    |
573 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateinstrument.rs:575:40
    |
575 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefloatingrateinstrument.rs:595:53
    |
595 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:605:21
    |
605 | /                     cashflows.iter_mut().for_each(|cf| {
606 | |                         cf.set_discount_curve_id(id);
607 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
605 |                     cashflows.iter_mut().for_each(|cf| {
606 |                         cf.set_discount_curve_id(id);
607 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:610:21
    |
610 | /                     cashflows.iter_mut().for_each(|cf| {
611 | |                         cf.set_forecast_curve_id(id);
612 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
610 |                     cashflows.iter_mut().for_each(|cf| {
611 |                         cf.set_forecast_curve_id(id);
612 ~                     });
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateinstrument.rs:652:39
    |
652 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateinstrument.rs:674:39
    |
674 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:695:21
    |
695 | /                     cashflows.iter_mut().for_each(|cf| {
696 | |                         cf.set_discount_curve_id(id);
697 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
695 |                     cashflows.iter_mut().for_each(|cf| {
696 |                         cf.set_discount_curve_id(id);
697 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:700:21
    |
700 | /                     cashflows.iter_mut().for_each(|cf| {
701 | |                         cf.set_forecast_curve_id(id);
702 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
700 |                     cashflows.iter_mut().for_each(|cf| {
701 |                         cf.set_forecast_curve_id(id);
702 ~                     });
    |

error: consider implementing `TryFrom` instead
   --> src/instruments/makefloatingrateinstrument.rs:755:1
    |
755 | / impl From<FloatingRateInstrument> for MakeFloatingRateInstrument {
756 | |     fn from(val: FloatingRateInstrument) -> Self {
757 | |         let mut disbursements = HashMap::new();
758 | |         let mut redemptions = HashMap::new();
...   |
793 | | }
    | |_^
    |
    = help: `From` is intended for infallible conversions only. Use `TryFrom` if there's a possibility for the conversion to fail
note: potential failure(s)
   --> src/instruments/makefloatingrateinstrument.rs:764:60
    |
764 |                     disbursements.insert(c.payment_date(), c.amount().unwrap());
    |                                                            ^^^^^^^^^^^^^^^^^^^
...
767 |                     redemptions.insert(c.payment_date(), c.amount().unwrap());
    |                                                          ^^^^^^^^^^^^^^^^^^^
...
770 |                     additional_coupon_dates.insert(c.accrual_start_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
771 |                     additional_coupon_dates.insert(c.accrual_end_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
787 |             .with_currency(val.currency().unwrap())
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#fallible_impl_from

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateinstrument.rs:773:17
    |
773 |                 _ => (),
    |                 ^ help: try: `Cashflow::FixedRateCoupon(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:764:60
    |
764 |                     disbursements.insert(c.payment_date(), c.amount().unwrap());
    |                                                            ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:767:58
    |
767 |                     redemptions.insert(c.payment_date(), c.amount().unwrap());
    |                                                          ^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:770:52
    |
770 |                     additional_coupon_dates.insert(c.accrual_start_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:771:52
    |
771 |                     additional_coupon_dates.insert(c.accrual_end_date().unwrap());
    |                                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:777:9
    |
777 |         MakeFloatingRateInstrument::new()
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
   --> src/instruments/makefloatingrateinstrument.rs:787:28
    |
787 |             .with_currency(val.currency().unwrap())
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:796:53
    |
796 |     fn from(instrument: &FloatingRateInstrument) -> MakeFloatingRateInstrument {
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefloatingrateleg.rs:59:27
   |
59 |     pub const fn new() -> MakeFloatingRateLeg {
   |                           ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefloatingrateleg.rs:60:9
   |
60 |         MakeFloatingRateLeg {
   |         ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefloatingrateleg.rs:87:77
   |
87 |     pub const fn with_end_of_month(mut self, end_of_month: Option<bool>) -> MakeFloatingRateLeg {
   |                                                                             ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/makefloatingrateleg.rs:94:67
   |
94 |     pub fn with_calendar(mut self, calendar: Option<Calendar>) -> MakeFloatingRateLeg {
   |                                                                   ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:104:10
    |
104 |     ) -> MakeFloatingRateLeg {
    |          ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:114:10
    |
114 |     ) -> MakeFloatingRateLeg {
    |          ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:121:65
    |
121 |     pub const fn with_issue_date(mut self, issue_date: Date) -> MakeFloatingRateLeg {
    |                                                                 ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:131:10
    |
131 |     ) -> MakeFloatingRateLeg {
    |          ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:138:65
    |
138 |     pub const fn with_start_date(mut self, start_date: Date) -> MakeFloatingRateLeg {
    |                                                                 ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:145:61
    |
145 |     pub const fn with_end_date(mut self, end_date: Date) -> MakeFloatingRateLeg {
    |                                                             ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:152:57
    |
152 |     pub const fn with_tenor(mut self, tenor: Period) -> MakeFloatingRateLeg {
    |                                                         ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:159:79
    |
159 |     pub fn with_disbursements(mut self, disbursements: HashMap<Date, f64>) -> MakeFloatingRateLeg {
    |                                                                               ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:166:75
    |
166 |     pub fn with_redemptions(mut self, redemptions: HashMap<Date, f64>) -> MakeFloatingRateLeg {
    |                                                                           ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:176:10
    |
176 |     ) -> MakeFloatingRateLeg {
    |          ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:186:10
    |
186 |     ) -> MakeFloatingRateLeg {
    |          ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:196:10
    |
196 |     ) -> MakeFloatingRateLeg {
    |          ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:203:85
    |
203 |     pub const fn with_rate_definition(mut self, rate_definition: RateDefinition) -> MakeFloatingRateLeg {
    |                                                                                     ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:210:60
    |
210 |     pub const fn with_notional(mut self, notional: f64) -> MakeFloatingRateLeg {
    |                                                            ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:217:65
    |
217 |     pub const fn with_currency(mut self, currency: Currency) -> MakeFloatingRateLeg {
    |                                                                 ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:224:56
    |
224 |     pub const fn with_spread(mut self, spread: f64) -> MakeFloatingRateLeg {
    |                                                        ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:231:38
    |
231 |     pub const fn bullet(mut self) -> MakeFloatingRateLeg {
    |                                      ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:238:49
    |
238 |     pub const fn equal_redemptions(mut self) -> MakeFloatingRateLeg {
    |                                                 ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:245:36
    |
245 |     pub const fn zero(mut self) -> MakeFloatingRateLeg {
    |                                    ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:253:37
    |
253 |     pub const fn other(mut self) -> MakeFloatingRateLeg {
    |                                     ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:261:53
    |
261 |     pub const fn with_side(mut self, side: Side) -> MakeFloatingRateLeg {
    |                                                     ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:268:76
    |
268 |     pub const fn with_payment_frequency(mut self, frequency: Frequency) -> MakeFloatingRateLeg {
    |                                                                            ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateleg.rs:275:68
    |
275 |     pub const fn with_structure(mut self, structure: Structure) -> MakeFloatingRateLeg {
    |                                                                    ^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/currencies/enums.rs:181:50
    |
181 |               _ => Err(AtlasError::InvalidValueErr(format!(
    |  __________________________________________________^
182 | |                 "Invalid currency: {}",
183 | |                 s
184 | |             ))),
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: this function has too many lines (359/100)
   --> src/instruments/makefloatingrateleg.rs:293:5
    |
293 |     pub fn build(self) -> Result<Leg> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateleg.rs:682:13
    |
682 |             _ => Err(AtlasError::InvalidValueErr(
    |             ^ help: try: `Structure::EqualPayments`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:317:32
    |
317 |                   let end_date = match self.end_date {
    |  ________________________________^
318 | |                     Some(date) => date,
319 | |                     None => {
320 | |                         let tenor = self
...   |
325 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
317 ~                 let end_date = if let Some(date) = self.end_date { date } else {
318 +                     let tenor = self
319 +                         .tenor
320 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
321 +                     start_date + tenor
322 ~                 };
    |

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:362:40
    |
362 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:363:39
    |
363 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:392:21
    |
392 | /                     cashflows.iter_mut().for_each(|cf| {
393 | |                         cf.set_discount_curve_id(id);
394 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
392 |                     cashflows.iter_mut().for_each(|cf| {
393 |                         cf.set_discount_curve_id(id);
394 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:398:21
    |
398 | /                     cashflows.iter_mut().for_each(|cf| {
399 | |                         cf.set_forecast_curve_id(id);
400 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
398 |                     cashflows.iter_mut().for_each(|cf| {
399 |                         cf.set_forecast_curve_id(id);
400 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:420:32
    |
420 |                   let end_date = match self.end_date {
    |  ________________________________^
421 | |                     Some(date) => date,
422 | |                     None => {
423 | |                         let tenor = self
...   |
428 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
420 ~                 let end_date = if let Some(date) = self.end_date { date } else {
421 +                     let tenor = self
422 +                         .tenor
423 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
424 +                     start_date + tenor
425 ~                 };
    |

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:268:20
    |
268 |         assert_eq!(Currency::try_from("USD").unwrap(), Currency::USD);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:269:20
    |
269 |         assert_eq!(Currency::try_from("  USD ").unwrap(), Currency::USD);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:270:20
    |
270 |         assert_eq!(Currency::try_from("\nEUR\t").unwrap(), Currency::EUR);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:452:40
    |
452 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:453:39
    |
453 |                 let last_date = vec![*schedule.dates().last().unwrap()];
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:482:21
    |
482 | /                     cashflows.iter_mut().for_each(|cf| {
483 | |                         cf.set_discount_curve_id(id);
484 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
482 |                     cashflows.iter_mut().for_each(|cf| {
483 |                         cf.set_discount_curve_id(id);
484 ~                     });
    |

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:275:17
    |
275 |         let c = Currency::try_from("JPY".to_string()).unwrap();
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:488:21
    |
488 | /                     cashflows.iter_mut().for_each(|cf| {
489 | |                         cf.set_forecast_curve_id(id);
490 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
488 |                     cashflows.iter_mut().for_each(|cf| {
489 |                         cf.set_forecast_curve_id(id);
490 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:510:32
    |
510 |                   let end_date = match self.end_date {
    |  ________________________________^
511 | |                     Some(date) => date,
512 | |                     None => {
513 | |                         let tenor = self
...   |
518 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
510 ~                 let end_date = if let Some(date) = self.end_date { date } else {
511 +                     let tenor = self
512 +                         .tenor
513 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
514 +                     start_date + tenor
515 ~                 };
    |

error: used `unwrap()` on a `Result` value
   --> src/currencies/enums.rs:281:17
    |
281 |         let c = Currency::from_str("GBP").unwrap();
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefloatingrateleg.rs:556:51
    |
556 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `unwrap()` on an `Option` value
   --> src/instruments/makefloatingrateleg.rs:558:40
    |
558 |                 let first_date = vec![*schedule.dates().first().unwrap()];
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefloatingrateleg.rs:578:53
    |
578 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:588:21
    |
588 | /                     cashflows.iter_mut().for_each(|cf| {
589 | |                         cf.set_discount_curve_id(id);
590 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
588 |                     cashflows.iter_mut().for_each(|cf| {
589 |                         cf.set_discount_curve_id(id);
590 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:593:21
    |
593 | /                     cashflows.iter_mut().for_each(|cf| {
594 | |                         cf.set_forecast_curve_id(id);
595 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
593 |                     cashflows.iter_mut().for_each(|cf| {
594 |                         cf.set_forecast_curve_id(id);
595 ~                     });
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateleg.rs:630:39
    |
630 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateleg.rs:652:39
    |
652 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:660:21
    |
660 | /                     cashflows.iter_mut().for_each(|cf| {
661 | |                         cf.set_discount_curve_id(id);
662 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
660 |                     cashflows.iter_mut().for_each(|cf| {
661 |                         cf.set_discount_curve_id(id);
662 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:666:21
    |
666 | /                     cashflows.iter_mut().for_each(|cf| {
667 | |                         cf.set_forecast_curve_id(id);
668 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
666 |                     cashflows.iter_mut().for_each(|cf| {
667 |                         cf.set_forecast_curve_id(id);
668 ~                     });
    |

error: item in documentation is missing backticks
  --> src/instruments/makeswap.rs:66:23
   |
66 |     /// Creates a new MakeSwap builder with default values.
   |                       ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
66 -     /// Creates a new MakeSwap builder with default values.
66 +     /// Creates a new `MakeSwap` builder with default values.
   |

error: unnecessary structure name repetition
  --> src/instruments/makeswap.rs:69:9
   |
69 |         MakeSwap {
   |         ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:156:20
    |
156 |         assert_eq!(manager.get_exchange_rate(USD, USD).unwrap(), 1.0);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:156:9
    |
156 |         assert_eq!(manager.get_exchange_rate(USD, USD).unwrap(), 1.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:172:20
    |
172 |         assert_eq!(manager.get_exchange_rate(USD, EUR).unwrap(), 0.85);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:172:9
    |
172 |         assert_eq!(manager.get_exchange_rate(USD, EUR).unwrap(), 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on an `Option` value
   --> src/currencies/exchangeratestore.rs:174:13
    |
174 | /             manager
175 | |                 .exchange_rate_cache
176 | |                 .lock()
177 | |                 .unwrap()
178 | |                 .get(&(USD, EUR))
179 | |                 .unwrap(),
    | |_________________________^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:174:13
    |
174 | /             manager
175 | |                 .exchange_rate_cache
176 | |                 .lock()
177 | |                 .unwrap()
    | |_________________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:173:9
    |
173 | /         assert_eq!(
174 | |             manager
175 | |                 .exchange_rate_cache
176 | |                 .lock()
...   |
180 | |             &0.85
181 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:211:20
    |
211 |         assert_eq!(manager.get_exchange_rate(EUR, USD).unwrap(), 1.0 / 0.85);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:211:9
    |
211 |         assert_eq!(manager.get_exchange_rate(EUR, USD).unwrap(), 1.0 / 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:212:20
    |
212 |         assert_eq!(manager.get_exchange_rate(USD, EUR).unwrap(), 0.85);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:212:9
    |
212 |         assert_eq!(manager.get_exchange_rate(USD, EUR).unwrap(), 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: this function has too many lines (316/100)
   --> src/instruments/makeswap.rs:403:5
    |
403 |     pub fn build(self) -> Result<Swap> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:222:20
    |
222 |         assert_eq!(manager.get_exchange_rate(CLP, EUR).unwrap(), 1.1 * 800.0);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:222:9
    |
222 |         assert_eq!(manager.get_exchange_rate(CLP, EUR).unwrap(), 1.1 * 800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/currencies/exchangeratestore.rs:224:13
    |
224 |             manager.get_exchange_rate(EUR, CLP).unwrap(),
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:223:9
    |
223 | /         assert_eq!(
224 | |             manager.get_exchange_rate(EUR, CLP).unwrap(),
225 | |             1.0 / (1.1 * 800.0)
226 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:459:17
    |
459 | /                 match structure {
460 | |                     Structure::Other => {
461 | |                         let disbursements =
462 | |                             self.first_leg_disbursements
...   |
490 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
459 ~                 if structure == Structure::Other {
460 +                     let disbursements =
461 +                         self.first_leg_disbursements
462 +                             .ok_or(AtlasError::ValueNotSetErr(
463 +                                 "First Leg Disbursements".to_string(),
464 +                             ))?;
465 + 
466 +                     let redemptions =
467 +                         self.first_leg_redemptions
468 +                             .ok_or(AtlasError::ValueNotSetErr(
469 +                                 "First Leg Redemptions".to_string(),
470 +                             ))?;
471 + 
472 +                     let additional_coupon_dates =
473 +                         self.first_leg_additional_coupon_dates.unwrap_or_default();
474 + 
475 +                     builder
476 +                         .with_disbursements(disbursements)
477 +                         .with_redemptions(redemptions)
478 +                         .with_additional_coupon_dates(additional_coupon_dates)
479 +                         .build()?
480 +                 } else {
481 +                     let payment_frequency =
482 +                         self.first_leg_payment_frequency
483 +                             .ok_or(AtlasError::ValueNotSetErr(
484 +                                 "First Leg Payment Frequency".to_string(),
485 +                             ))?;
486 +                     builder.with_payment_frequency(payment_frequency).build()?
487 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:543:17
    |
543 | /                 match structure {
544 | |                     Structure::Other => {
545 | |                         let disbursements =
546 | |                             self.first_leg_disbursements
...   |
574 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
543 ~                 if structure == Structure::Other {
544 +                     let disbursements =
545 +                         self.first_leg_disbursements
546 +                             .ok_or(AtlasError::ValueNotSetErr(
547 +                                 "First Leg Disbursements".to_string(),
548 +                             ))?;
549 + 
550 +                     let redemptions =
551 +                         self.first_leg_redemptions
552 +                             .ok_or(AtlasError::ValueNotSetErr(
553 +                                 "First Leg Redemptions".to_string(),
554 +                             ))?;
555 + 
556 +                     let additional_coupon_dates =
557 +                         self.first_leg_additional_coupon_dates.unwrap_or_default();
558 + 
559 +                     builder
560 +                         .with_disbursements(disbursements)
561 +                         .with_redemptions(redemptions)
562 +                         .with_additional_coupon_dates(additional_coupon_dates)
563 +                         .build()?
564 +                 } else {
565 +                     let payment_frequency =
566 +                         self.first_leg_payment_frequency
567 +                             .ok_or(AtlasError::ValueNotSetErr(
568 +                                 "First Leg Payment Frequency".to_string(),
569 +                             ))?;
570 +                     builder.with_payment_frequency(payment_frequency).build()?
571 +                 }
    |

error: variables can be used directly in the `format!` string
   --> src/instruments/makeswap.rs:576:50
    |
576 |               _ => Err(AtlasError::InvalidValueErr(format!(
    |  __________________________________________________^
577 | |                 "RateType: {:?}",
578 | |                 first_rate_type
579 | |             )))?,
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:640:17
    |
640 | /                 match structure {
641 | |                     Structure::Other => {
642 | |                         let disbursements =
643 | |                             self.second_leg_disbursements
...   |
671 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
640 ~                 if structure == Structure::Other {
641 +                     let disbursements =
642 +                         self.second_leg_disbursements
643 +                             .ok_or(AtlasError::ValueNotSetErr(
644 +                                 "Second Leg Disbursements".to_string(),
645 +                             ))?;
646 + 
647 +                     let redemptions =
648 +                         self.second_leg_redemptions
649 +                             .ok_or(AtlasError::ValueNotSetErr(
650 +                                 "Second Leg Redemptions".to_string(),
651 +                             ))?;
652 + 
653 +                     let additional_coupon_dates =
654 +                         self.second_leg_additional_coupon_dates.unwrap_or_default();
655 + 
656 +                     builder
657 +                         .with_disbursements(disbursements)
658 +                         .with_redemptions(redemptions)
659 +                         .with_additional_coupon_dates(additional_coupon_dates)
660 +                         .build()?
661 +                 } else {
662 +                     let payment_frequency =
663 +                         self.second_leg_payment_frequency
664 +                             .ok_or(AtlasError::ValueNotSetErr(
665 +                                 "Second Leg Payment Frequency".to_string(),
666 +                             ))?;
667 +                     builder.with_payment_frequency(payment_frequency).build()?
668 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:727:17
    |
727 | /                 match structure {
728 | |                     Structure::Other => {
729 | |                         let disbursements =
730 | |                             self.second_leg_disbursements
...   |
758 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
727 ~                 if structure == Structure::Other {
728 +                     let disbursements =
729 +                         self.second_leg_disbursements
730 +                             .ok_or(AtlasError::ValueNotSetErr(
731 +                                 "Second leg Disbursements".to_string(),
732 +                             ))?;
733 + 
734 +                     let redemptions =
735 +                         self.second_leg_redemptions
736 +                             .ok_or(AtlasError::ValueNotSetErr(
737 +                                 "Second leg Redemptions".to_string(),
738 +                             ))?;
739 + 
740 +                     let additional_coupon_dates =
741 +                         self.second_leg_additional_coupon_dates.unwrap_or_default();
742 + 
743 +                     builder
744 +                         .with_disbursements(disbursements)
745 +                         .with_redemptions(redemptions)
746 +                         .with_additional_coupon_dates(additional_coupon_dates)
747 +                         .build()?
748 +                 } else {
749 +                     let payment_frequency =
750 +                         self.second_leg_payment_frequency
751 +                             .ok_or(AtlasError::ValueNotSetErr(
752 +                                 "Second leg Payment Frequency".to_string(),
753 +                             ))?;
754 +                     builder.with_payment_frequency(payment_frequency).build()?
755 +                 }
    |

error: variables can be used directly in the `format!` string
   --> src/instruments/makeswap.rs:760:50
    |
760 |               _ => Err(AtlasError::InvalidValueErr(format!(
    |  __________________________________________________^
761 | |                 "RateType: {:?}",
762 | |                 second_rate_type
763 | |             )))?,
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: item in documentation is missing backticks
   --> src/instruments/makeswap.rs:805:23
    |
805 |     /// Creates a new MakeFixFloatSwap builder with default values.
    |                       ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
805 -     /// Creates a new MakeFixFloatSwap builder with default values.
805 +     /// Creates a new `MakeFixFloatSwap` builder with default values.
    |

error: unnecessary structure name repetition
   --> src/instruments/makeswap.rs:808:9
    |
808 |         MakeFixFloatSwap {
    |         ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/swap.rs:16:9
   |
16 |         Swap {
   |         ^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this argument is passed by value, but not consumed in the function body
  --> src/instruments/swap.rs:24:36
   |
24 |     pub fn add_leg(&mut self, leg: Leg) {
   |                                    ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider taking a reference instead
   |
24 |     pub fn add_leg(&mut self, leg: &Leg) {
   |                                    +

error: redundant clone
  --> src/instruments/swap.rs:27:24
   |
27 |             .extend(leg.clone().cashflows().iter().cloned());
   |                        ^^^^^^^^ help: remove this
   |
note: this value is dropped without further use
  --> src/instruments/swap.rs:27:21
   |
27 |             .extend(leg.clone().cashflows().iter().cloned());
   |                     ^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone
   = note: `-D clippy::redundant-clone` implied by `-D clippy::nursery`
   = help: to override `-D clippy::nursery` add `#[allow(clippy::redundant_clone)]`

error: used `cloned` where `copied` could be used instead
  --> src/instruments/swap.rs:27:52
   |
27 |             .extend(leg.clone().cashflows().iter().cloned());
   |                                                    ^^^^^^ help: try: `copied`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:34:28
   |
34 |             "Bullet" => Ok(Structure::Bullet),
   |                            ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:35:38
   |
35 |             "EqualRedemptions" => Ok(Structure::EqualRedemptions),
   |                                      ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:36:26
   |
36 |             "Zero" => Ok(Structure::Zero),
   |                          ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:37:35
   |
37 |             "EqualPayments" => Ok(Structure::EqualPayments),
   |                                   ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:38:27
   |
38 |             "Other" => Ok(Structure::Other),
   |                           ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/instruments/traits.rs:39:50
   |
39 |               _ => Err(AtlasError::InvalidValueErr(format!(
   |  __________________________________________________^
40 | |                 "Invalid structure: {}",
41 | |                 s
42 | |             ))),
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:64:32
   |
64 |             "Redemption" => Ok(CashflowType::Redemption),
   |                                ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:65:34
   |
65 |             "Disbursement" => Ok(CashflowType::Disbursement),
   |                                  ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:66:37
   |
66 |             "FixedRateCoupon" => Ok(CashflowType::FixedRateCoupon),
   |                                     ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/instruments/traits.rs:67:40
   |
67 |             "FloatingRateCoupon" => Ok(CashflowType::FloatingRateCoupon),
   |                                        ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/instruments/traits.rs:68:50
   |
68 |               _ => Err(AtlasError::InvalidValueErr(format!(
   |  __________________________________________________^
69 | |                 "Invalid cashflow type: {}",
70 | |                 s
71 | |             ))),
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/traits.rs:140:47
    |
140 |             let redemptions = vec![notional / n as f64; n];
    |                                               ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: parameter of type `HashMap` should be generalized over different hashers
   --> src/instruments/traits.rs:157:21
    |
157 |     disbursements: &HashMap<Date, f64>,
    |                     ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
    = note: `-D clippy::implicit-hasher` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::implicit_hasher)]`
help: add a type parameter for `BuildHasher`
    |
156 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
157 ~     disbursements: &HashMap<Date, f64, S>,
    |

error: parameter of type `HashMap` should be generalized over different hashers
   --> src/instruments/traits.rs:158:19
    |
158 |     redemptions: &HashMap<Date, f64>,
    |                   ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
    |
156 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
157 |     disbursements: &HashMap<Date, f64>,
158 ~     redemptions: &HashMap<Date, f64, S>,
    |

error: parameter of type `HashSet` should be generalized over different hashers
   --> src/instruments/traits.rs:159:24
    |
159 |     additional_dates: &HashSet<Date>,
    |                        ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
    |
156 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
157 |     disbursements: &HashMap<Date, f64>,
158 |     redemptions: &HashMap<Date, f64>,
159 ~     additional_dates: &HashSet<Date, S>,
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/traits.rs:166:27
    |
166 |     for (date, amount) in redemptions.iter() {
    |                           ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: unnecessary structure name repetition
  --> src/math/interpolation/enums.rs:31:13
   |
31 |             Interpolator::Linear => {
   |             ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/math/interpolation/enums.rs:34:13
   |
34 |             Interpolator::LogLinear => {
   |             ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: these match arms have identical bodies
  --> src/math/interpolation/linear.rs:14:17
   |
14 |                 Ok(index) => index,
   |                 ^^^^^^^^^^^^^^^^^^
15 |                 Err(index) => index,
   |                 ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is unintentional make the arms return different values
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
help: otherwise merge the patterns into a single arm
   |
14 -                 Ok(index) => index,
15 -                 Err(index) => index,
14 +                 Ok(index) | Err(index) => index,
   |

error: only a `panic!` in `if`-then statement
  --> src/math/interpolation/linear.rs:18:9
   |
18 | /         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
19 | |             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
20 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
   = note: `-D clippy::manual-assert` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::manual_assert)]`
help: replace `if`-then-`panic!` with `assert!`
   |
18 -         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
19 -             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
20 -         }
18 +         assert!(!(!enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap())), "Extrapolation is not enabled, and the provided value is outside the range.");
   |

error: used `unwrap()` on an `Option` value
  --> src/math/interpolation/linear.rs:18:43
   |
18 |         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
   |                                           ^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/math/interpolation/linear.rs:18:71
   |
18 |         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
   |                                                                       ^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: these match arms have identical bodies
  --> src/math/interpolation/loglinear.rs:14:17
   |
14 |                 Ok(index) => index,
   |                 ^^^^^^^^^^^^^^^^^^
15 |                 Err(index) => index,
   |                 ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is unintentional make the arms return different values
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
help: otherwise merge the patterns into a single arm
   |
14 -                 Ok(index) => index,
15 -                 Err(index) => index,
14 +                 Ok(index) | Err(index) => index,
   |

error: only a `panic!` in `if`-then statement
  --> src/math/interpolation/loglinear.rs:18:9
   |
18 | /         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
19 | |             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
20 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
18 -         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
19 -             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
20 -         }
18 +         assert!(!(!enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap())), "Extrapolation is not enabled, and the provided value is outside the range.");
   |

error: used `unwrap()` on an `Option` value
  --> src/math/interpolation/loglinear.rs:18:43
   |
18 |         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
   |                                           ^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/math/interpolation/loglinear.rs:18:71
   |
18 |         if !enable_extrapolation && (x < *x_.first().unwrap() || x > *x_.last().unwrap()) {
   |                                                                       ^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
  --> src/models/simplemodel.rs:36:56
   |
36 |     pub const fn new(market_store: &'a MarketStore) -> SimpleModel<'a> {
   |                                                        ^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/models/simplemodel.rs:51:69
   |
51 |     pub const fn with_transform_currencies(mut self, flag: bool) -> SimpleModel<'a> {
   |                                                                     ^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: the following explicit lifetimes could be elided: 'a
  --> src/models/simplemodel.rs:57:6
   |
57 | impl<'a> Model for SimpleModel<'a> {
   |      ^^                        ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
   = note: `-D clippy::elidable-lifetime-names` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::elidable_lifetime_names)]`
help: elide the lifetimes
   |
57 - impl<'a> Model for SimpleModel<'a> {
57 + impl Model for SimpleModel<'_> {
   |

error: use Option::map_or_else instead of an if let/else
   --> src/models/simplemodel.rs:99:31
    |
 99 |           let second_currency = match fx.second_currency() {
    |  _______________________________^
100 | |             Some(ccy) => ccy,
101 | |             None => {
102 | |                 if self.transform_currencies {
...   |
108 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
 99 ~         let second_currency = fx.second_currency().map_or_else(|| if self.transform_currencies {
100 +                     self.market_store.local_currency()
101 +                 } else {
102 +                     first_currency
103 ~                 }, |ccy| ccy);
    |

error: usage of wildcard import
 --> src/models/traits.rs:1:13
  |
1 | use crate::{core::meta::*, time::date::Date, utils::errors::Result};
  |             ^^^^^^^^^^^^^ help: try: `core::meta::{DiscountFactorRequest, ExchangeRateRequest, ForwardRateRequest, MarketRequest, MarketData}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports
  = note: `-D clippy::wildcard-imports` implied by `-D clippy::pedantic`
  = help: to override `-D clippy::pedantic` add `#[allow(clippy::wildcard_imports)]`

error: unnecessary structure name repetition
  --> src/rates/enums.rs:26:28
   |
26 |             "Simple" => Ok(Compounding::Simple),
   |                            ^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/enums.rs:27:32
   |
27 |             "Compounded" => Ok(Compounding::Compounded),
   |                                ^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/enums.rs:28:32
   |
28 |             "Continuous" => Ok(Compounding::Continuous),
   |                                ^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/enums.rs:29:42
   |
29 |             "SimpleThenCompounded" => Ok(Compounding::SimpleThenCompounded),
   |                                          ^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/enums.rs:30:42
   |
30 |             "CompoundedThenSimple" => Ok(Compounding::CompoundedThenSimple),
   |                                          ^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/rates/enums.rs:31:50
   |
31 |               _ => Err(AtlasError::InvalidValueErr(format!(
   |  __________________________________________________^
32 | |                 "Invalid compounding: {}",
33 | |                 s
34 | |             ))),
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
  --> src/rates/indexstore.rs:48:41
   |
48 |     pub fn new(reference_date: Date) -> IndexStore {
   |                                         ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/indexstore.rs:49:9
   |
49 |         IndexStore {
   |         ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `cloned` where `copied` could be used instead
  --> src/rates/indexstore.rs:74:14
   |
74 |             .cloned()
   |              ^^^^^^ help: try: `copied`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: variables can be used directly in the `format!` string
  --> src/rates/indexstore.rs:75:44
   |
75 |               .ok_or(AtlasError::NotFoundErr(format!(
   |  ____________________________________________^
76 | |                 "Currency curve for currency {:?}",
77 | |                 currency
78 | |             )))
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: variables can be used directly in the `format!` string
  --> src/rates/indexstore.rs:92:44
   |
92 |               .ok_or(AtlasError::NotFoundErr(format!(
   |  ____________________________________________^
93 | |                 "Index with id {} not found",
94 | |                 id
95 | |             )))?
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: needless use of `for_each`
   --> src/instruments/fixedrateinstrument.rs:210:9
    |
210 | /         cashflows.iter().for_each(|cf| {
211 | |             //amount += cf.amount().unwrap() / rate.discount_factor(cf.payment_date(), to);
212 | |             amount += cf.amount().unwrap();
213 | |         });
    | |___________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
210 ~         for cf in cashflows.iter() {
211 +             //amount += cf.amount().unwrap() / rate.discount_factor(cf.payment_date(), to);
212 +             amount += cf.amount().unwrap();
213 +         }
    |

error: redundant clone
   --> src/rates/indexstore.rs:119:17
    |
119 |                 .to_string(),
    |                 ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/indexstore.rs:113:17
    |
113 | /                 format!(
114 | |                     "Index ({:?}) reference date ({}) does not match index store reference date ({})",
115 | |                     index.read_index()?.name(),
116 | |                     index.read_index()?.reference_date(),
...   |
119 | |                 .to_string(),
    | |________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: variables can be used directly in the `format!` string
   --> src/rates/indexstore.rs:124:52
    |
124 |               return Err(AtlasError::InvalidValueErr(format!(
    |  ____________________________________________________^
125 | |                 "Index with id {} already exists",
126 | |                 id
127 | |             )));
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: redundant clone
   --> src/rates/indexstore.rs:152:17
    |
152 |                 .to_string(),
    |                 ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/indexstore.rs:146:17
    |
146 | /                 format!(
147 | |                     "Index ({:?}) reference date ({}) does not match index store reference date ({})",
148 | |                     index.read_index()?.name(),
149 | |                     index.read_index()?.reference_date(),
...   |
152 | |                 .to_string(),
    | |________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: variables can be used directly in the `format!` string
   --> src/rates/indexstore.rs:157:52
    |
157 |               return Err(AtlasError::InvalidValueErr(format!(
    |  ____________________________________________________^
158 | |                 "Index with id {} does not exist",
159 | |                 id
160 | |             )));
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: variables can be used directly in the `format!` string
   --> src/rates/indexstore.rs:176:44
    |
176 |               .ok_or(AtlasError::NotFoundErr(format!(
    |  ____________________________________________^
177 | |                 "Index with id {} not found",
178 | |                 id
179 | |             )))
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: this argument is passed by value, but not consumed in the function body
   --> src/rates/indexstore.rs:188:15
    |
188 |         name: String,
    |               ^^^^^^ help: consider changing the type to: `&str`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:190:28
    |
190 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: variables can be used directly in the `format!` string
   --> src/rates/indexstore.rs:195:37
    |
195 |           Err(AtlasError::NotFoundErr(format!(
    |  _____________________________________^
196 | |             "Index with name {} not found",
197 | |             name
198 | |         )))
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: used `unwrap()` on a `Result` value
   --> src/rates/indexstore.rs:208:24
    |
208 |             names.push(index.read_index()?.name().unwrap());
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/instruments/fixedrateinstrument.rs:354:26
    |
354 |                 assert!((coupon.amount().unwrap() - 150000.0).abs() < 1e-6);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:219:28
    |
219 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: used `unwrap()` on a `Result` value
   --> src/instruments/fixedrateinstrument.rs:370:26
    |
370 |                 assert!((coupon.amount().unwrap() - 75000.0).abs() < 1e-6);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/rates/indexstore.rs:220:24
    |
220 |             map.insert(index.read_index()?.name().unwrap(), *id);
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:252:63
    |
252 |     pub fn advance_to_period(&self, period: Period) -> Result<IndexStore> {
    |                                                               ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:254:25
    |
254 |         let mut store = IndexStore::new(reference_date);
    |                         ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:255:28
    |
255 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:260:34
    |
260 |         for (currency, curve) in self.currency_curve.iter() {
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.currency_curve`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:271:57
    |
271 |     pub fn advance_to_date(&self, date: Date) -> Result<IndexStore> {
    |                                                         ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/indexstore.rs:272:20
    |
272 |         let days = (date - self.reference_date) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
    = note: `-D clippy::cast-possible-truncation` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_possible_truncation)]`
help: ... or use `try_from` and handle the error accordingly
    |
272 -         let days = (date - self.reference_date) as i32;
272 +         let days = i32::try_from(date - self.reference_date);
    |

error: used `unwrap()` on an `Option` value
   --> src/rates/indexstore.rs:278:21
    |
278 |         let index = self.index_map.remove(&from).unwrap();
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
  --> src/rates/interestrate.rs:34:10
   |
34 |     ) -> RateDefinition {
   |          ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/interestrate.rs:35:9
   |
35 |         RateDefinition {
   |         ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/interestrate.rs:63:9
   |
63 |         RateDefinition::new(
   |         ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/interestrate.rs:97:10
   |
97 |     ) -> InterestRate {
   |          ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/interestrate.rs:98:9
   |
98 |         InterestRate {
   |         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/interestrate.rs:106:86
    |
106 |     pub const fn from_rate_definition(rate: f64, rate_definition: RateDefinition) -> InterestRate {
    |                                                                                      ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/interestrate.rs:107:9
    |
107 |         InterestRate {
    |         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: docs for function returning `Result` missing `# Errors` section
   --> src/rates/interestrate.rs:144:5
    |
144 | /     pub fn implied_rate(
145 | |         compound: f64,
146 | |         result_dc: DayCounter,
147 | |         comp: Compounding,
148 | |         freq: Frequency,
149 | |         t: f64,
150 | |     ) -> Result<InterestRate> {
    | |_____________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc
    = note: `-D clippy::missing-errors-doc` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::missing_errors_doc)]`

error: unnecessary structure name repetition
   --> src/rates/interestrate.rs:150:17
    |
150 |     ) -> Result<InterestRate> {
    |                 ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
   --> src/rates/interestrate.rs:158:12
    |
158 |         if compound == 1.0 {
    |            ^^^^^^^^^^^^^^^ help: consider comparing them within some margin of error: `(compound - 1.0).abs() < error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: `-D clippy::float-cmp` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::float_cmp)]`

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:177:25
    |
177 |                         r = (compound - 1.0) / t
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound - 1.0) / t;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:179:25
    |
179 |                         r = (compound.powf(1.0 / (f * t)) - 1.0) * f
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound.powf(1.0 / (f * t)) - 1.0) * f;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:184:25
    |
184 |                         r = (compound - 1.0) / t
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound - 1.0) / t;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:186:25
    |
186 |                         r = (compound.powf(1.0 / (f * t)) - 1.0) * f
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound.powf(1.0 / (f * t)) - 1.0) * f;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: unnecessary structure name repetition
   --> src/rates/interestrate.rs:191:12
    |
191 |         Ok(InterestRate::new(r, comp, freq, result_dc))
    |            ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:209:36
    |
209 |             Compounding::Simple => 1.0 + rate * year_fraction,
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops
    = note: `-D clippy::suboptimal-flops` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::suboptimal_flops)]`

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:214:21
    |
214 |                     1.0 + rate * year_fraction
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:221:21
    |
221 |                     1.0 + rate * year_fraction
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: item in documentation is missing backticks
  --> src/rates/interestrateindex/iborindex.rs:51:23
   |
51 |     /// Creates a new IborIndex with the given reference date.
   |                       ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
51 -     /// Creates a new IborIndex with the given reference date.
51 +     /// Creates a new `IborIndex` with the given reference date.
   |

error: unnecessary structure name repetition
  --> src/rates/interestrateindex/iborindex.rs:53:41
   |
53 |     pub fn new(reference_date: Date) -> IborIndex {
   |                                         ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/interestrateindex/iborindex.rs:54:9
   |
54 |         IborIndex {
   |         ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:269:9
    |
269 |         assert_eq!(instrument.notional(), 5_000_000.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:270:9
    |
270 |         assert_eq!(instrument.spread(), spread);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: missing `#[must_use]` attribute on a method returning `Self`
   --> src/rates/interestrateindex/iborindex.rs:107:5
    |
107 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
108 | |         self.term_structure = Some(term_structure);
109 | |         self
110 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use
    = note: `-D clippy::return-self-not-must-use` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::return_self_not_must_use)]`

error: used `unwrap()` on a `Result` value
   --> src/instruments/floatingrateinstrument.rs:274:20
    |
274 |         assert_eq!(instrument.currency().unwrap(), Currency::USD);
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/iborindex.rs:117:14
    |
117 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: only a `panic!` in `if`-then statement
   --> src/rates/interestrateindex/iborindex.rs:129:9
    |
129 | /         if date > self.reference_date() {
130 | |             panic!("Date must be less than reference date");
131 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
    |
129 -         if date > self.reference_date() {
130 -             panic!("Date must be less than reference date");
131 -         }
129 +         assert!(date <= self.reference_date(), "Date must be less than reference date");
    |

error: used `unwrap()` on a `Result` value
   --> src/instruments/floatingrateinstrument.rs:310:26
    |
310 |                 assert!((coupon.amount().unwrap() - 150000.0).abs() < 1e-6);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:311:17
    |
311 |                 assert_eq!(coupon.spread(), spread);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: variables can be used directly in the `format!` string
   --> src/rates/interestrateindex/iborindex.rs:169:52
    |
169 |               return Err(AtlasError::InvalidValueErr(format!(
    |  ____________________________________________________^
170 | |                 "End date {:?} is before start date {:?}",
171 | |                 end_date, start_date
172 | |             )));
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: used `unwrap()` on a `Result` value
   --> src/instruments/floatingrateinstrument.rs:320:26
    |
320 |                 assert!((coupon.amount().unwrap() - 75000.0).abs() < 1e-6);
    |                          ^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:321:17
    |
321 |                 assert_eq!(coupon.spread(), new_spread);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/iborindex.rs:221:13
    |
221 |             IborIndex::new(new_curve.reference_date())
    |             ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/iborindex.rs:231:20
    |
231 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
231 -         let days = (date - self.reference_date()) as i32;
231 +         let days = i32::try_from(date - self.reference_date());
    |

error: multiply and add expressions can be calculated more efficiently and accurately
  --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:59:5
   |
59 |     (1.0 + rate * year_fraction) * index
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: parameter of type `HashMap` should be generalized over different hashers
  --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:72:20
   |
72 |     fixings_rates: HashMap<Date, f64>,
   |                    ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
   |
71 ~ pub fn compose_fixing_rate<S: ::std::hash::BuildHasher + Default>(
72 ~     fixings_rates: HashMap<Date, f64, S>,
73 |     rate_definition: RateDefinition,
...
77 |
78 ~     let mut fixing_index = HashMap::default();
   |

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:102:41
    |
102 |     pub fn new(reference_date: Date) -> OvernightCompoundedRateIndex {
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:103:9
    |
103 |         OvernightCompoundedRateIndex {
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:118:5
    |
118 | /     pub fn rate_definition(&self) -> RateDefinition {
119 | |         self.overnight_index.rate_definition()
120 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
    |
118 |     pub const fn rate_definition(&self) -> RateDefinition {
    |         +++++

error: assigning the result of `Clone::clone()` may be inefficient
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:132:9
    |
132 |         self.fixings_rates = fixings_rates.clone();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `self.fixings_rates.clone_from(&fixings_rates)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones

error: missing `#[must_use]` attribute on a method returning `Self`
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:145:5
    |
145 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
146 | |         self.overnight_index = self.overnight_index.with_term_structure(term_structure);
147 | |         self
148 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:164:14
    |
164 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:177:9
    |
177 |         self.overnight_index.add_fixing(date, rate)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `self.overnight_index.add_fixing(date, rate);`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:222:20
    |
222 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
222 -         let days = (date - self.reference_date()) as i32;
222 +         let days = i32::try_from(date - self.reference_date());
    |

error: unnecessary structure name repetition
  --> src/rates/interestrateindex/overnightindex.rs:42:41
   |
42 |     pub fn new(reference_date: Date) -> OvernightIndex {
   |                                         ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/interestrateindex/overnightindex.rs:43:9
   |
43 |         OvernightIndex {
   |         ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: missing `#[must_use]` attribute on a method returning `Self`
  --> src/rates/interestrateindex/overnightindex.rs:81:5
   |
81 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
82 | |         self.term_structure = Some(term_structure);
83 | |         self
84 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightindex.rs:111:14
    |
111 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: variables can be used directly in the `format!` string
   --> src/rates/interestrateindex/overnightindex.rs:190:45
    |
190 |               Err(AtlasError::InvalidValueErr(format!(
    |  _____________________________________________^
191 | |                 "Invalid dates: start_date: {:?}, end_date: {:?}",
192 | |                 start_date, end_date
193 | |             )))
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: used `unwrap()` on an `Option` value
   --> src/rates/interestrateindex/overnightindex.rs:207:40
    |
207 |             let mut last_fixing_date = fixings.keys().max().cloned().unwrap();
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightindex.rs:207:61
    |
207 |             let mut last_fixing_date = fixings.keys().max().cloned().unwrap();
    |                                                             ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `unwrap()` on an `Option` value
   --> src/rates/interestrateindex/overnightindex.rs:209:36
    |
209 |                 let last_fixing = *fixings.get(&last_fixing_date).unwrap();
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: variables can be used directly in the `format!` string
   --> src/rates/interestrateindex/overnightindex.rs:220:84
    |
220 |                   let last_fixing = fixings.get(&seed).ok_or(AtlasError::NotFoundErr(format!(
    |  ____________________________________________________________________________________^
221 | |                     "No fixing for {} and date {}",
222 | |                     name, seed
223 | |                 )))?;
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/overnightindex.rs:234:13
    |
234 |             OvernightIndex::new(new_curve.reference_date())
    |             ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/overnightindex.rs:243:20
    |
243 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
243 -         let days = (date - self.reference_date()) as i32;
243 +         let days = i32::try_from(date - self.reference_date());
    |

error: used `unwrap()` on an `Option` value
  --> src/rates/interestrateindex/traits.rs:32:31
   |
32 |             let first_date = *self.fixings().keys().min().unwrap();
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/rates/interestrateindex/traits.rs:33:30
   |
33 |             let last_date = *self.fixings().keys().max().unwrap();
   |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/rates/interestrateindex/traits.rs:43:27
   |
43 |                 .map(|&d| (d - first_date) as f64)
   |                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/rates/interestrateindex/traits.rs:52:32
   |
52 |                     let days = (current_date - first_date) as f64;
   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: unnecessary structure name repetition
  --> src/rates/yieldtermstructure/compositetermstructure.rs:53:10
   |
53 |     ) -> CompositeTermStructure {
   |          ^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/yieldtermstructure/compositetermstructure.rs:54:9
   |
54 |         CompositeTermStructure {
   |         ^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/compositetermstructure.rs:110:21
    |
110 |         Ok(Arc::new(CompositeTermStructure::new(spread, base)))
    |                     ^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/compositetermstructure.rs:116:21
    |
116 |         Ok(Arc::new(CompositeTermStructure::new(spread, base)))
    |                     ^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/yieldtermstructure/discounttermstructure.rs:92:17
   |
92 |     ) -> Result<DiscountTermStructure> {
   |                 ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
   --> src/rates/yieldtermstructure/discounttermstructure.rs:106:12
    |
106 |         if discount_factors[0] != 1.0 {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider comparing them within some margin of error: `(discount_factors[0] - 1.0).abs() > error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/discounttermstructure.rs:117:12
    |
117 |         Ok(DiscountTermStructure {
    |            ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/discounttermstructure.rs:224:21
    |
224 |         Ok(Arc::new(DiscountTermStructure::new(
    |                     ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/discounttermstructure.rs:234:20
    |
234 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
234 -         let days = (date - self.reference_date()) as i32;
234 +         let days = i32::try_from(date - self.reference_date());
    |

error: this could be a `const fn`
  --> src/rates/yieldtermstructure/flatforwardtermstructure.rs:34:5
   |
34 | /     pub fn new(
35 | |         reference_date: Date,
36 | |         rate: f64,
37 | |         rate_definition: RateDefinition,
...  |
44 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
34 |     pub const fn new(
   |         +++++

error: unnecessary structure name repetition
  --> src/rates/yieldtermstructure/flatforwardtermstructure.rs:38:10
   |
38 |     ) -> FlatForwardTermStructure {
   |          ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/yieldtermstructure/flatforwardtermstructure.rs:40:9
   |
40 |         FlatForwardTermStructure {
   |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
  --> src/rates/yieldtermstructure/flatforwardtermstructure.rs:54:5
   |
54 | /     pub fn value(&self) -> f64 {
55 | |         self.rate.rate()
56 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
54 |     pub const fn value(&self) -> f64 {
   |         +++++

error: this could be a `const fn`
  --> src/rates/yieldtermstructure/flatforwardtermstructure.rs:60:5
   |
60 | /     pub fn rate_definition(&self) -> RateDefinition {
61 | |         self.rate.rate_definition()
62 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
60 |     pub const fn rate_definition(&self) -> RateDefinition {
   |         +++++

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/flatforwardtermstructure.rs:101:21
    |
101 |         Ok(Arc::new(FlatForwardTermStructure::new(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/flatforwardtermstructure.rs:109:21
    |
109 |         Ok(Arc::new(FlatForwardTermStructure::new(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/yieldtermstructure/tenorbasedzeroratetermstructure.rs:62:17
   |
62 |     ) -> Result<TenorBasedZeroRateTermStructure> {
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/rates/yieldtermstructure/tenorbasedzeroratetermstructure.rs:73:12
   |
73 |         Ok(TenorBasedZeroRateTermStructure {
   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/tenorbasedzeroratetermstructure.rs:149:21
    |
149 |         Ok(Arc::new(TenorBasedZeroRateTermStructure::new(
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/tenorbasedzeroratetermstructure.rs:160:20
    |
160 |         let days = (date - self.reference_date) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
160 -         let days = (date - self.reference_date) as i32;
160 +         let days = i32::try_from(date - self.reference_date);
    |

error: unnecessary structure name repetition
  --> src/rates/yieldtermstructure/zeroratetermstructure.rs:76:17
   |
76 |     ) -> Result<ZeroRateTermStructure> {
   |                 ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/zeroratetermstructure.rs:100:12
    |
100 |         Ok(ZeroRateTermStructure {
    |            ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/zeroratetermstructure.rs:218:21
    |
218 |         Ok(Arc::new(ZeroRateTermStructure::new(
    |                     ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/zeroratetermstructure.rs:229:20
    |
229 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
229 -         let days = (date - self.reference_date()) as i32;
229 +         let days = i32::try_from(date - self.reference_date());
    |

error: unnecessary structure name repetition
  --> src/time/calendar.rs:48:13
   |
48 |             Calendar::NullCalendar(cal) => cal.impl_name(),
   |             ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:49:13
   |
49 |             Calendar::WeekendsOnly(cal) => cal.impl_name(),
   |             ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:50:13
   |
50 |             Calendar::TARGET(cal) => cal.impl_name(),
   |             ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:51:13
   |
51 |             Calendar::UnitedStates(cal) => cal.impl_name(),
   |             ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:52:13
   |
52 |             Calendar::Brazil(cal) => cal.impl_name(),
   |             ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:53:13
   |
53 |             Calendar::Chile(cal) => cal.impl_name(),
   |             ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:60:63
   |
60 |     fn deserialize<D>(deserializer: D) -> std::result::Result<Calendar, D::Error>
   |                                                               ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:66:34
   |
66 |             "NullCalendar" => Ok(Calendar::NullCalendar(NullCalendar::new())),
   |                                  ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:67:34
   |
67 |             "WeekendsOnly" => Ok(Calendar::WeekendsOnly(WeekendsOnly::new())),
   |                                  ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: these match arms have identical bodies
   --> src/instruments/instrument.rs:282:13
    |
282 |             Instrument::FixedRateInstrument(_) => None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
283 |             Instrument::FloatingRateInstrument(_) => None,
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is unintentional make the arms return different values
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
help: otherwise merge the patterns into a single arm
    |
282 -             Instrument::FixedRateInstrument(_) => None,
283 -             Instrument::FloatingRateInstrument(_) => None,
282 +             Instrument::FixedRateInstrument(_) | Instrument::FloatingRateInstrument(_) => None,
    |

error: unnecessary structure name repetition
  --> src/time/calendar.rs:68:28
   |
68 |             "TARGET" => Ok(Calendar::TARGET(TARGET::new())),
   |                            ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:69:34
   |
69 |             "UnitedStates" => Ok(Calendar::UnitedStates(UnitedStates::default())),
   |                                  ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:70:28
   |
70 |             "Brazil" => Ok(Calendar::Brazil(Brazil::default())),
   |                            ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:71:27
   |
71 |             "Chile" => Ok(Calendar::Chile(Chile::default())),
   |                           ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/time/calendar.rs:72:47
   |
72 |             _ => Err(serde::de::Error::custom(format!("Invalid calendar: {}", s))),
   |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
72 -             _ => Err(serde::de::Error::custom(format!("Invalid calendar: {}", s))),
72 +             _ => Err(serde::de::Error::custom(format!("Invalid calendar: {s}"))),
   |

error: unnecessary structure name repetition
  --> src/time/calendar.rs:82:34
   |
82 |             "NullCalendar" => Ok(Calendar::NullCalendar(NullCalendar::new())),
   |                                  ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:83:34
   |
83 |             "WeekendsOnly" => Ok(Calendar::WeekendsOnly(WeekendsOnly::new())),
   |                                  ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:84:28
   |
84 |             "TARGET" => Ok(Calendar::TARGET(TARGET::new())),
   |                            ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:85:34
   |
85 |             "UnitedStates" => Ok(Calendar::UnitedStates(UnitedStates::default())),
   |                                  ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:86:28
   |
86 |             "Brazil" => Ok(Calendar::Brazil(Brazil::default())),
   |                            ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendar.rs:87:27
   |
87 |             "Chile" => Ok(Calendar::Chile(Chile::default())),
   |                           ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/time/calendar.rs:88:50
   |
88 |               _ => Err(AtlasError::InvalidValueErr(format!(
   |  __________________________________________________^
89 | |                 "Invalid calendar: {}",
90 | |                 s
91 | |             ))),
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
   --> src/time/calendar.rs:112:13
    |
112 |             Calendar::NullCalendar(cal) => cal.impl_name(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:113:13
    |
113 |             Calendar::WeekendsOnly(cal) => cal.impl_name(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:114:13
    |
114 |             Calendar::TARGET(cal) => cal.impl_name(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:115:13
    |
115 |             Calendar::UnitedStates(cal) => cal.impl_name(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:116:13
    |
116 |             Calendar::Brazil(cal) => cal.impl_name(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:117:13
    |
117 |             Calendar::Chile(cal) => cal.impl_name(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:123:13
    |
123 |             Calendar::NullCalendar(cal) => cal.impl_is_business_day(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:124:13
    |
124 |             Calendar::WeekendsOnly(cal) => cal.impl_is_business_day(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:125:13
    |
125 |             Calendar::TARGET(cal) => cal.impl_is_business_day(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:126:13
    |
126 |             Calendar::UnitedStates(cal) => cal.impl_is_business_day(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:127:13
    |
127 |             Calendar::Brazil(cal) => cal.impl_is_business_day(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:128:13
    |
128 |             Calendar::Chile(cal) => cal.impl_is_business_day(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:134:13
    |
134 |             Calendar::NullCalendar(cal) => cal.added_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:135:13
    |
135 |             Calendar::WeekendsOnly(cal) => cal.added_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:136:13
    |
136 |             Calendar::TARGET(cal) => cal.added_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:137:13
    |
137 |             Calendar::UnitedStates(cal) => cal.added_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:138:13
    |
138 |             Calendar::Brazil(cal) => cal.added_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:139:13
    |
139 |             Calendar::Chile(cal) => cal.added_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:145:13
    |
145 |             Calendar::NullCalendar(cal) => cal.removed_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:146:13
    |
146 |             Calendar::WeekendsOnly(cal) => cal.removed_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:147:13
    |
147 |             Calendar::TARGET(cal) => cal.removed_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:148:13
    |
148 |             Calendar::UnitedStates(cal) => cal.removed_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:149:13
    |
149 |             Calendar::Brazil(cal) => cal.removed_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:150:13
    |
150 |             Calendar::Chile(cal) => cal.removed_holidays(),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:156:13
    |
156 |             Calendar::NullCalendar(cal) => cal.add_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:157:13
    |
157 |             Calendar::WeekendsOnly(cal) => cal.add_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:158:13
    |
158 |             Calendar::TARGET(cal) => cal.add_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:159:13
    |
159 |             Calendar::UnitedStates(cal) => cal.add_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:160:13
    |
160 |             Calendar::Brazil(cal) => cal.add_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:161:13
    |
161 |             Calendar::Chile(cal) => cal.add_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:167:13
    |
167 |             Calendar::NullCalendar(cal) => cal.remove_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:168:13
    |
168 |             Calendar::WeekendsOnly(cal) => cal.remove_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:169:13
    |
169 |             Calendar::TARGET(cal) => cal.remove_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:170:13
    |
170 |             Calendar::UnitedStates(cal) => cal.remove_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:171:13
    |
171 |             Calendar::Brazil(cal) => cal.remove_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:172:13
    |
172 |             Calendar::Chile(cal) => cal.remove_holiday(date),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:178:13
    |
178 |             Calendar::NullCalendar(cal) => cal.holiday_list(from, to, include_weekends),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:179:13
    |
179 |             Calendar::WeekendsOnly(cal) => cal.holiday_list(from, to, include_weekends),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:180:13
    |
180 |             Calendar::TARGET(cal) => cal.holiday_list(from, to, include_weekends),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:181:13
    |
181 |             Calendar::UnitedStates(cal) => cal.holiday_list(from, to, include_weekends),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:182:13
    |
182 |             Calendar::Brazil(cal) => cal.holiday_list(from, to, include_weekends),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:183:13
    |
183 |             Calendar::Chile(cal) => cal.holiday_list(from, to, include_weekends),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:189:13
    |
189 |             Calendar::NullCalendar(cal) => cal.business_day_list(from, to),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:190:13
    |
190 |             Calendar::WeekendsOnly(cal) => cal.business_day_list(from, to),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:191:13
    |
191 |             Calendar::TARGET(cal) => cal.business_day_list(from, to),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:192:13
    |
192 |             Calendar::UnitedStates(cal) => cal.business_day_list(from, to),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:193:13
    |
193 |             Calendar::Brazil(cal) => cal.business_day_list(from, to),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendar.rs:194:13
    |
194 |             Calendar::Chile(cal) => cal.business_day_list(from, to),
    |             ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendars/brazil.rs:32:9
   |
32 |         Brazil {
   |         ^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/calendars/brazil.rs:113:17
    |
113 |         let w = NaiveDate::from_ymd_opt(year, month, day).unwrap().weekday();
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/calendars/brazil.rs:233:9
    |
233 |         Brazil::new(Market::Settlement)
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:42:17
   |
42 |         let w = NaiveDate::from_ymd_opt(year, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:71:17
   |
71 |         let w = NaiveDate::from_ymd_opt(2001, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:85:17
   |
85 |         let w = NaiveDate::from_ymd_opt(1810, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:93:17
   |
93 |         let w = NaiveDate::from_ymd_opt(1810, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/calendars/chile.rs:98:17
   |
98 |         let w = NaiveDate::from_ymd_opt(1492, month, day).unwrap().weekday();
   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/calendars/chile.rs:103:17
    |
103 |         let w = NaiveDate::from_ymd_opt(year, month, day).unwrap().weekday();
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/calendars/chile.rs:133:12
    |
133 |         if Chile::is_weekend(weekday) {
    |            ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/calendars/chile.rs:226:9
    |
226 |         Chile::new(Market::SSE)
    |         ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendars/nullcalendar.rs:19:9
   |
19 |         NullCalendar {
   |         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i32` to `usize` may lose the sign of the value
  --> src/time/calendars/traits.rs:52:19
   |
52 |     easter_monday[(y - 1901) as usize]
   |                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss
   = note: `-D clippy::cast-sign-loss` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_sign_loss)]`

error: boolean to int conversion using if
   --> src/time/calendars/traits.rs:141:16
    |
141 |           } else if include_first && include_last && self.is_business_day(&from) {
    |  ________________^
142 | |             1
143 | |         } else {
144 | |             0
145 | |         }
    | |_________^ help: replace with from: `{ i64::from(include_first && include_last && self.is_business_day(&from)) }`
    |
    = note: `(include_first && include_last && self.is_business_day(&from)) as i64` or `(include_first && include_last && self.is_business_day(&from)).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if
    = note: `-D clippy::bool-to-int-with-if` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::bool_to_int_with_if)]`

error: use Option::map_or instead of an if let/else
   --> src/time/calendars/traits.rs:152:20
    |
152 |           let conv = match convention {
    |  ____________________^
153 | |             Some(convention) => convention,
154 | |             None => BusinessDayConvention::Following,
155 | |         };
    | |_________^ help: try: `convention.map_or(BusinessDayConvention::Following, |convention| convention)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error: this pattern matching can be expressed using equality
   --> src/time/calendars/traits.rs:172:24
    |
172 |                     if let BusinessDayConvention::HalfMonthModifiedFollowing = conv {
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `conv == BusinessDayConvention::HalfMonthModifiedFollowing`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#equatable_if_let
    = note: `-D clippy::equatable-if-let` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::equatable_if_let)]`

error: this pattern matching can be expressed using equality
   --> src/time/calendars/traits.rs:183:20
    |
183 |                 if let BusinessDayConvention::ModifiedPreceding = conv {
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `conv == BusinessDayConvention::ModifiedPreceding`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#equatable_if_let

error: boolean to int conversion using if
   --> src/time/calendars/traits.rs:212:23
    |
212 |           let mut res = if include_last && self.is_business_day(&to) {
    |  _______________________^
213 | |             1
214 | |         } else {
215 | |             0
216 | |         };
    | |_________^ help: replace with from: `i64::from(include_last && self.is_business_day(&to))`
    |
    = note: `(include_last && self.is_business_day(&to)) as i64` or `(include_last && self.is_business_day(&to)).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if

error: unnecessary structure name repetition
   --> src/time/calendars/unitedstates.rs:183:9
    |
183 |         UnitedStates::new(Market::Sofr)
    |         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/calendars/weekendsonly.rs:18:9
   |
18 |         WeekendsOnly {
   |         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: usage of wildcard import
 --> src/time/date.rs:1:5
  |
1 | use super::enums::*;
  |     ^^^^^^^^^^^^^^^ help: try: `super::enums::{TimeUnit, Weekday}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: variables can be used directly in the `format!` string
  --> src/time/date.rs:53:18
   |
53 |             _ => panic!("Invalid month: {}", month),
   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
53 -             _ => panic!("Invalid month: {}", month),
53 +             _ => panic!("Invalid month: {month}"),
   |

error: used `unwrap()` on an `Option` value
  --> src/time/date.rs:68:20
   |
68 |               day += NaiveDate::from_ymd_opt(self.year(), m, 1)
   |  ____________________^
69 | |                 .unwrap()
   | |_________________________^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
  --> src/time/date.rs:68:20
   |
68 |             day += NaiveDate::from_ymd_opt(self.year(), m, 1)
   |                    ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `u32` to `i32` may wrap around the value
  --> src/time/date.rs:72:15
   |
72 |         day + self.day() as i32
   |               ^^^^^^^^^^^^^^^^^ help: if this is intentional, use `cast_signed()` instead: `self.day().cast_signed()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap
   = note: `-D clippy::cast-possible-wrap` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_possible_wrap)]`

error: used `unwrap()` on an `Option` value
  --> src/time/date.rs:84:38
   |
84 |             TimeUnit::Days => date + Duration::try_days(i64::from(n)).unwrap(),
   |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
  --> src/time/date.rs:85:39
   |
85 |             TimeUnit::Weeks => date + Duration::try_days(i64::from(7 * n)).unwrap(),
   |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:88:40
   |
88 |                     date + Months::new(n as u32)
   |                                        ^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `n.cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:90:40
   |
90 |                     date - Months::new((-n) as u32)
   |                                        ^^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `(-n).cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:95:45
   |
95 |                     date + Months::new(12 * n as u32)
   |                                             ^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `n.cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:97:40
   |
97 |                     date - Months::new((-12 * n) as u32)
   |                                        ^^^^^^^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `(-12 * n).cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:106:32
    |
106 |         let mut end_of_month = NaiveDate::from_ymd_opt(year, month, 1).unwrap();
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:106:32
    |
106 |         let mut end_of_month = NaiveDate::from_ymd_opt(year, month, 1).unwrap();
    |                                ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:108:25
    |
108 |         end_of_month -= Duration::try_days(1).unwrap();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:125:19
    |
125 |     type Output = NaiveDate;
    |                   ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:145:19
    |
145 |     type Output = NaiveDate;
    |                   ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:171:9
    |
171 |         Date { base_date }
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:185:63
    |
185 |     fn deserialize<D>(deserializer: D) -> std::result::Result<Date, D::Error>
    |                                                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:190:9
    |
190 |         Date::from_str(&s, "%Y-%m-%d").map_err(serde::de::Error::custom)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:197:52
    |
197 |     pub fn new(year: i32, month: u32, day: u32) -> Date {
    |                                                    ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: use Option::map_or_else instead of an if let/else
   --> src/time/date.rs:199:9
    |
199 | /         match base_date {
200 | |             Some(base_date) => Date::from(base_date),
201 | |             None => panic!("Invalid date: {}-{}-{}", year, month, day),
202 | |         }
    | |_________^ help: try: `base_date.map_or_else(|| panic!("Invalid date: {}-{}-{}", year, month, day), |base_date| Date::from(base_date))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error: unnecessary structure name repetition
   --> src/time/date.rs:200:32
    |
200 |             Some(base_date) => Date::from(base_date),
    |                                ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/time/date.rs:201:21
    |
201 |             None => panic!("Invalid date: {}-{}-{}", year, month, day),
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
201 -             None => panic!("Invalid date: {}-{}-{}", year, month, day),
201 +             None => panic!("Invalid date: {year}-{month}-{day}"),
    |

error: unnecessary structure name repetition
   --> src/time/date.rs:210:54
    |
210 |     pub fn from_str(date: &str, fmt: &str) -> Result<Date> {
    |                                                      ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:212:12
    |
212 |         Ok(Date::from(base_date))
    |            ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:271:55
    |
271 |     pub fn advance(&self, n: i32, units: TimeUnit) -> Date {
    |                                                       ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:273:9
    |
273 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:278:49
    |
278 |     pub fn add_period(&self, period: Period) -> Date {
    |                                                 ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:280:9
    |
280 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:285:31
    |
285 |     pub fn end_of_month(date: Date) -> Date {
    |                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:285:40
    |
285 |     pub fn end_of_month(date: Date) -> Date {
    |                                        ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:287:9
    |
287 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:292:80
    |
292 |     pub fn nth_weekday(n: i32, day_of_week: Weekday, month: u32, year: i32) -> Date {
    |                                                                                ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:293:25
    |
293 |         let base_date = Date::new(year, month, 1);
    |                         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: boolean to int conversion using if
   --> src/time/date.rs:295:24
    |
295 |         let skip = n - if day_of_week >= first { 1 } else { 0 };
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with from: `i32::from(day_of_week >= first)`
    |
    = note: `(day_of_week >= first) as i32` or `(day_of_week >= first).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:297:25
    |
297 |         let base_date = NaiveDate::from_ymd_opt(year, month, day as u32).unwrap();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: casting `i32` to `u32` may lose the sign of the value
   --> src/time/date.rs:297:62
    |
297 |         let base_date = NaiveDate::from_ymd_opt(year, month, day as u32).unwrap();
    |                                                              ^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `day.cast_unsigned()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: unnecessary structure name repetition
   --> src/time/date.rs:298:9
    |
298 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:303:31
    |
303 |     pub fn next_weekday(date: Date, weekday: Weekday) -> Date {
    |                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:303:58
    |
303 |     pub fn next_weekday(date: Date, weekday: Weekday) -> Date {
    |                                                          ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casts from `i32` to `i64` can be expressed infallibly using `From`
   --> src/time/date.rs:305:16
    |
305 |         date + ((if wd > weekday { 7 } else { 0 }) - wd + weekday) as i64
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
    = note: `-D clippy::cast-lossless` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_lossless)]`
help: use `i64::from` instead
    |
305 -         date + ((if wd > weekday { 7 } else { 0 }) - wd + weekday) as i64
305 +         date + i64::from((if wd > weekday { 7 } else { 0 }) - wd + weekday)
    |

error: unnecessary structure name repetition
   --> src/time/date.rs:324:23
    |
324 |     pub fn empty() -> Date {
    |                       ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:326:9
    |
326 |         Date::from(NaiveDate::MIN)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:359:19
    |
359 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:363:9
    |
363 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:377:19
    |
377 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:381:9
    |
381 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:394:19
    |
394 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:397:53
    |
397 |         let base_date: NaiveDate = self.base_date + Duration::try_days(rhs).unwrap();
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:398:9
    |
398 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:413:43
    |
413 |         self.base_date = self.base_date + Duration::try_days(rhs).unwrap();
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:426:19
    |
426 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:429:53
    |
429 |         let base_date: NaiveDate = self.base_date - Duration::try_days(rhs).unwrap();
    |                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/date.rs:430:9
    |
430 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on an `Option` value
   --> src/time/date.rs:445:43
    |
445 |         self.base_date = self.base_date - Duration::try_days(rhs).unwrap();
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: usage of wildcard import
 --> src/time/daycounter.rs:5:31
  |
5 |     business252::Business252, thirty360::*, traits::DayCountProvider,
  |                               ^^^^^^^^^^^^ help: try: `thirty360::{Thirty360, Thirty360US}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:35:13
   |
35 |             DayCounter::Actual360 => Actual360::day_count(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:36:13
   |
36 |             DayCounter::Actual365 => Actual365::day_count(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:37:13
   |
37 |             DayCounter::Thirty360 => Thirty360::day_count(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:38:13
   |
38 |             DayCounter::Thirty360US => Thirty360US::day_count(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:39:13
   |
39 |             DayCounter::ActualActual => ActualActual::day_count(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:40:13
   |
40 |             DayCounter::Business252 => Business252::day_count(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:48:13
   |
48 |             DayCounter::Actual360 => Actual360::year_fraction(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:49:13
   |
49 |             DayCounter::Actual365 => Actual365::year_fraction(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:50:13
   |
50 |             DayCounter::Thirty360 => Thirty360::year_fraction(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:51:13
   |
51 |             DayCounter::Thirty360US => Thirty360US::year_fraction(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:52:13
   |
52 |             DayCounter::ActualActual => ActualActual::year_fraction(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:53:13
   |
53 |             DayCounter::Business252 => Business252::year_fraction(start, end),
   |             ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:63:31
   |
63 |             "Actual360" => Ok(DayCounter::Actual360),
   |                               ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:64:31
   |
64 |             "Actual365" => Ok(DayCounter::Actual365),
   |                               ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:65:31
   |
65 |             "Thirty360" => Ok(DayCounter::Thirty360), // to match curveengine
   |                               ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:66:33
   |
66 |             "Thirty360US" => Ok(DayCounter::Thirty360US),
   |                                 ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:67:34
   |
67 |             "ActualActual" => Ok(DayCounter::ActualActual),
   |                                  ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/daycounter.rs:68:33
   |
68 |             "Business252" => Ok(DayCounter::Business252),
   |                                 ^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/time/daycounter.rs:69:50
   |
69 |               _ => Err(AtlasError::InvalidValueErr(format!(
   |  __________________________________________________^
70 | |                 "Invalid day counter: {}",
71 | |                 s
72 | |             ))),
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actual360.rs:28:9
   |
28 |         Actual360::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: unnecessary structure name repetition
  --> src/time/daycounters/actual360.rs:28:9
   |
28 |         Actual360::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actual365.rs:28:9
   |
28 |         Actual365::day_count(start, end) as f64 / 365.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: unnecessary structure name repetition
  --> src/time/daycounters/actual365.rs:28:9
   |
28 |         Actual365::day_count(start, end) as f64 / 365.0
   |         ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
  --> src/time/daycounters/actualactual.rs:23:1
   |
23 | / fn days_in_year(year: i32) -> i32 {
24 | |     if Date::is_leap_year(year) {
25 | |         366
26 | |     } else {
...  |
29 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
23 | const fn days_in_year(year: i32) -> i32 {
   | +++++

error: unnecessary structure name repetition
  --> src/time/daycounters/actualactual.rs:37:20
   |
37 |         let days = ActualActual::day_count(start, end);
   |                    ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: `if` chain can be rewritten with `match`
  --> src/time/daycounters/actualactual.rs:42:9
   |
42 | /         if y1 == y2 {
43 | |             days as f64 / days_in_year(y1) as f64
44 | |         } else if y2 > y1 {
45 | |             let mut sum = 0.0;
...  |
60 | |             sum
61 | |         }
   | |_________^ help: consider rewriting the `if` chain with `match`: `match y1.cmp(&y2) {...}`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#comparison_chain
   = note: `-D clippy::comparison-chain` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::comparison_chain)]`

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:43:13
   |
43 |             days as f64 / days_in_year(y1) as f64
   |             ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:43:27
   |
43 |             days as f64 / days_in_year(y1) as f64
   |                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
43 -             days as f64 / days_in_year(y1) as f64
43 +             days as f64 / f64::from(days_in_year(y1))
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:46:20
   |
46 |             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:46:63
   |
46 |             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
   |                                                               ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
46 -             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
46 +             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / f64::from(days_in_year(y1));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:50:20
   |
50 |             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:50:57
   |
50 |             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
50 -             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
50 +             sum += (end - Date::new(y2, 1, 1)) as f64 / f64::from(days_in_year(y2));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:55:20
   |
55 |             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:55:61
   |
55 |             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
   |                                                             ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
55 -             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
55 +             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / f64::from(days_in_year(y2));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:59:20
   |
59 |             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:59:59
   |
59 |             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
   |                                                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
59 -             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
59 +             sum -= (start - Date::new(y1, 1, 1)) as f64 / f64::from(days_in_year(y1));
   |

error: casting `usize` to `i64` may wrap around the value on targets with 64-bit wide pointers
  --> src/time/daycounters/business252.rs:28:14
   |
28 |             -(calendar.business_day_list(start, end).len() as i64)
   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap

error: casting `usize` to `i64` may wrap around the value on targets with 64-bit wide pointers
  --> src/time/daycounters/business252.rs:30:13
   |
30 |             calendar.business_day_list(start, end).len() as i64
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/business252.rs:35:9
   |
35 |         Self::day_count(start, end) as f64 / 252.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:22:18
   |
22 |         let d1 = start.day() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
22 -         let d1 = start.day() as i64;
22 +         let d1 = i64::from(start.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:23:18
   |
23 |         let d2 = end.day() as i64;
   |                  ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
23 -         let d2 = end.day() as i64;
23 +         let d2 = i64::from(end.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:24:18
   |
24 |         let m1 = start.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
24 -         let m1 = start.month() as i64;
24 +         let m1 = i64::from(start.month());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:25:18
   |
25 |         let m2 = end.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
25 -         let m2 = end.month() as i64;
25 +         let m2 = i64::from(end.month());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:26:18
   |
26 |         let y1 = start.year() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
26 -         let y1 = start.year() as i64;
26 +         let y1 = i64::from(start.year());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:27:18
   |
27 |         let y2 = end.year() as i64;
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
27 -         let y2 = end.year() as i64;
27 +         let y2 = i64::from(end.year());
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/thirty360.rs:36:9
   |
36 |         Thirty360::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: unnecessary structure name repetition
  --> src/time/daycounters/thirty360.rs:36:9
   |
36 |         Thirty360::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this could be a `const fn`
  --> src/time/daycounters/thirty360.rs:59:1
   |
59 | / fn is_last_of_february(d: i64, m: i64, y: i32) -> bool {
60 | |     if Date::is_leap_year(y) {
61 | |         m == 2 && d == 28 + 1
62 | |     } else {
...  |
65 | | }
   | |_^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
59 | const fn is_last_of_february(d: i64, m: i64, y: i32) -> bool {
   | +++++

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:69:18
   |
69 |         let d1 = start.day() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
69 -         let d1 = start.day() as i64;
69 +         let d1 = i64::from(start.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:70:18
   |
70 |         let d2 = end.day() as i64;
   |                  ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
70 -         let d2 = end.day() as i64;
70 +         let d2 = i64::from(end.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:71:18
   |
71 |         let m1 = start.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
71 -         let m1 = start.month() as i64;
71 +         let m1 = i64::from(start.month());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:72:18
   |
72 |         let m2 = end.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
72 -         let m2 = end.month() as i64;
72 +         let m2 = i64::from(end.month());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:90:16
   |
90 |         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |                ^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
90 -         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
90 +         360 * (i64::from(y2) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:90:30
   |
90 |         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |                              ^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
90 -         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
90 +         360 * ((y2 as i64) - i64::from(y1)) + 30 * (m2 - m1) + (dd2 - dd1)
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/thirty360.rs:94:9
   |
94 |         Thirty360US::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: unnecessary structure name repetition
  --> src/time/daycounters/thirty360.rs:94:9
   |
94 |         Thirty360US::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:47:33
   |
47 |             "NoFrequency" => Ok(Frequency::NoFrequency),
   |                                 ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:48:26
   |
48 |             "Once" => Ok(Frequency::Once),
   |                          ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:49:28
   |
49 |             "Annual" => Ok(Frequency::Annual),
   |                            ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:50:32
   |
50 |             "Semiannual" => Ok(Frequency::Semiannual),
   |                                ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:51:38
   |
51 |             "EveryFourthMonth" => Ok(Frequency::EveryFourthMonth),
   |                                      ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:52:31
   |
52 |             "Quarterly" => Ok(Frequency::Quarterly),
   |                               ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:53:31
   |
53 |             "Bimonthly" => Ok(Frequency::Bimonthly),
   |                               ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:54:29
   |
54 |             "Monthly" => Ok(Frequency::Monthly),
   |                             ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:55:37
   |
55 |             "EveryFourthWeek" => Ok(Frequency::EveryFourthWeek),
   |                                     ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:56:30
   |
56 |             "Biweekly" => Ok(Frequency::Biweekly),
   |                              ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:57:28
   |
57 |             "Weekly" => Ok(Frequency::Weekly),
   |                            ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:58:27
   |
58 |             "Daily" => Ok(Frequency::Daily),
   |                           ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/enums.rs:59:36
   |
59 |             "OtherFrequency" => Ok(Frequency::OtherFrequency),
   |                                    ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/time/enums.rs:60:50
   |
60 |               _ => Err(AtlasError::InvalidValueErr(format!(
   |  __________________________________________________^
61 | |                 "Invalid frequency: {}",
62 | |                 s
63 | |             ))),
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
   --> src/time/enums.rs:107:26
    |
107 |             "Days" => Ok(TimeUnit::Days),
    |                          ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:108:27
    |
108 |             "Weeks" => Ok(TimeUnit::Weeks),
    |                           ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:109:28
    |
109 |             "Months" => Ok(TimeUnit::Months),
    |                            ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:110:27
    |
110 |             "Years" => Ok(TimeUnit::Years),
    |                           ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/time/enums.rs:111:50
    |
111 |               _ => Err(AtlasError::InvalidValueErr(format!(
    |  __________________________________________________^
112 | |                 "Invalid time unit: {}",
113 | |                 s
114 | |             ))),
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
   --> src/time/enums.rs:165:29
    |
165 |             "January" => Ok(Month::January),
    |                             ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:166:30
    |
166 |             "February" => Ok(Month::February),
    |                              ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:167:27
    |
167 |             "March" => Ok(Month::March),
    |                           ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1083:9
     |
1083 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/time/enums.rs:168:27
    |
168 |             "April" => Ok(Month::April),
    |                           ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:169:25
    |
169 |             "May" => Ok(Month::May),
    |                         ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:170:26
    |
170 |             "June" => Ok(Month::June),
    |                          ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:171:26
    |
171 |             "July" => Ok(Month::July),
    |                          ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:172:28
    |
172 |             "August" => Ok(Month::August),
    |                            ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:173:31
    |
173 |             "September" => Ok(Month::September),
    |                               ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:174:29
    |
174 |             "October" => Ok(Month::October),
    |                             ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:175:30
    |
175 |             "November" => Ok(Month::November),
    |                              ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:176:30
    |
176 |             "December" => Ok(Month::December),
    |                              ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/time/enums.rs:177:50
    |
177 |             _ => Err(AtlasError::InvalidValueErr(format!("Invalid month: {}", s))),
    |                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
177 -             _ => Err(AtlasError::InvalidValueErr(format!("Invalid month: {}", s))),
177 +             _ => Err(AtlasError::InvalidValueErr(format!("Invalid month: {s}"))),
    |

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1114:9
     |
1114 |         assert_eq!(instrument.notional(), notional);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: variables can be used directly in the `format!` string
    --> src/instruments/makefixedrateinstrument.rs:1123:28
     |
1123 |             .for_each(|cf| println!("{}", cf));
     |                            ^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
     |
1123 -             .for_each(|cf| println!("{}", cf));
1123 +             .for_each(|cf| println!("{cf}"));
     |

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1131:55
     |
1131 |                         payments[&c.payment_date()] + c.amount().unwrap(),
     |                                                       ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1134:55
     |
1134 |                     payments.insert(c.payment_date(), c.amount().unwrap());
     |                                                       ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1141:55
     |
1141 |                         payments[&c.payment_date()] + c.amount().unwrap(),
     |                                                       ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1144:55
     |
1144 |                     payments.insert(c.payment_date(), c.amount().unwrap());
     |                                                       ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
    --> src/instruments/makefixedrateinstrument.rs:1151:21
     |
1151 |         let first = payments.values().next().unwrap();
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is `None`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: needless use of `for_each`
    --> src/instruments/makefixedrateinstrument.rs:1152:9
     |
1152 |         payments.values().for_each(|x| assert_eq!(first, x));
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for x in payments.values() { assert_eq!(first, x); }`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1152:40
     |
1152 |         payments.values().for_each(|x| assert_eq!(first, x));
     |                                        ^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1183:9
     |
1183 |         assert_eq!(instrument.notional(), notional);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1213:9
     |
1213 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1243:9
     |
1243 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1272:9
     |
1272 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1301:9
     |
1301 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/time/enums.rs:262:30
    |
262 |             "Backward" => Ok(DateGenerationRule::Backward),
    |                              ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:263:29
    |
263 |             "Forward" => Ok(DateGenerationRule::Forward),
    |                             ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:264:26
    |
264 |             "Zero" => Ok(DateGenerationRule::Zero),
    |                          ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:265:36
    |
265 |             "ThirdWednesday" => Ok(DateGenerationRule::ThirdWednesday),
    |                                    ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:266:45
    |
266 |             "ThirdWednesdayInclusive" => Ok(DateGenerationRule::ThirdWednesdayInclusive),
    |                                             ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:267:31
    |
267 |             "Twentieth" => Ok(DateGenerationRule::Twentieth),
    |                               ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:268:34
    |
268 |             "TwentiethIMM" => Ok(DateGenerationRule::TwentiethIMM),
    |                                  ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:269:28
    |
269 |             "OldCDS" => Ok(DateGenerationRule::OldCDS),
    |                            ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:270:25
    |
270 |             "CDS" => Ok(DateGenerationRule::CDS),
    |                         ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:271:29
    |
271 |             "CDS2015" => Ok(DateGenerationRule::CDS2015),
    |                             ^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/time/enums.rs:272:50
    |
272 |               _ => Err(AtlasError::InvalidValueErr(format!(
    |  __________________________________________________^
273 | |                 "Invalid date generation rule: {}",
274 | |                 s
275 | |             ))),
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1343:9
     |
1343 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1374:9
     |
1374 |         assert_eq!(instrument2.notional(), instrument.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1411:9
     |
1411 |         assert_eq!(instrument2.notional(), instrument1.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1442:9
     |
1442 |         assert_eq!(instrument2.notional(), instrument.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/time/enums.rs:334:31
    |
334 |             "Following" => Ok(BusinessDayConvention::Following),
    |                               ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:335:39
    |
335 |             "ModifiedFollowing" => Ok(BusinessDayConvention::ModifiedFollowing),
    |                                       ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:336:31
    |
336 |             "Preceding" => Ok(BusinessDayConvention::Preceding),
    |                               ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:337:39
    |
337 |             "ModifiedPreceding" => Ok(BusinessDayConvention::ModifiedPreceding),
    |                                       ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:338:32
    |
338 |             "Unadjusted" => Ok(BusinessDayConvention::Unadjusted),
    |                                ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:339:48
    |
339 |             "HalfMonthModifiedFollowing" => Ok(BusinessDayConvention::HalfMonthModifiedFollowing),
    |                                                ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:340:29
    |
340 |             "Nearest" => Ok(BusinessDayConvention::Nearest),
    |                             ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/time/enums.rs:341:50
    |
341 |               _ => Err(AtlasError::InvalidValueErr(format!(
    |  __________________________________________________^
342 | |                 "Invalid business day convention: {}",
343 | |                 s
344 | |             ))),
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1510:13
     |
1510 |             calculate_equal_payment_redemptions(dates.clone(), rate, notional).unwrap();
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/enums.rs:390:28
    |
390 |             "Sunday" => Ok(Weekday::Sunday),
    |                            ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:391:28
    |
391 |             "Monday" => Ok(Weekday::Monday),
    |                            ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:392:29
    |
392 |             "Tuesday" => Ok(Weekday::Tuesday),
    |                             ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:393:31
    |
393 |             "Wednesday" => Ok(Weekday::Wednesday),
    |                               ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:394:30
    |
394 |             "Thursday" => Ok(Weekday::Thursday),
    |                              ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:395:28
    |
395 |             "Friday" => Ok(Weekday::Friday),
    |                            ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:396:30
    |
396 |             "Saturday" => Ok(Weekday::Saturday),
    |                              ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
   --> src/time/enums.rs:397:50
    |
397 |               _ => Err(AtlasError::InvalidValueErr(format!(
    |  __________________________________________________^
398 | |                 "Invalid weekday: {}",
399 | |                 s
400 | |             ))),
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: unnecessary structure name repetition
   --> src/time/enums.rs:435:10
    |
435 | impl Add<Weekday> for Weekday {
    |          ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:438:23
    |
438 |     fn add(self, rhs: Weekday) -> Self::Output {
    |                       ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:443:10
    |
443 | impl Sub<Weekday> for Weekday {
    |          ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1545:36
     |
1545 |             .for_each(|cf| assert!(cf.amount().unwrap() > 0.0));
     |                                    ^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/enums.rs:446:23
    |
446 |     fn sub(self, rhs: Weekday) -> Self::Output {
    |                       ^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:452:19
    |
452 |     type Output = i32;
    |                   ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1548:46
     |
1548 |             Cashflow::Redemption(c) => acc + c.amount().unwrap(),
     |                                              ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary structure name repetition
   --> src/time/enums.rs:460:19
    |
460 |     type Output = i32;
    |                   ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:463:25
    |
463 |         self + -(rhs as i32)
    |                         ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: usage of wildcard import
 --> src/time/imm.rs:2:5
  |
2 | use super::enums::*;
  |     ^^^^^^^^^^^^^^^ help: try: `super::enums::Weekday`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: this argument is passed by value, but not consumed in the function body
  --> src/time/imm.rs:33:29
   |
33 |     pub fn is_imm_code(in_: String, main_cycle: bool) -> bool {
   |                             ^^^^^^ help: consider changing the type to: `&str`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: variables can be used directly in the `format!` string
    --> src/instruments/makefixedrateinstrument.rs:1586:28
     |
1586 |             .for_each(|cf| println!("{}", cf));
     |                            ^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
     |
1586 -             .for_each(|cf| println!("{}", cf));
1586 +             .for_each(|cf| println!("{cf}"));
     |

error: these match arms have identical bodies
    --> src/instruments/makefixedrateinstrument.rs:1589:13
     |
1589 |             Cashflow::Disbursement(c) => assert!(c.amount().unwrap() > 0.0),
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
1590 |             Cashflow::Redemption(c) => assert!(c.amount().unwrap() > 0.0),
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: if this is unintentional make the arms return different values
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
help: otherwise merge the patterns into a single arm
     |
1589 -             Cashflow::Disbursement(c) => assert!(c.amount().unwrap() > 0.0),
1590 -             Cashflow::Redemption(c) => assert!(c.amount().unwrap() > 0.0),
1589 +             Cashflow::Disbursement(c) | Cashflow::Redemption(c) => assert!(c.amount().unwrap() > 0.0),
     |

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1589:50
     |
1589 |             Cashflow::Disbursement(c) => assert!(c.amount().unwrap() > 0.0),
     |                                                  ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1590:48
     |
1590 |             Cashflow::Redemption(c) => assert!(c.amount().unwrap() > 0.0),
     |                                                ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1595:46
     |
1595 |             Cashflow::Redemption(c) => acc + c.amount().unwrap(),
     |                                              ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: only a `panic!` in `if`-then statement
  --> src/time/imm.rs:60:9
   |
60 | /         if !IMM::is_imm_date(imm_date, false) {
61 | |             panic!("{} is not an IMM date", imm_date);
62 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
60 -         if !IMM::is_imm_date(imm_date, false) {
61 -             panic!("{} is not an IMM date", imm_date);
62 -         }
60 +         assert!(IMM::is_imm_date(imm_date, false), "{} is not an IMM date", imm_date);
   |

error: unnecessary structure name repetition
  --> src/time/imm.rs:60:13
   |
60 |         if !IMM::is_imm_date(imm_date, false) {
   |             ^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:61:13
   |
61 |             panic!("{} is not an IMM date", imm_date);
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
61 -             panic!("{} is not an IMM date", imm_date);
61 +             panic!("{imm_date} is not an IMM date");
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:65:18
   |
65 |             1 => format!("F{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
65 -             1 => format!("F{}", y),
65 +             1 => format!("F{y}"),
   |

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1642:50
     |
1642 |                 Cashflow::Redemption(c) => acc + c.amount().unwrap(),
     |                                                  ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:66:18
   |
66 |             2 => format!("G{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
66 -             2 => format!("G{}", y),
66 +             2 => format!("G{y}"),
   |

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefixedrateinstrument.rs:1650:50
     |
1650 |                 Cashflow::Redemption(c) => acc + c.amount().unwrap(),
     |                                                  ^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:67:18
   |
67 |             3 => format!("H{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
67 -             3 => format!("H{}", y),
67 +             3 => format!("H{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:68:18
   |
68 |             4 => format!("J{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
68 -             4 => format!("J{}", y),
68 +             4 => format!("J{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:69:18
   |
69 |             5 => format!("K{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
69 -             5 => format!("K{}", y),
69 +             5 => format!("K{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:70:18
   |
70 |             6 => format!("M{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
70 -             6 => format!("M{}", y),
70 +             6 => format!("M{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:71:18
   |
71 |             7 => format!("N{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
71 -             7 => format!("N{}", y),
71 +             7 => format!("N{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:72:18
   |
72 |             8 => format!("Q{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
72 -             8 => format!("Q{}", y),
72 +             8 => format!("Q{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:73:18
   |
73 |             9 => format!("U{}", y),
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
73 -             9 => format!("U{}", y),
73 +             9 => format!("U{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:74:19
   |
74 |             10 => format!("V{}", y),
   |                   ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
74 -             10 => format!("V{}", y),
74 +             10 => format!("V{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:75:19
   |
75 |             11 => format!("X{}", y),
   |                   ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
75 -             11 => format!("X{}", y),
75 +             11 => format!("X{y}"),
   |

error: variables can be used directly in the `format!` string
  --> src/time/imm.rs:76:19
   |
76 |             12 => format!("Z{}", y),
   |                   ^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
   |
76 -             12 => format!("Z{}", y),
76 +             12 => format!("Z{y}"),
   |

error: this argument is passed by value, but not consumed in the function body
  --> src/time/imm.rs:90:27
   |
90 |     pub fn date(imm_code: String, reference_date: Date) -> Date {
   |                           ^^^^^^ help: consider changing the type to: `&str`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: only a `panic!` in `if`-then statement
  --> src/time/imm.rs:91:9
   |
91 | /         if reference_date == Date::empty() {
92 | |             panic!("No reference date provided");
93 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
91 -         if reference_date == Date::empty() {
92 -             panic!("No reference date provided");
93 -         }
91 +         assert!(reference_date != Date::empty(), "No reference date provided");
   |

error: variables can be used directly in the `format!` string
   --> src/time/imm.rs:114:23
    |
114 |             Err(e) => panic!("Invalid IMM year number: {}", e),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
114 -             Err(e) => panic!("Invalid IMM year number: {}", e),
114 +             Err(e) => panic!("Invalid IMM year number: {e}"),
    |

error: unnecessary structure name repetition
   --> src/time/imm.rs:122:22
    |
122 |         let result = IMM::next_date(Date::new(y, m, 1), false);
    |                      ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/imm.rs:124:20
    |
124 |             return IMM::next_date(Date::new(y + 10, m, 1), false);
    |                    ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: only a `panic!` in `if`-then statement
   --> src/time/imm.rs:139:9
    |
139 | /         if reference_date == Date::empty() {
140 | |             panic!("No reference date provided");
141 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
    |
139 -         if reference_date == Date::empty() {
140 -             panic!("No reference date provided");
141 -         }
139 +         assert!(reference_date != Date::empty(), "No reference date provided");
    |

error: unnecessary structure name repetition
   --> src/time/imm.rs:158:20
    |
158 |             return IMM::next_date(Date::new(y, m, 22), main_cycle);
    |                    ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/imm.rs:171:24
    |
171 |         let imm_date = IMM::date(imm_code, reference_date);
    |                        ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/imm.rs:172:9
    |
172 |         IMM::next_date(imm_date + 1, main_cycle)
    |         ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/imm.rs:182:20
    |
182 |         let next = IMM::next_date(d, main_cycle);
    |                    ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/imm.rs:183:9
    |
183 |         IMM::code(next)
    |         ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/imm.rs:194:24
    |
194 |         let imm_date = IMM::date(imm_code, reference_date);
    |                        ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/imm.rs:195:20
    |
195 |         let next = IMM::next_date(imm_date, main_cycle);
    |                    ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/imm.rs:196:9
    |
196 |         IMM::code(next)
    |         ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/period.rs:44:55
   |
44 |     pub const fn new(length: i32, units: TimeUnit) -> Period {
   |                                                       ^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/period.rs:45:9
   |
45 |         Period { length, units }
   |         ^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
  --> src/time/period.rs:65:60
   |
65 |     pub const fn from_frequency(freq: Frequency) -> Option<Period> {
   |                                                            ^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: method `from_str` can be confused for the standard trait method `std::str::FromStr::from_str`
   --> src/time/period.rs:257:5
    |
257 | /     pub fn from_str(tenor: &str) -> Result<Period> {
258 | |         // parse multiple periods and add them
259 | |         let chars = tenor.chars();
260 | |         let mut periods = Vec::new();
...   |
275 | |         Ok(result)
276 | |     }
    | |_____^
    |
    = help: consider implementing the trait `std::str::FromStr` or choosing a less ambiguous method name
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#should_implement_trait
    = note: `-D clippy::should-implement-trait` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::should_implement_trait)]`

error: unnecessary structure name repetition
   --> src/time/period.rs:257:44
    |
257 |     pub fn from_str(tenor: &str) -> Result<Period> {
    |                                            ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: all if blocks contain the same code at the start
   --> src/time/period.rs:263:13
    |
263 | /             if c.is_numeric() {
264 | |                 current_period.push(c);
    | |_______________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#branches_sharing_code
    = note: `-D clippy::branches-sharing-code` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::branches_sharing_code)]`
help: consider moving these statements before the if
    |
263 ~             current_period.push(c);
264 +             if c.is_numeric() {
    |

error: unnecessary structure name repetition
   --> src/time/period.rs:271:26
    |
271 |         let mut result = Period::empty();
    |                          ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:273:32
    |
273 |             result = (result + Period::parse_single_period(&period)?)?;
    |                                ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: redundant clone
   --> src/time/period.rs:301:61
    |
301 |                     format!("Invalid time unit ({})", units).to_string(),
    |                                                             ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:301:21
    |
301 |                     format!("Invalid time unit ({})", units).to_string(),
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: unnecessary structure name repetition
   --> src/time/period.rs:278:51
    |
278 |     fn parse_single_period(tenor: &str) -> Result<Period> {
    |                                                   ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: redundant clone
   --> src/time/period.rs:291:62
    |
291 |                 format!("Invalid period length ({})", length).to_string(),
    |                                                              ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:291:17
    |
291 |                 format!("Invalid period length ({})", length).to_string(),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: variables can be used directly in the `format!` string
   --> src/time/period.rs:291:17
    |
291 |                 format!("Invalid period length ({})", length).to_string(),
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
291 -                 format!("Invalid period length ({})", length).to_string(),
291 +                 format!("Invalid period length ({length})").to_string(),
    |

error: variables can be used directly in the `format!` string
   --> src/time/period.rs:301:21
    |
301 |                     format!("Invalid time unit ({})", units).to_string(),
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
301 -                     format!("Invalid time unit ({})", units).to_string(),
301 +                     format!("Invalid time unit ({units})").to_string(),
    |

error: unnecessary structure name repetition
   --> src/time/period.rs:305:12
    |
305 |         Ok(Period::new(length, units))
    |            ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:320:32
    |
320 |             TimeUnit::Years => self.length as f64,
    |                                ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
320 -             TimeUnit::Years => self.length as f64,
320 +             TimeUnit::Years => f64::from(self.length),
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:321:33
    |
321 |             TimeUnit::Months => self.length as f64 / 12.0,
    |                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
321 -             TimeUnit::Months => self.length as f64 / 12.0,
321 +             TimeUnit::Months => f64::from(self.length) / 12.0,
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:322:32
    |
322 |             TimeUnit::Weeks => self.length as f64 / 52.0,
    |                                ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
322 -             TimeUnit::Weeks => self.length as f64 / 52.0,
322 +             TimeUnit::Weeks => f64::from(self.length) / 52.0,
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:323:31
    |
323 |             TimeUnit::Days => self.length as f64 / 365.0,
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
323 -             TimeUnit::Days => self.length as f64 / 365.0,
323 +             TimeUnit::Days => f64::from(self.length) / 365.0,
    |

error: unnecessary structure name repetition
   --> src/time/period.rs:332:9
    |
332 |         Period::from_str(&s)
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:349:63
    |
349 |     fn deserialize<D>(deserializer: D) -> std::result::Result<Period, D::Error>
    |                                                               ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: the following explicit lifetimes could be elided: 'de
   --> src/time/period.rs:355:14
    |
355 |         impl<'de> Visitor<'de> for PeriodVisitor {
    |              ^^^          ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
    |
355 -         impl<'de> Visitor<'de> for PeriodVisitor {
355 +         impl Visitor<'_> for PeriodVisitor {
    |

error: unnecessary structure name repetition
   --> src/time/period.rs:460:19
    |
460 |     type Output = Period;
    |                   ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:463:9
    |
463 |         Period {
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:481:26
    |
481 |     type Output = Result<Period>;
    |                          ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: redundant clone
   --> src/time/period.rs:500:33
    |
500 | ...                   .to_string(),
    |                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:499:29
    |
499 | / ...                   format!("impossible addition between {:?} and {:?}", result, other)
500 | | ...                       .to_string(),
    | |__________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:506:77
    |
506 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                                                                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:506:29
    |
506 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:518:33
    |
518 | ...                   .to_string(),
    |                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:517:29
    |
517 | / ...                   format!("impossible addition between {:?} and {:?}", result, other)
518 | | ...                       .to_string(),
    | |__________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:524:77
    |
524 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                                                                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:524:29
    |
524 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:537:33
    |
537 | ...                   .to_string(),
    |                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:536:29
    |
536 | / ...                   format!("impossible addition between {:?} and {:?}", result, other)
537 | | ...                       .to_string(),
    | |__________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:543:77
    |
543 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                                                                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:543:29
    |
543 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:555:33
    |
555 | ...                   .to_string(),
    |                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:554:29
    |
554 | / ...                   format!("impossible addition between {:?} and {:?}", result, other)
555 | | ...                       .to_string(),
    | |__________________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/time/period.rs:561:77
    |
561 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                                                                       ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/time/period.rs:561:29
    |
561 | ...                   format!("unknown time unit ({:?})", other.units).to_string(),
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:504:21
    |
504 |                     _ => {
    |                     ^ help: try: `TimeUnit::Years`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: variables can be used directly in the `format!` string
   --> src/time/period.rs:499:29
    |
499 | ...                   format!("impossible addition between {:?} and {:?}", result, other)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
499 -                             format!("impossible addition between {:?} and {:?}", result, other)
499 +                             format!("impossible addition between {result:?} and {other:?}")
    |

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:522:21
    |
522 |                     _ => {
    |                     ^ help: try: `TimeUnit::Months`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: variables can be used directly in the `format!` string
   --> src/time/period.rs:517:29
    |
517 | ...                   format!("impossible addition between {:?} and {:?}", result, other)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
517 -                             format!("impossible addition between {:?} and {:?}", result, other)
517 +                             format!("impossible addition between {result:?} and {other:?}")
    |

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:541:21
    |
541 |                     _ => {
    |                     ^ help: try: `TimeUnit::Weeks`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: variables can be used directly in the `format!` string
   --> src/time/period.rs:536:29
    |
536 | ...                   format!("impossible addition between {:?} and {:?}", result, other)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
536 -                             format!("impossible addition between {:?} and {:?}", result, other)
536 +                             format!("impossible addition between {result:?} and {other:?}")
    |

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:559:21
    |
559 |                     _ => {
    |                     ^ help: try: `TimeUnit::Days`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: variables can be used directly in the `format!` string
   --> src/time/period.rs:554:29
    |
554 | ...                   format!("impossible addition between {:?} and {:?}", result, other)
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args
help: change this to
    |
554 -                             format!("impossible addition between {:?} and {:?}", result, other)
554 +                             format!("impossible addition between {result:?} and {other:?}")
    |

error: unnecessary structure name repetition
   --> src/time/period.rs:584:26
    |
584 |     type Output = Result<Period>;
    |                          ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:603:19
    |
603 |     type Output = Period;
    |                   ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/period.rs:606:9
    |
606 |         Period {
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this function has too many arguments (10/7)
   --> src/time/schedule.rs:91:5
    |
 91 | /     pub const fn new(
 92 | |         tenor: Period,
 93 | |         calendar: Calendar,
 94 | |         convention: BusinessDayConvention,
...   |
101 | |         is_regular: Vec<bool>,
102 | |     ) -> Schedule {
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: unnecessary structure name repetition
   --> src/time/schedule.rs:102:10
    |
102 |     ) -> Schedule {
    |          ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:103:9
    |
103 |         Schedule {
    |         ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:119:23
    |
119 |     pub fn empty() -> Schedule {
    |                       ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:120:9
    |
120 |         Schedule {
    |         ^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:239:41
    |
239 |     pub fn new(from: Date, to: Date) -> MakeSchedule {
    |                                         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:240:9
    |
240 |         MakeSchedule {
    |         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:258:57
    |
258 |     pub const fn with_tenor(mut self, tenor: Period) -> MakeSchedule {
    |                                                         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:265:62
    |
265 |     pub fn with_frequency(mut self, frequency: Frequency) -> MakeSchedule {
    |                                                              ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:273:59
    |
273 |     pub fn with_calendar(mut self, calendar: Calendar) -> MakeSchedule {
    |                                                           ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:280:82
    |
280 |     pub const fn with_convention(mut self, convention: BusinessDayConvention) -> MakeSchedule {
    |                                                                                  ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:290:10
    |
290 |     ) -> MakeSchedule {
    |          ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:297:67
    |
297 |     pub const fn with_rule(mut self, rule: DateGenerationRule) -> MakeSchedule {
    |                                                                   ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:304:40
    |
304 |     pub const fn forwards(mut self) -> MakeSchedule {
    |                                        ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:311:41
    |
311 |     pub const fn backwards(mut self) -> MakeSchedule {
    |                                         ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:318:56
    |
318 |     pub const fn end_of_month(mut self, flag: bool) -> MakeSchedule {
    |                                                        ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:325:65
    |
325 |     pub const fn with_first_date(mut self, first_date: Date) -> MakeSchedule {
    |                                                                 ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/schedule.rs:332:79
    |
332 |     pub const fn with_next_to_last_date(mut self, next_to_last_date: Date) -> MakeSchedule {
    |                                                                               ^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this function has too many lines (336/100)
   --> src/time/schedule.rs:346:5
    |
346 |     pub fn build(&mut self) -> Result<Schedule> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/schedule.rs:385:17
    |
385 |                 _ => {
    |                 ^ help: try: `DateGenerationRule::ThirdWednesdayInclusive`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/schedule.rs:419:17
    |
419 |                 _ => {
    |                 ^ help: try: `DateGenerationRule::ThirdWednesdayInclusive`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: `if _ { .. } else { .. }` is an expression
   --> src/time/schedule.rs:456:17
    |
456 | /                 let mut exit_date = self.effective_date;
457 | |                 if self.first_date != Date::empty() {
458 | |                     exit_date = self.first_date;
459 | |                 }
    | |_________________^ help: it is more idiomatic to write: `let <mut> exit_date = if self.first_date != Date::empty() { self.first_date } else { self.effective_date };`
    |
    = note: you might not need `mut` at all
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_let_if_seq
    = note: `-D clippy::useless-let-if-seq` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::useless_let_if_seq)]`

error: unnecessary `!=` operation
   --> src/time/schedule.rs:448:21
    |
448 | /                     if temp != self.next_to_last_date {
449 | |                         self.is_regular.insert(0, false);
450 | |                     } else {
451 | |                         self.is_regular.insert(0, true);
452 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#if_not_else
    = note: `-D clippy::if-not-else` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::if_not_else)]`
help: try
    |
448 ~                     if temp == self.next_to_last_date {
449 +                         self.is_regular.insert(0, true);
450 +                     } else {
451 +                         self.is_regular.insert(0, false);
452 +                     }
    |

error: `if _ { .. } else { .. }` is an expression
   --> src/time/schedule.rs:574:17
    |
574 | /                 let mut exit_date = self.termination_date;
575 | |
576 | |                 if self.next_to_last_date != Date::empty() {
577 | |                     exit_date = self.next_to_last_date;
578 | |                 }
    | |_________________^ help: it is more idiomatic to write: `let <mut> exit_date = if self.next_to_last_date != Date::empty() { self.next_to_last_date } else { self.termination_date };`
    |
    = note: you might not need `mut` at all
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_let_if_seq

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:533:25
    |
533 |                 seed = *self.dates.last().unwrap();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: unnecessary `!=` operation
   --> src/time/schedule.rs:543:21
    |
543 | /                     if temp != self.first_date {
544 | |                         self.is_regular.push(false);
545 | |                     } else {
546 | |                         self.is_regular.push(true);
547 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#if_not_else
help: try
    |
543 ~                     if temp == self.first_date {
544 +                         self.is_regular.push(true);
545 +                     } else {
546 +                         self.is_regular.push(false);
547 +                     }
    |

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:591:42
    |
591 | ...                   .adjust(*self.dates.last().unwrap(), Some(self.convention))
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:605:34
    |
605 |                         .adjust(*self.dates.last().unwrap(), Some(self.convention))
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:615:22
    |
615 |                     *self.dates.last().unwrap(),
    |                      ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/time/schedule.rs:648:25
    |
648 |             for date in self.dates.iter_mut() {
    |                         ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut self.dates`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:685:74
    |
685 |         if self.dates.len() >= 2 && self.dates[self.dates.len() - 2] >= *self.dates.last().unwrap()
    |                                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:691:51
    |
691 |                     self.dates[dates_len - 2] == *self.dates.last().unwrap();
    |                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> src/time/schedule.rs:693:42
    |
693 |             self.dates[dates_len - 2] = *self.dates.last().unwrap();
    |                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
  --> src/visitors/accruedamountconstvisitor.rs:30:24
   |
30 |           let schedule = MakeSchedule::new(evaluation_date, evaluation_date + horizon)
   |  ________________________^
31 | |             .with_tenor(Period::new(1, TimeUnit::Days))
32 | |             .build()
33 | |             .unwrap();
   | |_____________________^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: missing `#[must_use]` attribute on a method returning `Self`
  --> src/visitors/accruedamountconstvisitor.rs:43:5
   |
43 | /     pub const fn with_validate_currency(mut self, currency: Currency) -> Self {
44 | |         self.validation_currency = Some(currency);
45 | |         self
46 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: used `unwrap()` on a `Result` value
  --> src/visitors/accruedamountconstvisitor.rs:50:9
   |
50 |         self.accrued_amounts.lock().unwrap().clone()
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
  --> src/visitors/accruedamountconstvisitor.rs:73:29
   |
73 | ...                   cf.accrual_start_date().unwrap() <= end_date
   |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
  --> src/visitors/accruedamountconstvisitor.rs:74:36
   |
74 | ...                   && cf.accrual_end_date().unwrap() >= start_date
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
  --> src/visitors/accruedamountconstvisitor.rs:78:31
   |
78 |                     .map(|cf| cf.accrued_amount(start_date, end_date).unwrap())
   |                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
  --> src/visitors/accruedamountconstvisitor.rs:81:17
   |
81 | /                 self.accrued_amounts
82 | |                     .lock()
83 | |                     .unwrap()
   | |_____________________________^
   |
   = note: if this value is an `Err`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:847:9
    |
847 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:879:9
    |
879 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:912:9
    |
912 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:944:9
    |
944 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/makefloatingrateinstrument.rs:990:9
    |
990 |         assert_eq!(instrument.notional(), 100.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:55:26
   |
55 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:53:9
   |
53 | /         self.redemptions
54 | |             .lock()
55 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
   = note: `-D clippy::unnecessary-result-map-or-else` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::unnecessary_result_map_or_else)]`
help: consider using `unwrap_or_else`
   |
53 ~         self.redemptions
54 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:63:26
   |
63 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:61:9
   |
61 | /         self.disbursements
62 | |             .lock()
63 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
help: consider using `unwrap_or_else`
   |
61 ~         self.disbursements
62 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:71:26
   |
71 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:69:9
   |
69 | /         self.interest
70 | |             .lock()
71 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
help: consider using `unwrap_or_else`
   |
69 ~         self.interest
70 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefloatingrateinstrument.rs:1022:9
     |
1022 |         assert_eq!(instrument2.notional(), instrument.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefloatingrateinstrument.rs:1030:9
     |
1030 |         assert_eq!(instrument2.spread(), instrument.spread());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefloatingrateinstrument.rs:1033:13
     |
1033 |             instrument2.currency().unwrap(),
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
    --> src/instruments/makefloatingrateinstrument.rs:1034:13
     |
1034 |             instrument.currency().unwrap()
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = note: if this value is an `Err`, it will panic
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function has too many lines (159/100)
   --> src/visitors/cashflowcompressorconstvisitor.rs:191:5
    |
191 |     fn visit(&self, visitable: &T) -> Self::Output {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/durationconstvisitor.rs:32:6
   |
32 | impl<'a, T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'a> {
   |      ^^                                                          ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
32 - impl<'a, T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'a> {
32 + impl<T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'_> {
   |

error: variables can be used directly in the `format!` string
  --> src/visitors/durationconstvisitor.rs:44:56
   |
44 |                           .ok_or(AtlasError::NotFoundErr(format!(
   |  ________________________________________________________^
45 | |                             "Market data for cashflow with id {}",
46 | |                             id
47 | |                         )))?;
   | |_________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: variables can be used directly in the `format!` string
  --> src/visitors/fixingvisitor.rs:41:60
   |
41 |   ...                   .ok_or(AtlasError::NotFoundErr(format!(
   |  ______________________________________________________^
42 | | ...                       "Market data for cashflow with id {}",
43 | | ...                       id
44 | | ...                   )))?;
   | |_______________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: variables can be used directly in the `format!` string
  --> src/visitors/npvbydateconstvisitor.rs:60:56
   |
60 |                           .ok_or(AtlasError::NotFoundErr(format!(
   |  ________________________________________________________^
61 | |                             "Market data for cashflow with id {}",
62 | |                             id
63 | |                         )))?;
   | |_________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: variables can be used directly in the `format!` string
  --> src/visitors/npvbytenorconstvisitor.rs:72:56
   |
72 |                           .ok_or(AtlasError::NotFoundErr(format!(
   |  ________________________________________________________^
73 | |                             "Market data for cashflow with id {}",
74 | |                             id
75 | |                         )))?;
   | |_________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/npvconstvisitor.rs:36:6
   |
36 | impl<'a, T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'a> {
   |      ^^                                                     ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
36 - impl<'a, T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'a> {
36 + impl<T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'_> {
   |

error: variables can be used directly in the `format!` string
  --> src/visitors/npvconstvisitor.rs:45:52
   |
45 |                       .ok_or(AtlasError::NotFoundErr(format!(
   |  ____________________________________________________^
46 | |                         "Market data for cashflow with id {}",
47 | |                         id
48 | |                     )))?;
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: used `cloned` where `copied` could be used instead
   --> src/visitors/parvaluevisitordoublerateinstrument.rs:120:18
    |
120 |                 .cloned()
    |                  ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/zspreadconstvisitor.rs:51:6
   |
51 | impl<'a, T> SpreadedNPV<'a, T>
   |      ^^                 ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
51 - impl<'a, T> SpreadedNPV<'a, T>
51 + impl<T> SpreadedNPV<'_, T>
   |

error: variables can be used directly in the `format!` string
  --> src/visitors/zspreadconstvisitor.rs:60:44
   |
60 |               .ok_or(AtlasError::NotFoundErr(format!(
   |  ____________________________________________^
61 | |                 "Market data for cashflow with id {}",
62 | |                 id
63 | |             )))?;
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#uninlined_format_args

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/zspreadconstvisitor.rs:96:6
   |
96 | impl<'a, T> CostFunction for SpreadedNPV<'a, T>
   |      ^^                                  ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
96 - impl<'a, T> CostFunction for SpreadedNPV<'a, T>
96 + impl<T> CostFunction for SpreadedNPV<'_, T>
   |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/visitors/zspreadconstvisitor.rs:109:17
    |
109 | /                 match cf {
110 | |                     Cashflow::Disbursement(_) => Ok(acc),
111 | |                     _ => {
112 | |                         let cf_npv = self.cashflow_npv(cf, *param)?;
...   |
115 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
109 ~                 if let Cashflow::Disbursement(_) = cf { Ok(acc) } else {
110 +                     let cf_npv = self.cashflow_npv(cf, *param)?;
111 +                     Ok(acc + cf_npv)
112 +                 }
    |

error: the following explicit lifetimes could be elided: 'a
   --> src/visitors/zspreadconstvisitor.rs:121:6
    |
121 | impl<'a, T> ConstVisit<T> for ZSpreadConstVisitor<'a>
    |      ^^                                           ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
    |
121 - impl<'a, T> ConstVisit<T> for ZSpreadConstVisitor<'a>
121 + impl<T> ConstVisit<T> for ZSpreadConstVisitor<'_>
    |

error: used `unwrap()` on an `Option` value
   --> src/visitors/zspreadconstvisitor.rs:139:13
    |
139 |         Ok(*res.state().get_best_param().unwrap())
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: could not compile `rustatlas` (lib) due to 980 previous errors
warning: build failed, waiting for other jobs to finish...
error: strict comparison of `f32` or `f64`
   --> src/rates/interestrate.rs:158:12
    |
158 |         if compound == 1.0 {
    |            ^^^^^^^^^^^^^^^ help: consider comparing them within some margin of error: `(compound - 1.0).abs() < error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:209:36
    |
209 |             Compounding::Simple => 1.0 + rate * year_fraction,
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: this function has too many lines (303/100)
   --> src/rates/interestrate.rs:268:5
    |
268 |     fn test_cases() -> Vec<InterestRateData> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/rates/interestrate.rs:597:23
    |
597 |                     < (test_case.precision as f64) / 100.0
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: strict comparison of `f32` or `f64`
   --> src/rates/interestrate.rs:630:9
    |
630 |         assert_eq!(ir.rate(), 0.05);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/rates/interestrate.rs:644:9
    |
644 |         assert_eq!(ir.rate(), 0.05);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: used `unwrap()` on a `Result` value
   --> src/rates/interestrate.rs:656:18
    |
656 |           let ir = InterestRate::implied_rate(
    |  __________________^
657 | |             1.05,
658 | |             DayCounter::Actual360,
659 | |             Compounding::Simple,
...   |
663 | |         .unwrap();
    | |_________________^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: this function's return value is unnecessary
   --> src/rates/interestrateindex/iborindex.rs:281:5
    |
281 |     fn test_fixing_interpolation_ibor() -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove the return type...
    |
281 -     fn test_fixing_interpolation_ibor() -> Result<()> {
281 +     fn test_fixing_interpolation_ibor() -> () {
    |
help: ...and then remove returned values
    |
302 -         Ok(())
    |

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/iborindex.rs:289:10
    |
289 |         .cloned()
    |          ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: redundant clone
   --> src/rates/interestrateindex/iborindex.rs:332:34
    |
332 |             spread_term_structure.clone(),
    |                                  ^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/interestrateindex/iborindex.rs:332:13
    |
332 |             spread_term_structure.clone(),
    |             ^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: strict comparison of `f32` or `f64`
   --> src/time/daycounter.rs:196:9
    |
196 |         assert_ne!(yf_1, yf_2);
    |         ^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_ne` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:417:9
    |
417 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:468:9
    |
468 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:521:9
    |
521 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:573:9
    |
573 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/visitors/cashflowcompressorconstvisitor.rs:632:9
    |
632 |         assert_eq!(instrument.notional(), 200.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: adding items after statements is confusing, since items exist from the start of the scope
   --> src/visitors/durationconstvisitor.rs:217:9
    |
217 | /         fn duration(instruments: &mut [FixedRateInstrument]) -> f64 {
218 | |             let store = create_store()
219 | |                 .unwrap_or_else(|e| panic!("market store creation should succeed: {e}"));
220 | |             let mut duration = 0.0;
...   |
239 | |             duration
240 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements
    = note: `-D clippy::items-after-statements` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::items_after_statements)]`

error: used `unwrap()` on a `Result` value
   --> src/visitors/npvbydateconstvisitor.rs:185:28
    |
185 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/visitors/npvbydateconstvisitor.rs:240:28
    |
240 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: strict comparison of `f32` or `f64`
   --> src/visitors/npvconstvisitor.rs:303:9
    |
303 |         assert_ne!(npv, 0.0);
    |         ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_ne` (in Nightly builds, run with -Z macro-backtrace for more info)

error: this function's return value is unnecessary
   --> src/visitors/npvconstvisitor.rs:356:5
    |
356 |     fn generator_tests() -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove the return type...
    |
356 -     fn generator_tests() -> Result<()> {
356 +     fn generator_tests() -> () {
    |
help: ...and then remove returned values
    |
419 -         Ok(())
    |

error: adding items after statements is confusing, since items exist from the start of the scope
   --> src/visitors/npvconstvisitor.rs:390:9
    |
390 | /         fn npv(instruments: &mut [FixedRateInstrument]) -> f64 {
391 | |             let store =
392 | |                 create_store().unwrap_or_else(|e| panic!("market store creation should succeed: {e}"));
393 | |             let mut npv = 0.0;
...   |
412 | |             npv
413 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

error: used `unwrap()` on a `Result` value
   --> src/visitors/parvaluevisitor.rs:265:28
    |
265 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/visitors/parvaluevisitor.rs:306:28
    |
306 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/visitors/parvaluevisitor.rs:345:28
    |
345 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> src/visitors/parvaluevisitor.rs:385:28
    |
385 |         let market_store = create_store().unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: could not compile `rustatlas` (lib test) due to 1104 previous errors
