    Checking rustatlas v0.1.0 (/Users/josemelo/Desktop/dev/libs/rustatlas)
error: this function has too many arguments (9/7)
  --> src/alm/positiongenerator.rs:53:5
   |
53 | /     pub const fn new(
54 | |         weight: f64,
55 | |         structure: Structure,
56 | |         payment_frequency: Frequency,
...  |
62 | |         forecast_curve_id: Option<usize>,
63 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments
   = note: `-D clippy::too-many-arguments` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::too_many_arguments)]`

error: this function has too many arguments (9/7)
  --> src/cashflows/floatingratecoupon.rs:51:5
   |
51 | /     pub const fn new(
52 | |         notional: f64,
53 | |         spread: f64,
54 | |         accrual_start_date: Date,
...  |
60 | |         side: Side,
61 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function has too many arguments (18/7)
  --> src/instruments/doublerateinstrument.rs:47:5
   |
47 | /     pub fn new(
48 | |         start_date: Date,
49 | |         end_date: Date,
50 | |         notional: f64,
...  |
65 | |         cashflows: Vec<Cashflow>,
66 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function has too many arguments (13/7)
  --> src/instruments/fixedrateinstrument.rs:48:5
   |
48 | /     pub fn new(
49 | |         start_date: Date,
50 | |         end_date: Date,
51 | |         notional: f64,
...  |
61 | |         yield_rate: Option<InterestRate>,
62 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function has too many arguments (14/7)
  --> src/instruments/floatingrateinstrument.rs:53:5
   |
53 | /     pub fn new(
54 | |         start_date: Date,
55 | |         end_date: Date,
56 | |         notional: f64,
...  |
67 | |         issue_date: Option<Date>,
68 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function has too many arguments (17/7)
  --> src/instruments/hybridrateinstrument.rs:40:5
   |
40 | /     pub fn new(
41 | |         start_date: Date,
42 | |         end_date: Date,
43 | |         notional: f64,
...  |
57 | |         cashflows: Vec<Cashflow>,
58 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function has too many arguments (9/7)
  --> src/instruments/leg.rs:28:5
   |
28 | /     pub fn new(
29 | |         structure: Structure,
30 | |         rate_type: RateType,
31 | |         rate_value: f64,
...  |
37 | |         cashflows: Vec<Cashflow>,
38 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:575:17
    |
575 |         assert!((outstanding + 1800.0 * growth_factor).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(growth_factor, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops
    = note: `-D clippy::suboptimal-flops` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::suboptimal_flops)]`

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:581:17
    |
581 |         assert!((outstanding + 1800.0 * growth_factor).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(growth_factor, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:643:17
    |
643 |         assert!((outstanding + 1800.0 * growth_factor).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(growth_factor, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:649:17
    |
649 |         assert!((outstanding + 1800.0 * growth_factor).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(growth_factor, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: needless use of `for_each`
   --> src/instruments/makedoublerateinstrument.rs:539:13
    |
539 | /             cashflows
540 | |                 .iter_mut()
541 | |                 .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
    = note: `-D clippy::needless-for-each` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_for_each)]`
help: try
    |
539 ~             for cf in cashflows
540 +                 .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: needless use of `for_each`
   --> src/instruments/makedoublerateinstrument.rs:545:13
    |
545 | /             cashflows
546 | |                 .iter_mut()
547 | |                 .for_each(|cf| cf.set_forecast_curve_id(id));
    | |_____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
545 ~             for cf in cashflows
546 +                 .iter_mut() { cf.set_forecast_curve_id(id); }
    |

error: this function has too many arguments (12/7)
   --> src/instruments/makedoublerateinstrument.rs:573:1
    |
573 | / fn build_coupons_from_notionals(
574 | |     cashflows: &mut Vec<Cashflow>,
575 | |     rate_type: RateType,
576 | |     dates_first_part: &[Date],
...   |
585 | |     currency: Currency,
586 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: needless use of `for_each`
   --> src/instruments/makefixedrateinstrument.rs:449:21
    |
449 | /                     cashflows
450 | |                         .iter_mut()
451 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
449 ~                     for cf in cashflows
450 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: needless use of `for_each`
   --> src/instruments/makefixedrateinstrument.rs:524:21
    |
524 | /                     cashflows
525 | |                         .iter_mut()
526 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
524 ~                     for cf in cashflows
525 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: assigning the result of `Clone::clone()` may be inefficient
   --> src/instruments/makefixedrateinstrument.rs:599:25
    |
599 |                         dates = schedule.dates().clone();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `dates.clone_from(schedule.dates())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones
    = note: `-D clippy::assigning-clones` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::assigning_clones)]`

error: needless use of `for_each`
   --> src/instruments/makefixedrateinstrument.rs:688:21
    |
688 | /                     cashflows
689 | |                         .iter_mut()
690 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
688 ~                     for cf in cashflows
689 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: needless use of `for_each`
   --> src/instruments/makefixedrateinstrument.rs:780:21
    |
780 | /                     cashflows
781 | |                         .iter_mut()
782 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
780 ~                     for cf in cashflows
781 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateinstrument.rs:852:51
    |
852 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss
    = note: `-D clippy::cast-precision-loss` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_precision_loss)]`

error: needless use of `for_each`
   --> src/instruments/makefixedrateinstrument.rs:885:21
    |
885 | /                     cashflows
886 | |                         .iter_mut()
887 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
885 ~                     for cf in cashflows
886 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: wildcard matches only a single variant and will also match any future added variants
    --> src/instruments/makefixedrateinstrument.rs:1025:17
     |
1025 |                 _ => (),
     |                 ^ help: try: `Cashflow::FloatingRateCoupon(_)`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants
     = note: `-D clippy::match-wildcard-for-single-variants` implied by `-D clippy::pedantic`
     = help: to override `-D clippy::pedantic` add `#[allow(clippy::match_wildcard_for_single_variants)]`

error: unnecessary structure name repetition
    --> src/instruments/makefixedrateinstrument.rs:1029:23
     |
1029 |         let builder = MakeFixedRateInstrument::new()
     |                       ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self
     = note: `-D clippy::use-self` implied by `-D clippy::nursery`
     = help: to override `-D clippy::nursery` add `#[allow(clippy::use_self)]`

error: unnecessary structure name repetition
    --> src/instruments/makefixedrateinstrument.rs:1051:9
     |
1051 |         MakeFixedRateInstrument::from(val.clone())
     |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:448:31
    |
448 |                     for cf in cashflows.iter_mut() {
    |                               ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut cashflows`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop
    = note: `-D clippy::explicit-iter-loop` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::explicit_iter_loop)]`

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:487:39
    |
487 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:505:39
    |
505 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:513:31
    |
513 |                     for cf in cashflows.iter_mut() {
    |                               ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut cashflows`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:634:31
    |
634 |                     for cf in cashflows.iter_mut() {
    |                               ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut cashflows`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:722:31
    |
722 |                     for cf in cashflows.iter_mut() {
    |                               ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut cashflows`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateleg.rs:791:51
    |
791 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:824:31
    |
824 |                     for cf in cashflows.iter_mut() {
    |                               ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut cashflows`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:188:9
    |
188 | /         assert_eq!(
189 | |             manager
190 | |                 .exchange_rate_cache
191 | |                 .lock()
...   |
198 | |             0.85
199 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: `-D clippy::float-cmp` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::float_cmp)]`
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/currencies/exchangeratestore.rs:245:17
    |
245 |         assert!((clp_eur - (1.1 * 800.0)).abs() < 1e-12);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1.1f64.mul_add(-800.0, clp_eur)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateinstrument.rs:738:13
    |
738 |             _ => Err(AtlasError::InvalidValueErr(
    |             ^ help: try: `Structure::EqualPayments`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:330:32
    |
330 |                   let end_date = match self.end_date {
    |  ________________________________^
331 | |                     Some(date) => date,
332 | |                     None => {
333 | |                         let tenor = self
...   |
338 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
    = note: `-D clippy::single-match-else` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::single_match_else)]`
help: try
    |
330 ~                 let end_date = if let Some(date) = self.end_date { date } else {
331 +                     let tenor = self
332 +                         .tenor
333 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
334 +                     start_date + tenor
335 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:410:21
    |
410 | /                     cashflows.iter_mut().for_each(|cf| {
411 | |                         cf.set_discount_curve_id(id);
412 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
    = note: `-D clippy::semicolon-if-nothing-returned` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::semicolon_if_nothing_returned)]`
help: add a `;` here
    |
410 |                     cashflows.iter_mut().for_each(|cf| {
411 |                         cf.set_discount_curve_id(id);
412 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:415:21
    |
415 | /                     cashflows.iter_mut().for_each(|cf| {
416 | |                         cf.set_forecast_curve_id(id);
417 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
415 |                     cashflows.iter_mut().for_each(|cf| {
416 |                         cf.set_forecast_curve_id(id);
417 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:442:32
    |
442 |                   let end_date = match self.end_date {
    |  ________________________________^
443 | |                     Some(date) => date,
444 | |                     None => {
445 | |                         let tenor = self
...   |
450 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
442 ~                 let end_date = if let Some(date) = self.end_date { date } else {
443 +                     let tenor = self
444 +                         .tenor
445 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
446 +                     start_date + tenor
447 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:510:21
    |
510 | /                     cashflows.iter_mut().for_each(|cf| {
511 | |                         cf.set_discount_curve_id(id);
512 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
510 |                     cashflows.iter_mut().for_each(|cf| {
511 |                         cf.set_discount_curve_id(id);
512 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:515:21
    |
515 | /                     cashflows.iter_mut().for_each(|cf| {
516 | |                         cf.set_forecast_curve_id(id);
517 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
515 |                     cashflows.iter_mut().for_each(|cf| {
516 |                         cf.set_forecast_curve_id(id);
517 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:542:32
    |
542 |                   let end_date = match self.end_date {
    |  ________________________________^
543 | |                     Some(date) => date,
544 | |                     None => {
545 | |                         let tenor = self
...   |
550 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
542 ~                 let end_date = if let Some(date) = self.end_date { date } else {
543 +                     let tenor = self
544 +                         .tenor
545 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
546 +                     start_date + tenor
547 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefloatingrateinstrument.rs:587:51
    |
587 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefloatingrateinstrument.rs:612:53
    |
612 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied
    = note: `-D clippy::cloned-instead-of-copied` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cloned_instead_of_copied)]`

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:622:21
    |
622 | /                     cashflows.iter_mut().for_each(|cf| {
623 | |                         cf.set_discount_curve_id(id);
624 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
622 |                     cashflows.iter_mut().for_each(|cf| {
623 |                         cf.set_discount_curve_id(id);
624 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:627:21
    |
627 | /                     cashflows.iter_mut().for_each(|cf| {
628 | |                         cf.set_forecast_curve_id(id);
629 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
627 |                     cashflows.iter_mut().for_each(|cf| {
628 |                         cf.set_forecast_curve_id(id);
629 ~                     });
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateinstrument.rs:669:39
    |
669 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateinstrument.rs:691:39
    |
691 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:712:21
    |
712 | /                     cashflows.iter_mut().for_each(|cf| {
713 | |                         cf.set_discount_curve_id(id);
714 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
712 |                     cashflows.iter_mut().for_each(|cf| {
713 |                         cf.set_discount_curve_id(id);
714 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:717:21
    |
717 | /                     cashflows.iter_mut().for_each(|cf| {
718 | |                         cf.set_forecast_curve_id(id);
719 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
717 |                     cashflows.iter_mut().for_each(|cf| {
718 |                         cf.set_forecast_curve_id(id);
719 ~                     });
    |

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateinstrument.rs:798:17
    |
798 |                 _ => (),
    |                 ^ help: try: `Cashflow::FixedRateCoupon(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:802:9
    |
802 |         MakeFloatingRateInstrument::new()
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateleg.rs:699:13
    |
699 |             _ => Err(AtlasError::InvalidValueErr(
    |             ^ help: try: `Structure::EqualPayments`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:319:32
    |
319 |                   let end_date = match self.end_date {
    |  ________________________________^
320 | |                     Some(date) => date,
321 | |                     None => {
322 | |                         let tenor = self
...   |
327 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
319 ~                 let end_date = if let Some(date) = self.end_date { date } else {
320 +                     let tenor = self
321 +                         .tenor
322 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
323 +                     start_date + tenor
324 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:400:21
    |
400 | /                     cashflows.iter_mut().for_each(|cf| {
401 | |                         cf.set_discount_curve_id(id);
402 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
400 |                     cashflows.iter_mut().for_each(|cf| {
401 |                         cf.set_discount_curve_id(id);
402 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:406:21
    |
406 | /                     cashflows.iter_mut().for_each(|cf| {
407 | |                         cf.set_forecast_curve_id(id);
408 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
406 |                     cashflows.iter_mut().for_each(|cf| {
407 |                         cf.set_forecast_curve_id(id);
408 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:428:32
    |
428 |                   let end_date = match self.end_date {
    |  ________________________________^
429 | |                     Some(date) => date,
430 | |                     None => {
431 | |                         let tenor = self
...   |
436 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
428 ~                 let end_date = if let Some(date) = self.end_date { date } else {
429 +                     let tenor = self
430 +                         .tenor
431 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
432 +                     start_date + tenor
433 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:496:21
    |
496 | /                     cashflows.iter_mut().for_each(|cf| {
497 | |                         cf.set_discount_curve_id(id);
498 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
496 |                     cashflows.iter_mut().for_each(|cf| {
497 |                         cf.set_discount_curve_id(id);
498 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:502:21
    |
502 | /                     cashflows.iter_mut().for_each(|cf| {
503 | |                         cf.set_forecast_curve_id(id);
504 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
502 |                     cashflows.iter_mut().for_each(|cf| {
503 |                         cf.set_forecast_curve_id(id);
504 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:524:32
    |
524 |                   let end_date = match self.end_date {
    |  ________________________________^
525 | |                     Some(date) => date,
526 | |                     None => {
527 | |                         let tenor = self
...   |
532 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
524 ~                 let end_date = if let Some(date) = self.end_date { date } else {
525 +                     let tenor = self
526 +                         .tenor
527 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
528 +                     start_date + tenor
529 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefloatingrateleg.rs:570:51
    |
570 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefloatingrateleg.rs:595:53
    |
595 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:605:21
    |
605 | /                     cashflows.iter_mut().for_each(|cf| {
606 | |                         cf.set_discount_curve_id(id);
607 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
605 |                     cashflows.iter_mut().for_each(|cf| {
606 |                         cf.set_discount_curve_id(id);
607 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:610:21
    |
610 | /                     cashflows.iter_mut().for_each(|cf| {
611 | |                         cf.set_forecast_curve_id(id);
612 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
610 |                     cashflows.iter_mut().for_each(|cf| {
611 |                         cf.set_forecast_curve_id(id);
612 ~                     });
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateleg.rs:647:39
    |
647 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateleg.rs:669:39
    |
669 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:677:21
    |
677 | /                     cashflows.iter_mut().for_each(|cf| {
678 | |                         cf.set_discount_curve_id(id);
679 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
677 |                     cashflows.iter_mut().for_each(|cf| {
678 |                         cf.set_discount_curve_id(id);
679 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:683:21
    |
683 | /                     cashflows.iter_mut().for_each(|cf| {
684 | |                         cf.set_forecast_curve_id(id);
685 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
683 |                     cashflows.iter_mut().for_each(|cf| {
684 |                         cf.set_forecast_curve_id(id);
685 ~                     });
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:461:17
    |
461 | /                 match structure {
462 | |                     Structure::Other => {
463 | |                         let disbursements =
464 | |                             self.first_leg_disbursements
...   |
492 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
461 ~                 if structure == Structure::Other {
462 +                     let disbursements =
463 +                         self.first_leg_disbursements
464 +                             .ok_or(AtlasError::ValueNotSetErr(
465 +                                 "First Leg Disbursements".to_string(),
466 +                             ))?;
467 + 
468 +                     let redemptions =
469 +                         self.first_leg_redemptions
470 +                             .ok_or(AtlasError::ValueNotSetErr(
471 +                                 "First Leg Redemptions".to_string(),
472 +                             ))?;
473 + 
474 +                     let additional_coupon_dates =
475 +                         self.first_leg_additional_coupon_dates.unwrap_or_default();
476 + 
477 +                     builder
478 +                         .with_disbursements(disbursements)
479 +                         .with_redemptions(redemptions)
480 +                         .with_additional_coupon_dates(additional_coupon_dates)
481 +                         .build()?
482 +                 } else {
483 +                     let payment_frequency =
484 +                         self.first_leg_payment_frequency
485 +                             .ok_or(AtlasError::ValueNotSetErr(
486 +                                 "First Leg Payment Frequency".to_string(),
487 +                             ))?;
488 +                     builder.with_payment_frequency(payment_frequency).build()?
489 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:545:17
    |
545 | /                 match structure {
546 | |                     Structure::Other => {
547 | |                         let disbursements =
548 | |                             self.first_leg_disbursements
...   |
576 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
545 ~                 if structure == Structure::Other {
546 +                     let disbursements =
547 +                         self.first_leg_disbursements
548 +                             .ok_or(AtlasError::ValueNotSetErr(
549 +                                 "First Leg Disbursements".to_string(),
550 +                             ))?;
551 + 
552 +                     let redemptions =
553 +                         self.first_leg_redemptions
554 +                             .ok_or(AtlasError::ValueNotSetErr(
555 +                                 "First Leg Redemptions".to_string(),
556 +                             ))?;
557 + 
558 +                     let additional_coupon_dates =
559 +                         self.first_leg_additional_coupon_dates.unwrap_or_default();
560 + 
561 +                     builder
562 +                         .with_disbursements(disbursements)
563 +                         .with_redemptions(redemptions)
564 +                         .with_additional_coupon_dates(additional_coupon_dates)
565 +                         .build()?
566 +                 } else {
567 +                     let payment_frequency =
568 +                         self.first_leg_payment_frequency
569 +                             .ok_or(AtlasError::ValueNotSetErr(
570 +                                 "First Leg Payment Frequency".to_string(),
571 +                             ))?;
572 +                     builder.with_payment_frequency(payment_frequency).build()?
573 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:641:17
    |
641 | /                 match structure {
642 | |                     Structure::Other => {
643 | |                         let disbursements =
644 | |                             self.second_leg_disbursements
...   |
672 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
641 ~                 if structure == Structure::Other {
642 +                     let disbursements =
643 +                         self.second_leg_disbursements
644 +                             .ok_or(AtlasError::ValueNotSetErr(
645 +                                 "Second Leg Disbursements".to_string(),
646 +                             ))?;
647 + 
648 +                     let redemptions =
649 +                         self.second_leg_redemptions
650 +                             .ok_or(AtlasError::ValueNotSetErr(
651 +                                 "Second Leg Redemptions".to_string(),
652 +                             ))?;
653 + 
654 +                     let additional_coupon_dates =
655 +                         self.second_leg_additional_coupon_dates.unwrap_or_default();
656 + 
657 +                     builder
658 +                         .with_disbursements(disbursements)
659 +                         .with_redemptions(redemptions)
660 +                         .with_additional_coupon_dates(additional_coupon_dates)
661 +                         .build()?
662 +                 } else {
663 +                     let payment_frequency =
664 +                         self.second_leg_payment_frequency
665 +                             .ok_or(AtlasError::ValueNotSetErr(
666 +                                 "Second Leg Payment Frequency".to_string(),
667 +                             ))?;
668 +                     builder.with_payment_frequency(payment_frequency).build()?
669 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:728:17
    |
728 | /                 match structure {
729 | |                     Structure::Other => {
730 | |                         let disbursements =
731 | |                             self.second_leg_disbursements
...   |
759 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
728 ~                 if structure == Structure::Other {
729 +                     let disbursements =
730 +                         self.second_leg_disbursements
731 +                             .ok_or(AtlasError::ValueNotSetErr(
732 +                                 "Second leg Disbursements".to_string(),
733 +                             ))?;
734 + 
735 +                     let redemptions =
736 +                         self.second_leg_redemptions
737 +                             .ok_or(AtlasError::ValueNotSetErr(
738 +                                 "Second leg Redemptions".to_string(),
739 +                             ))?;
740 + 
741 +                     let additional_coupon_dates =
742 +                         self.second_leg_additional_coupon_dates.unwrap_or_default();
743 + 
744 +                     builder
745 +                         .with_disbursements(disbursements)
746 +                         .with_redemptions(redemptions)
747 +                         .with_additional_coupon_dates(additional_coupon_dates)
748 +                         .build()?
749 +                 } else {
750 +                     let payment_frequency =
751 +                         self.second_leg_payment_frequency
752 +                             .ok_or(AtlasError::ValueNotSetErr(
753 +                                 "Second leg Payment Frequency".to_string(),
754 +                             ))?;
755 +                     builder.with_payment_frequency(payment_frequency).build()?
756 +                 }
    |

error: unnecessary structure name repetition
   --> src/instruments/makeswap.rs:809:9
    |
809 |         MakeFixFloatSwap {
    |         ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/traits.rs:171:27
    |
171 |     for (date, amount) in redemptions.iter() {
    |                           ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:270:9
    |
270 |         assert_eq!(instrument.notional(), 5_000_000.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:271:9
    |
271 |         assert_eq!(instrument.spread(), spread);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:312:17
    |
312 |                 assert_eq!(coupon.spread(), spread);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:322:17
    |
322 |                 assert_eq!(coupon.spread(), new_spread);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unused "map closure" when calling `Option::map_or_else` value
   --> src/models/simplemodel.rs:102:31
    |
102 |           let second_currency = fx.second_currency().map_or_else(
    |  _______________________________^
103 | |             || {
104 | |                 if self.transform_currencies {
105 | |                     self.market_store.local_currency()
...   |
110 | |             |ccy| ccy,
111 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_option_map_or_else
    = note: `-D clippy::unnecessary-option-map-or-else` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::unnecessary_option_map_or_else)]`
help: consider using `unwrap_or_else`
    |
102 ~         let second_currency = fx.second_currency().unwrap_or_else(|| {
103 +                 if self.transform_currencies {
104 +                     self.market_store.local_currency()
105 +                 } else {
106 +                     first_currency
107 +                 }
108 ~             });
    |

error: redundant clone
   --> src/rates/indexstore.rs:117:17
    |
117 |                 .to_string(),
    |                 ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/indexstore.rs:111:17
    |
111 | /                 format!(
112 | |                     "Index ({name:?}) reference date ({reference_date}) does not match index store reference date ({store_reference_date})",
113 | |                     name = index.read_index()?.name(),
114 | |                     reference_date = index.read_index()?.reference_date(),
...   |
117 | |                 .to_string(),
    | |________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone
    = note: `-D clippy::redundant-clone` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::redundant_clone)]`

error: redundant clone
   --> src/rates/indexstore.rs:149:17
    |
149 |                 .to_string(),
    |                 ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/indexstore.rs:143:17
    |
143 | /                 format!(
144 | |                     "Index ({name:?}) reference date ({reference_date}) does not match index store reference date ({store_reference_date})",
145 | |                     name = index.read_index()?.name(),
146 | |                     reference_date = index.read_index()?.reference_date(),
...   |
149 | |                 .to_string(),
    | |________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:185:28
    |
185 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:213:28
    |
213 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:246:63
    |
246 |     pub fn advance_to_period(&self, period: Period) -> Result<IndexStore> {
    |                                                               ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:249:28
    |
249 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:254:34
    |
254 |         for (currency, curve) in self.currency_curve.iter() {
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.currency_curve`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:265:57
    |
265 |     pub fn advance_to_date(&self, date: Date) -> Result<IndexStore> {
    |                                                         ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:177:9
    |
177 |         self.overnight_index.add_fixing(date, rate)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `self.overnight_index.add_fixing(date, rate);`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightindex.rs:211:22
    |
211 |                     .cloned()
    |                      ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/overnightindex.rs:243:13
    |
243 |             OvernightIndex::new(new_curve.reference_date())
    |             ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: boolean to int conversion using if
   --> src/time/calendars/traits.rs:142:16
    |
142 |           } else if include_first && include_last && self.is_business_day(&from) {
    |  ________________^
143 | |             1
144 | |         } else {
145 | |             0
146 | |         }
    | |_________^ help: replace with from: `{ i64::from(include_first && include_last && self.is_business_day(&from)) }`
    |
    = note: `(include_first && include_last && self.is_business_day(&from)) as i64` or `(include_first && include_last && self.is_business_day(&from)).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if
    = note: `-D clippy::bool-to-int-with-if` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::bool_to_int_with_if)]`

error: this `if` statement can be collapsed
   --> src/time/calendars/traits.rs:170:21
    |
170 | /                     if conv == BusinessDayConvention::HalfMonthModifiedFollowing {
171 | |                         if date.day() <= 15 && d1.day() > 15 {
172 | |                             return self.adjust(date, Some(BusinessDayConvention::Preceding));
173 | |                         }
174 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
    = note: `-D clippy::collapsible-if` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::collapsible_if)]`
help: collapse nested if block
    |
170 ~                     if conv == BusinessDayConvention::HalfMonthModifiedFollowing
171 ~                         && date.day() <= 15 && d1.day() > 15 {
172 |                             return self.adjust(date, Some(BusinessDayConvention::Preceding));
173 ~                         }
    |

error: this `if` statement can be collapsed
   --> src/time/calendars/traits.rs:181:17
    |
181 | /                 if conv == BusinessDayConvention::ModifiedPreceding {
182 | |                     if d1.month() != date.month() {
183 | |                         return self.adjust(date, Some(BusinessDayConvention::Following));
184 | |                     }
185 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#collapsible_if
help: collapse nested if block
    |
181 ~                 if conv == BusinessDayConvention::ModifiedPreceding
182 ~                     && d1.month() != date.month() {
183 |                         return self.adjust(date, Some(BusinessDayConvention::Following));
184 ~                     }
    |

error: unnecessary structure name repetition
  --> src/time/date.rs:68:20
   |
68 |             day += NaiveDate::from_ymd_opt(self.year(), m, 1)
   |                    ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `u32` to `i32` may wrap around the value
  --> src/time/date.rs:72:15
   |
72 |         day + self.day() as i32
   |               ^^^^^^^^^^^^^^^^^ help: if this is intentional, use `cast_signed()` instead: `self.day().cast_signed()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap
   = note: `-D clippy::cast-possible-wrap` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_possible_wrap)]`

error: unnecessary structure name repetition
   --> src/time/date.rs:121:13
    |
121 |             NaiveDate::from_ymd_opt(year, month, 1)
    |             ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:141:19
    |
141 |     type Output = NaiveDate;
    |                   ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:161:19
    |
161 |     type Output = NaiveDate;
    |                   ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:201:63
    |
201 |     fn deserialize<D>(deserializer: D) -> std::result::Result<Date, D::Error>
    |                                                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:213:52
    |
213 |     pub fn new(year: i32, month: u32, day: u32) -> Date {
    |                                                    ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: use Option::map_or_else instead of an if let/else
   --> src/time/date.rs:215:9
    |
215 | /         match base_date {
216 | |             Some(base_date) => Self::from(base_date),
217 | |             None => panic!("Invalid date: {year}-{month}-{day}"),
218 | |         }
    | |_________^ help: try: `base_date.map_or_else(|| panic!("Invalid date: {year}-{month}-{day}"), |base_date| Self::from(base_date))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
    = note: `-D clippy::option-if-let-else` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::option_if_let_else)]`

error: unnecessary structure name repetition
   --> src/time/date.rs:226:54
    |
226 |     pub fn from_str(date: &str, fmt: &str) -> Result<Date> {
    |                                                      ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:287:55
    |
287 |     pub fn advance(&self, n: i32, units: TimeUnit) -> Date {
    |                                                       ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:294:49
    |
294 |     pub fn add_period(&self, period: Period) -> Date {
    |                                                 ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:301:31
    |
301 |     pub fn end_of_month(date: Date) -> Date {
    |                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:301:40
    |
301 |     pub fn end_of_month(date: Date) -> Date {
    |                                        ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:308:80
    |
308 |     pub fn nth_weekday(n: i32, day_of_week: Weekday, month: u32, year: i32) -> Date {
    |                                                                                ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:324:31
    |
324 |     pub fn next_weekday(date: Date, weekday: Weekday) -> Date {
    |                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:324:58
    |
324 |     pub fn next_weekday(date: Date, weekday: Weekday) -> Date {
    |                                                          ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:345:23
    |
345 |     pub fn empty() -> Date {
    |                       ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:380:19
    |
380 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:398:19
    |
398 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:415:19
    |
415 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
   --> src/time/date.rs:419:30
    |
419 |             self.base_date + Duration::try_days(rhs).expect("valid day count");
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used
    = note: requested on the command line with `-D clippy::expect-used`

error: used `expect()` on an `Option` value
   --> src/time/date.rs:437:15
    |
437 |             + Duration::try_days(rhs).expect("valid day count");
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
   --> src/time/date.rs:450:19
    |
450 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
   --> src/time/date.rs:454:30
    |
454 |             self.base_date - Duration::try_days(rhs).expect("valid day count");
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: used `expect()` on an `Option` value
   --> src/time/date.rs:472:15
    |
472 |             - Duration::try_days(rhs).expect("valid day count");
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
   --> src/time/enums.rs:456:25
    |
456 |         self + -(rhs as i32)
    |                         ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: method `from_str` can be confused for the standard trait method `std::str::FromStr::from_str`
   --> src/time/period.rs:257:5
    |
257 | /     pub fn from_str(tenor: &str) -> Result<Self> {
258 | |         // parse multiple periods and add them
259 | |         let chars = tenor.chars();
260 | |         let mut periods = Vec::new();
...   |
273 | |         Ok(result)
274 | |     }
    | |_____^
    |
    = help: consider implementing the trait `std::str::FromStr` or choosing a less ambiguous method name
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#should_implement_trait
    = note: `-D clippy::should-implement-trait` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::should_implement_trait)]`

error: unnecessary structure name repetition
   --> src/time/period.rs:336:9
    |
336 |         Period::from_str(s)
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this function has too many arguments (10/7)
   --> src/time/schedule.rs:92:5
    |
 92 | /     pub fn new(
 93 | |         tenor: Period,
 94 | |         calendar: Calendar,
 95 | |         convention: BusinessDayConvention,
...   |
102 | |         is_regular: Vec<bool>,
103 | |     ) -> Self {
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/rates/interestrate.rs:603:23
    |
603 |                     < (test_case.precision as f64) / 100.0
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: could not compile `rustatlas` (lib) due to 112 previous errors
warning: build failed, waiting for other jobs to finish...
error: could not compile `rustatlas` (lib test) due to 123 previous errors
