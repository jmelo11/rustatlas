    Checking rustatlas v0.1.0 (/Users/josemelo/Desktop/dev/libs/rustatlas)
error: this function has too many arguments (9/7)
  --> src/alm/positiongenerator.rs:53:5
   |
53 | /     pub const fn new(
54 | |         weight: f64,
55 | |         structure: Structure,
56 | |         payment_frequency: Frequency,
...  |
62 | |         forecast_curve_id: Option<usize>,
63 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments
   = note: `-D clippy::too-many-arguments` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::too_many_arguments)]`

error: this could be a `const fn`
   --> src/cashflows/cashflow.rs:100:5
    |
100 | /     pub fn set_forecast_curve_id(&mut self, id: usize) {
101 | |         if let Self::FloatingRateCoupon(coupon) = self {
102 | |             coupon.set_forecast_curve_id(id);
103 | |         }
104 | |     }
    | |_____^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
    = note: `-D clippy::missing-const-for-fn` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::missing_const_for_fn)]`
help: make the function `const`
    |
100 |     pub const fn set_forecast_curve_id(&mut self, id: usize) {
    |         +++++

error: this could be a `const fn`
  --> src/cashflows/fixedratecoupon.rs:71:5
   |
71 | /     pub fn with_discount_curve_id(mut self, id: usize) -> Self {
72 | |         self.cashflow.set_discount_curve_id(id);
73 | |         self
74 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
71 |     pub const fn with_discount_curve_id(mut self, id: usize) -> Self {
   |         +++++

error: this could be a `const fn`
  --> src/cashflows/fixedratecoupon.rs:77:5
   |
77 | /     pub fn set_discount_curve_id(&mut self, id: usize) {
78 | |         self.cashflow.set_discount_curve_id(id);
79 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
77 |     pub const fn set_discount_curve_id(&mut self, id: usize) {
   |         +++++

error: this could be a `const fn`
  --> src/cashflows/floatingratecoupon.rs:51:5
   |
51 | /     pub fn new(
52 | |         notional: f64,
53 | |         spread: f64,
54 | |         accrual_start_date: Date,
...  |
73 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
51 |     pub const fn new(
   |         +++++

error: this function has too many arguments (9/7)
  --> src/cashflows/floatingratecoupon.rs:51:5
   |
51 | /     pub fn new(
52 | |         notional: f64,
53 | |         spread: f64,
54 | |         accrual_start_date: Date,
...  |
60 | |         side: Side,
61 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this could be a `const fn`
  --> src/cashflows/floatingratecoupon.rs:90:5
   |
90 | /     pub fn set_discount_curve_id(&mut self, id: usize) {
91 | |         self.cashflow.set_discount_curve_id(id);
92 | |     }
   | |_____^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_const_for_fn
help: make the function `const`
   |
90 |     pub const fn set_discount_curve_id(&mut self, id: usize) {
   |         +++++

error: this function has too many arguments (18/7)
  --> src/instruments/doublerateinstrument.rs:47:5
   |
47 | /     pub fn new(
48 | |         start_date: Date,
49 | |         end_date: Date,
50 | |         notional: f64,
...  |
65 | |         cashflows: Vec<Cashflow>,
66 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: struct constructor field order is inconsistent with struct definition field order
  --> src/instruments/doublerateinstrument.rs:68:13
   |
68 | /             start_date,
69 | |             end_date,
70 | |             notional,
71 | |             notional_at_change_rate,
...  |
84 | |             discount_curve_id,
85 | |             cashflows,
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#inconsistent_struct_constructor
   = note: `-D clippy::inconsistent-struct-constructor` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::inconsistent_struct_constructor)]`
help: try
   |
68 ~             start_date,
69 +             end_date,
70 +             notional,
71 +             notional_at_change_rate,
72 +             payment_frequency,
73 +             rate_type,
74 +             side,
75 +             currency,
76 +             id,
77 +             issue_date,
78 +             change_rate_date,
79 +             first_rate_definition,
80 +             first_rate,
81 +             second_rate_definition,
82 +             second_rate,
83 +             forecast_curve_id,
84 +             discount_curve_id,
85 ~             cashflows,
   |

error: this function has too many arguments (13/7)
  --> src/instruments/fixedrateinstrument.rs:48:5
   |
48 | /     pub fn new(
49 | |         start_date: Date,
50 | |         end_date: Date,
51 | |         notional: f64,
...  |
61 | |         yield_rate: Option<InterestRate>,
62 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: doc comment uses two spaces for a hard line break
   --> src/instruments/fixedrateinstrument.rs:171:59
    |
171 | /// Implements fixed rate bond accrual using a yield rate.  
    |                                                           ^^
    |
    = help: replace this double space with a backslash: `\`
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_comment_double_space_linebreaks
    = note: `-D clippy::doc-comment-double-space-linebreaks` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::doc_comment_double_space_linebreaks)]`

error: this function has too many arguments (14/7)
  --> src/instruments/floatingrateinstrument.rs:53:5
   |
53 | /     pub fn new(
54 | |         start_date: Date,
55 | |         end_date: Date,
56 | |         notional: f64,
...  |
67 | |         issue_date: Option<Date>,
68 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function has too many arguments (17/7)
  --> src/instruments/hybridrateinstrument.rs:40:5
   |
40 | /     pub fn new(
41 | |         start_date: Date,
42 | |         end_date: Date,
43 | |         notional: f64,
...  |
57 | |         cashflows: Vec<Cashflow>,
58 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: struct constructor field order is inconsistent with struct definition field order
  --> src/instruments/hybridrateinstrument.rs:60:13
   |
60 | /             start_date,
61 | |             end_date,
62 | |             notional,
63 | |             payment_frequency,
...  |
75 | |             discount_curve_id,
76 | |             cashflows,
   | |_____________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#inconsistent_struct_constructor
help: try
   |
60 ~             start_date,
61 +             end_date,
62 +             notional,
63 +             payment_frequency,
64 +             structure,
65 +             rate_type,
66 +             side,
67 +             currency,
68 +             id,
69 +             issue_date,
70 +             first_rate_definition,
71 +             first_rate,
72 +             second_rate_definition,
73 +             second_rate,
74 +             forecast_curve_id,
75 +             discount_curve_id,
76 ~             cashflows,
   |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/alm/cashaccount.rs:192:31
    |
192 |         for (date, amount) in cash_account.iter() {
    |                               ^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&cash_account`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop
    = note: `-D clippy::explicit-iter-loop` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::explicit_iter_loop)]`

error: use Option::map_or_else instead of an if let/else
   --> src/instruments/hybridrateinstrument.rs:187:9
    |
187 | /         match self.currency {
188 | |             Some(currency) => Ok(currency),
189 | |             None => Err(AtlasError::NotFoundErr("Currency not found".to_string())),
190 | |         }
    | |_________^ help: try: `self.currency.map_or_else(|| Err(AtlasError::NotFoundErr("Currency not found".to_string())), |currency| Ok(currency))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
    = note: `-D clippy::option-if-let-else` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::option_if_let_else)]`

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/alm/cashaccount.rs:251:31
    |
251 |         for (date, amount) in cash_account.iter() {
    |                               ^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&cash_account`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/instrument.rs:154:13
    |
154 |             _ => todo!(),
    |             ^ help: try: `Self::DoubleRateInstrument(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants
    = note: `-D clippy::match-wildcard-for-single-variants` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::match_wildcard_for_single_variants)]`

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/instrument.rs:262:13
    |
262 |             _ => {}
    |             ^ help: try: `Self::FixedRateInstrument(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: this function has too many arguments (9/7)
  --> src/instruments/leg.rs:28:5
   |
28 | /     pub fn new(
29 | |         structure: Structure,
30 | |         rate_type: RateType,
31 | |         rate_value: f64,
...  |
37 | |         cashflows: Vec<Cashflow>,
38 | |     ) -> Self {
   | |_____________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:387:9
    |
387 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: `-D clippy::float-cmp` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::float_cmp)]`
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:391:9
    |
391 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:449:9
    |
449 |         assert_eq!(outstanding, -1980.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:508:9
    |
508 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/alm/rolloversimulationengine.rs:513:9
    |
513 |         assert_eq!(outstanding, -1800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:574:17
    |
574 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops
    = note: `-D clippy::suboptimal-flops` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::suboptimal_flops)]`

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:574:41
    |
574 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:579:17
    |
579 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:579:41
    |
579 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:640:17
    |
640 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:640:41
    |
640 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:645:17
    |
645 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `1800.0f64.mul_add(1.0 + 0.1 * delta_date, outstanding)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/alm/rolloversimulationengine.rs:645:41
    |
645 |         assert!((outstanding + 1800.0 * (1.0 + 0.1 * delta_date)).abs() < 1e-6);
    |                                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `0.1f64.mul_add(delta_date, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: this function has too many lines (220/100)
   --> src/instruments/loandepo.rs:151:5
    |
151 |     fn try_from(value: LoanDepo) -> Result<Self> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines
    = note: `-D clippy::too-many-lines` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::too_many_lines)]`

error: this function has too many lines (255/100)
   --> src/instruments/makedoublerateinstrument.rs:275:5
    |
275 |     pub fn build(self) -> Result<DoubleRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makedoublerateinstrument.rs:322:24
    |
322 |           let end_date = match self.end_date {
    |  ________________________^
323 | |             Some(date) => date,
324 | |             None => {
325 | |                 let tenor = self.tenor.ok_or(AtlasError::ValueNotSetErr(
...   |
330 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
    = note: `-D clippy::single-match-else` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::single_match_else)]`
help: try
    |
322 ~         let end_date = if let Some(date) = self.end_date { date } else {
323 +             let tenor = self.tenor.ok_or(AtlasError::ValueNotSetErr(
324 +                 "Tenor or end date is required".into(),
325 +             ))?;
326 +             start_date + tenor
327 ~         };
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makedoublerateinstrument.rs:333:32
    |
333 |           let change_rate_date = match self.change_rate_date {
    |  ________________________________^
334 | |             Some(date) => date,
335 | |             None => {
336 | |                 let tenor_change_rate =
...   |
342 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
333 ~         let change_rate_date = if let Some(date) = self.change_rate_date { date } else {
334 +             let tenor_change_rate =
335 +                 self.tenor_change_rate.ok_or(AtlasError::ValueNotSetErr(
336 +                     "Tenor change rate or change rate date is required".into(),
337 +                 ))?;
338 +             start_date + tenor_change_rate
339 ~         };
    |

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:442:14
    |
442 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied
    = note: `-D clippy::cloned-instead-of-copied` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cloned_instead_of_copied)]`

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:447:14
    |
447 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makedoublerateinstrument.rs:506:57
    |
506 |         let aux_dates: Vec<Date> = dates.iter().skip(1).cloned().collect();
    |                                                         ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makedoublerateinstrument.rs:541:13
    |
541 | /             cashflows
542 | |                 .iter_mut()
543 | |                 .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
    = note: `-D clippy::semicolon-if-nothing-returned` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::semicolon_if_nothing_returned)]`
help: add a `;` here
    |
541 |             cashflows
542 |                 .iter_mut()
543 ~                 .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makedoublerateinstrument.rs:547:13
    |
547 | /             cashflows
548 | |                 .iter_mut()
549 | |                 .for_each(|cf| cf.set_forecast_curve_id(id))
    | |____________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
547 |             cashflows
548 |                 .iter_mut()
549 ~                 .for_each(|cf| cf.set_forecast_curve_id(id));
    |

error: this function has too many arguments (12/7)
   --> src/instruments/makedoublerateinstrument.rs:575:1
    |
575 | / fn build_coupons_from_notionals(
576 | |     cashflows: &mut Vec<Cashflow>,
577 | |     rate_type: RateType,
578 | |     dates_first_part: &[Date],
...   |
587 | |     currency: Currency,
588 | | ) -> Result<()> {
    | |_______________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makedoublerateinstrument.rs:690:12
    |
690 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
    = note: `-D clippy::needless-pass-by-value` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_pass_by_value)]`
help: consider changing the type to
    |
690 -     dates: Vec<Date>,
690 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
695 -         dates: dates.clone(),
695 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makedoublerateinstrument.rs:701:28
    |
701 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss
    = note: `-D clippy::cast-precision-loss` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_precision_loss)]`

error: item in documentation is missing backticks
  --> src/instruments/makefixedrateinstrument.rs:66:23
   |
66 |     /// Creates a new MakeFixedRateInstrument builder with default values.
   |                       ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
   = note: `-D clippy::doc-markdown` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::doc_markdown)]`
help: try
   |
66 -     /// Creates a new MakeFixedRateInstrument builder with default values.
66 +     /// Creates a new `MakeFixedRateInstrument` builder with default values.
   |

error: strict comparison of `f32` or `f64`
   --> src/cashflows/fixedratecoupon.rs:266:9
    |
266 | /         assert_eq!(
267 | |             coupon.accrued_amount(accrual_start_date, accrual_end_date)?,
268 | |             expected_amount
269 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: item in documentation is missing backticks
   --> src/instruments/makefixedrateinstrument.rs:344:30
    |
344 |     /// Builds and returns a FixedRateInstrument from the configured builder.
    |                              ^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
344 -     /// Builds and returns a FixedRateInstrument from the configured builder.
344 +     /// Builds and returns a `FixedRateInstrument` from the configured builder.
    |

error: this function has too many lines (515/100)
   --> src/instruments/makefixedrateinstrument.rs:348:5
    |
348 |     pub fn build(self) -> Result<FixedRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:368:32
    |
368 |                   let end_date = match self.end_date {
    |  ________________________________^
369 | |                     Some(date) => date,
370 | |                     None => {
371 | |                         let tenor = self
...   |
376 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
368 ~                 let end_date = if let Some(date) = self.end_date { date } else {
369 +                     let tenor = self
370 +                         .tenor
371 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
372 +                     start_date + tenor
373 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:450:21
    |
450 | /                     cashflows
451 | |                         .iter_mut()
452 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
450 |                     cashflows
451 |                         .iter_mut()
452 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateinstrument.rs:491:39
    |
491 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop
    = note: `-D clippy::explicit-iter-loop` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::explicit_iter_loop)]`

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateinstrument.rs:509:39
    |
509 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:525:21
    |
525 | /                     cashflows
526 | |                         .iter_mut()
527 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
525 |                     cashflows
526 |                         .iter_mut()
527 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:550:32
    |
550 |                   let end_date = match self.end_date {
    |  ________________________________^
551 | |                     Some(date) => date,
552 | |                     None => {
553 | |                         let tenor = self
...   |
558 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
550 ~                 let end_date = if let Some(date) = self.end_date { date } else {
551 +                     let tenor = self
552 +                         .tenor
553 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
554 +                     start_date + tenor
555 ~                 };
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:561:17
    |
561 | /                 match self.redemptions {
562 | |                     Some(redemption) => {
563 | |                         // disbursements should have only one element
564 | |                         let disbursements_dates = self
...   |
606 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
561 ~                 if let Some(redemption) = self.redemptions {
562 +                     // disbursements should have only one element
563 +                     let disbursements_dates = self
564 +                         .disbursements
565 +                         .ok_or(AtlasError::ValueNotSetErr("Disbursements".into()))?
566 +                         .keys()
567 +                         .cloned()
568 +                         .collect::<Vec<Date>>();
569 + 
570 +                     let redemption_dates = redemption.keys().cloned().collect::<Vec<Date>>();
571 +                     // dates equal to disbursements dates an them redemption dates
572 +                     dates.extend(disbursements_dates);
573 +                     dates.extend(redemption_dates);
574 +                     dates.sort();
575 +                 } else {
576 +                     let mut schedule_builder = MakeSchedule::new(start_date, end_date)
577 +                         .with_frequency(payment_frequency)
578 +                         .with_calendar(
579 +                             self.calendar
580 +                                 .unwrap_or(Calendar::NullCalendar(NullCalendar::new())),
581 +                         )
582 +                         .with_convention(
583 +                             self.business_day_convention
584 +                                 .unwrap_or(BusinessDayConvention::Unadjusted),
585 +                         )
586 +                         .with_rule(
587 +                             self.date_generation_rule
588 +                                 .unwrap_or(DateGenerationRule::Backward),
589 +                         );
590 +                     let schedule = match self.first_coupon_date {
591 +                         Some(date) => {
592 +                             if date > start_date {
593 +                                 schedule_builder.with_first_date(date).build()?
594 +                             } else {
595 +                                 Err(AtlasError::InvalidValueErr(
596 +                                     "First coupon date must be after start date".into(),
597 +                                 ))?
598 +                             }
599 +                         }
600 +                         None => schedule_builder.build()?,
601 +                     };
602 +                     dates = schedule.dates().clone();
603 +                 }
    |

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:568:30
    |
568 | ...                   .cloned()
    |                        ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:571:66
    |
571 |                         let redemption_dates = redemption.keys().cloned().collect::<Vec<Date>>();
    |                                                                  ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: assigning the result of `Clone::clone()` may be inefficient
   --> src/instruments/makefixedrateinstrument.rs:604:25
    |
604 |                         dates = schedule.dates().clone();
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `dates.clone_from(schedule.dates())`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones
    = note: `-D clippy::assigning-clones` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::assigning_clones)]`

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:656:65
    |
656 |                 let aux_dates: Vec<Date> = dates.iter().skip(1).cloned().collect();
    |                                                                 ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:694:21
    |
694 | /                     cashflows
695 | |                         .iter_mut()
696 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
694 |                     cashflows
695 |                         .iter_mut()
696 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:719:32
    |
719 |                   let end_date = match self.end_date {
    |  ________________________________^
720 | |                     Some(date) => date,
721 | |                     None => {
722 | |                         let tenor = self
...   |
727 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
719 ~                 let end_date = if let Some(date) = self.end_date { date } else {
720 +                     let tenor = self
721 +                         .tenor
722 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
723 +                     start_date + tenor
724 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:787:21
    |
787 | /                     cashflows
788 | |                         .iter_mut()
789 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
787 |                     cashflows
788 |                         .iter_mut()
789 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateinstrument.rs:812:32
    |
812 |                   let end_date = match self.end_date {
    |  ________________________________^
813 | |                     Some(date) => date,
814 | |                     None => {
815 | |                         let tenor = self
...   |
820 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
812 ~                 let end_date = if let Some(date) = self.end_date { date } else {
813 +                     let tenor = self
814 +                         .tenor
815 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
816 +                     start_date + tenor
817 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateinstrument.rs:861:51
    |
861 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateinstrument.rs:882:53
    |
882 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefixedrateinstrument.rs:894:21
    |
894 | /                     cashflows
895 | |                         .iter_mut()
896 | |                         .for_each(|cf| cf.set_discount_curve_id(id))
    | |____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
894 |                     cashflows
895 |                         .iter_mut()
896 ~                         .for_each(|cf| cf.set_discount_curve_id(id));
    |

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makefixedrateinstrument.rs:968:12
    |
968 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider changing the type to
    |
968 -     dates: Vec<Date>,
968 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
973 -         dates: dates.clone(),
973 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateinstrument.rs:979:28
    |
979 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: wildcard matches only a single variant and will also match any future added variants
    --> src/instruments/makefixedrateinstrument.rs:1031:17
     |
1031 |                 _ => (),
     |                 ^ help: try: `Cashflow::FloatingRateCoupon(_)`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: unnecessary structure name repetition
    --> src/instruments/makefixedrateinstrument.rs:1035:23
     |
1035 |         let builder = MakeFixedRateInstrument::new()
     |                       ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self
     = note: `-D clippy::use-self` implied by `-D clippy::nursery`
     = help: to override `-D clippy::nursery` add `#[allow(clippy::use_self)]`

error: unnecessary structure name repetition
    --> src/instruments/makefixedrateinstrument.rs:1057:9
     |
1057 |         MakeFixedRateInstrument::from(val.clone())
     |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: item in documentation is missing backticks
  --> src/instruments/makefixedrateleg.rs:64:23
   |
64 |     /// Creates a new MakeFixedRateLeg builder with default values.
   |                       ^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
64 -     /// Creates a new MakeFixedRateLeg builder with default values.
64 +     /// Creates a new `MakeFixedRateLeg` builder with default values.
   |

error: item in documentation is missing backticks
   --> src/instruments/makefixedrateleg.rs:342:44
    |
342 |     /// Builds the Leg from the configured MakeFixedRateLeg builder.
    |                                            ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
342 -     /// Builds the Leg from the configured MakeFixedRateLeg builder.
342 +     /// Builds the Leg from the configured `MakeFixedRateLeg` builder.
    |

error: this function has too many lines (453/100)
   --> src/instruments/makefixedrateleg.rs:346:5
    |
346 |     pub fn build(self) -> Result<Leg> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:366:32
    |
366 |                   let end_date = match self.end_date {
    |  ________________________________^
367 | |                     Some(date) => date,
368 | |                     None => {
369 | |                         let tenor = self
...   |
374 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
366 ~                 let end_date = if let Some(date) = self.end_date { date } else {
367 +                     let tenor = self
368 +                         .tenor
369 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
370 +                     start_date + tenor
371 ~                 };
    |

error: needless use of `for_each`
   --> src/instruments/makefixedrateleg.rs:449:21
    |
449 | /                     cashflows
450 | |                         .iter_mut()
451 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
    = note: `-D clippy::needless-for-each` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_for_each)]`
help: try
    |
449 ~                     for cf in cashflows
450 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:488:39
    |
488 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateleg.rs:506:39
    |
506 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: needless use of `for_each`
   --> src/instruments/makefixedrateleg.rs:514:21
    |
514 | /                     cashflows
515 | |                         .iter_mut()
516 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
514 ~                     for cf in cashflows
515 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:535:32
    |
535 |                   let end_date = match self.end_date {
    |  ________________________________^
536 | |                     Some(date) => date,
537 | |                     None => {
538 | |                         let tenor = self
...   |
543 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
535 ~                 let end_date = if let Some(date) = self.end_date { date } else {
536 +                     let tenor = self
537 +                         .tenor
538 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
539 +                     start_date + tenor
540 ~                 };
    |

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateleg.rs:623:53
    |
623 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: needless use of `for_each`
   --> src/instruments/makefixedrateleg.rs:637:21
    |
637 | /                     cashflows
638 | |                         .iter_mut()
639 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
637 ~                     for cf in cashflows
638 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:658:32
    |
658 |                   let end_date = match self.end_date {
    |  ________________________________^
659 | |                     Some(date) => date,
660 | |                     None => {
661 | |                         let tenor = self
...   |
666 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
658 ~                 let end_date = if let Some(date) = self.end_date { date } else {
659 +                     let tenor = self
660 +                         .tenor
661 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
662 +                     start_date + tenor
663 ~                 };
    |

error: needless use of `for_each`
   --> src/instruments/makefixedrateleg.rs:726:21
    |
726 | /                     cashflows
727 | |                         .iter_mut()
728 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
726 ~                     for cf in cashflows
727 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefixedrateleg.rs:747:32
    |
747 |                   let end_date = match self.end_date {
    |  ________________________________^
748 | |                     Some(date) => date,
749 | |                     None => {
750 | |                         let tenor = self
...   |
755 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
747 ~                 let end_date = if let Some(date) = self.end_date { date } else {
748 +                     let tenor = self
749 +                         .tenor
750 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
751 +                     start_date + tenor
752 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateleg.rs:797:51
    |
797 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefixedrateleg.rs:818:53
    |
818 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: needless use of `for_each`
   --> src/instruments/makefixedrateleg.rs:830:21
    |
830 | /                     cashflows
831 | |                         .iter_mut()
832 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
830 ~                     for cf in cashflows
831 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: this argument is passed by value, but not consumed in the function body
   --> src/instruments/makefixedrateleg.rs:899:12
    |
899 |     dates: Vec<Date>,
    |            ^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider changing the type to
    |
899 -     dates: Vec<Date>,
899 +     dates: &[Date],
    |
help: change `dates.clone()` to
    |
905 -         dates: dates.clone(),
905 +         dates: dates.to_owned(),
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefixedrateleg.rs:911:28
    |
911 |     let init_param = 1.0 / (dates.len() as f64);
    |                            ^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: this function has too many lines (403/100)
   --> src/instruments/makefloatingrateinstrument.rs:305:5
    |
305 |     pub fn build(self) -> Result<FloatingRateInstrument> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateinstrument.rs:737:13
    |
737 |             _ => Err(AtlasError::InvalidValueErr(
    |             ^ help: try: `Structure::EqualPayments`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:329:32
    |
329 |                   let end_date = match self.end_date {
    |  ________________________________^
330 | |                     Some(date) => date,
331 | |                     None => {
332 | |                         let tenor = self
...   |
337 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
329 ~                 let end_date = if let Some(date) = self.end_date { date } else {
330 +                     let tenor = self
331 +                         .tenor
332 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
333 +                     start_date + tenor
334 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:409:21
    |
409 | /                     cashflows.iter_mut().for_each(|cf| {
410 | |                         cf.set_discount_curve_id(id);
411 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
409 |                     cashflows.iter_mut().for_each(|cf| {
410 |                         cf.set_discount_curve_id(id);
411 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:414:21
    |
414 | /                     cashflows.iter_mut().for_each(|cf| {
415 | |                         cf.set_forecast_curve_id(id);
416 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
414 |                     cashflows.iter_mut().for_each(|cf| {
415 |                         cf.set_forecast_curve_id(id);
416 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:441:32
    |
441 |                   let end_date = match self.end_date {
    |  ________________________________^
442 | |                     Some(date) => date,
443 | |                     None => {
444 | |                         let tenor = self
...   |
449 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
441 ~                 let end_date = if let Some(date) = self.end_date { date } else {
442 +                     let tenor = self
443 +                         .tenor
444 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
445 +                     start_date + tenor
446 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:509:21
    |
509 | /                     cashflows.iter_mut().for_each(|cf| {
510 | |                         cf.set_discount_curve_id(id);
511 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
509 |                     cashflows.iter_mut().for_each(|cf| {
510 |                         cf.set_discount_curve_id(id);
511 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:514:21
    |
514 | /                     cashflows.iter_mut().for_each(|cf| {
515 | |                         cf.set_forecast_curve_id(id);
516 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
514 |                     cashflows.iter_mut().for_each(|cf| {
515 |                         cf.set_forecast_curve_id(id);
516 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateinstrument.rs:541:32
    |
541 |                   let end_date = match self.end_date {
    |  ________________________________^
542 | |                     Some(date) => date,
543 | |                     None => {
544 | |                         let tenor = self
...   |
549 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
541 ~                 let end_date = if let Some(date) = self.end_date { date } else {
542 +                     let tenor = self
543 +                         .tenor
544 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
545 +                     start_date + tenor
546 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefloatingrateinstrument.rs:586:51
    |
586 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefloatingrateinstrument.rs:611:53
    |
611 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:621:21
    |
621 | /                     cashflows.iter_mut().for_each(|cf| {
622 | |                         cf.set_discount_curve_id(id);
623 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
621 |                     cashflows.iter_mut().for_each(|cf| {
622 |                         cf.set_discount_curve_id(id);
623 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:626:21
    |
626 | /                     cashflows.iter_mut().for_each(|cf| {
627 | |                         cf.set_forecast_curve_id(id);
628 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
626 |                     cashflows.iter_mut().for_each(|cf| {
627 |                         cf.set_forecast_curve_id(id);
628 ~                     });
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateinstrument.rs:668:39
    |
668 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateinstrument.rs:690:39
    |
690 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:711:21
    |
711 | /                     cashflows.iter_mut().for_each(|cf| {
712 | |                         cf.set_discount_curve_id(id);
713 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
711 |                     cashflows.iter_mut().for_each(|cf| {
712 |                         cf.set_discount_curve_id(id);
713 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateinstrument.rs:716:21
    |
716 | /                     cashflows.iter_mut().for_each(|cf| {
717 | |                         cf.set_forecast_curve_id(id);
718 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
716 |                     cashflows.iter_mut().for_each(|cf| {
717 |                         cf.set_forecast_curve_id(id);
718 ~                     });
    |

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateinstrument.rs:797:17
    |
797 |                 _ => (),
    |                 ^ help: try: `Cashflow::FixedRateCoupon(_)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: unnecessary structure name repetition
   --> src/instruments/makefloatingrateinstrument.rs:801:9
    |
801 |         MakeFloatingRateInstrument::new()
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this function has too many lines (374/100)
   --> src/instruments/makefloatingrateleg.rs:294:5
    |
294 |     pub fn build(self) -> Result<Leg> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: wildcard matches only a single variant and will also match any future added variants
   --> src/instruments/makefloatingrateleg.rs:698:13
    |
698 |             _ => Err(AtlasError::InvalidValueErr(
    |             ^ help: try: `Structure::EqualPayments`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:318:32
    |
318 |                   let end_date = match self.end_date {
    |  ________________________________^
319 | |                     Some(date) => date,
320 | |                     None => {
321 | |                         let tenor = self
...   |
326 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
318 ~                 let end_date = if let Some(date) = self.end_date { date } else {
319 +                     let tenor = self
320 +                         .tenor
321 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
322 +                     start_date + tenor
323 ~                 };
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:399:21
    |
399 | /                     cashflows.iter_mut().for_each(|cf| {
400 | |                         cf.set_discount_curve_id(id);
401 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
399 |                     cashflows.iter_mut().for_each(|cf| {
400 |                         cf.set_discount_curve_id(id);
401 ~                     });
    |

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:168:9
    |
168 |         assert_eq!(manager.get_exchange_rate(USD, USD)?, 1.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:405:21
    |
405 | /                     cashflows.iter_mut().for_each(|cf| {
406 | |                         cf.set_forecast_curve_id(id);
407 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
405 |                     cashflows.iter_mut().for_each(|cf| {
406 |                         cf.set_forecast_curve_id(id);
407 ~                     });
    |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:427:32
    |
427 |                   let end_date = match self.end_date {
    |  ________________________________^
428 | |                     Some(date) => date,
429 | |                     None => {
430 | |                         let tenor = self
...   |
435 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
427 ~                 let end_date = if let Some(date) = self.end_date { date } else {
428 +                     let tenor = self
429 +                         .tenor
430 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
431 +                     start_date + tenor
432 ~                 };
    |

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:185:9
    |
185 |         assert_eq!(manager.get_exchange_rate(USD, EUR)?, 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:495:21
    |
495 | /                     cashflows.iter_mut().for_each(|cf| {
496 | |                         cf.set_discount_curve_id(id);
497 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
495 |                     cashflows.iter_mut().for_each(|cf| {
496 |                         cf.set_discount_curve_id(id);
497 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:501:21
    |
501 | /                     cashflows.iter_mut().for_each(|cf| {
502 | |                         cf.set_forecast_curve_id(id);
503 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
501 |                     cashflows.iter_mut().for_each(|cf| {
502 |                         cf.set_forecast_curve_id(id);
503 ~                     });
    |

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:186:9
    |
186 | /         assert_eq!(
187 | |             manager
188 | |                 .exchange_rate_cache
189 | |                 .lock()
...   |
196 | |             0.85
197 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/instruments/makefloatingrateleg.rs:523:32
    |
523 |                   let end_date = match self.end_date {
    |  ________________________________^
524 | |                     Some(date) => date,
525 | |                     None => {
526 | |                         let tenor = self
...   |
531 | |                 };
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
523 ~                 let end_date = if let Some(date) = self.end_date { date } else {
524 +                     let tenor = self
525 +                         .tenor
526 +                         .ok_or(AtlasError::ValueNotSetErr("Tenor".into()))?;
527 +                     start_date + tenor
528 ~                 };
    |

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/makefloatingrateleg.rs:569:51
    |
569 |                 let redemptions = vec![notional / n as f64; n];
    |                                                   ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: this function's return value is unnecessary
   --> src/currencies/exchangeratestore.rs:202:5
    |
202 |     fn test_nonexistent_rate() -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
    = note: `-D clippy::unnecessary-wraps` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::unnecessary_wraps)]`
help: remove the return type...
    |
202 -     fn test_nonexistent_rate() -> Result<()> {
202 +     fn test_nonexistent_rate() -> () {
    |
help: ...and then remove returned values
    |
212 -         Ok(())
    |

error: used `cloned` where `copied` could be used instead
   --> src/instruments/makefloatingrateleg.rs:594:53
    |
594 |                     schedule.dates().iter().skip(1).cloned().collect();
    |                                                     ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:604:21
    |
604 | /                     cashflows.iter_mut().for_each(|cf| {
605 | |                         cf.set_discount_curve_id(id);
606 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
604 |                     cashflows.iter_mut().for_each(|cf| {
605 |                         cf.set_discount_curve_id(id);
606 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:609:21
    |
609 | /                     cashflows.iter_mut().for_each(|cf| {
610 | |                         cf.set_forecast_curve_id(id);
611 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
609 |                     cashflows.iter_mut().for_each(|cf| {
610 |                         cf.set_forecast_curve_id(id);
611 ~                     });
    |

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:229:9
    |
229 |         assert_eq!(manager.get_exchange_rate(EUR, USD)?, 1.0 / 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateleg.rs:646:39
    |
646 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:230:9
    |
230 |         assert_eq!(manager.get_exchange_rate(USD, EUR)?, 0.85);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefloatingrateleg.rs:668:39
    |
668 |                 for (date, amount) in redemptions.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:676:21
    |
676 | /                     cashflows.iter_mut().for_each(|cf| {
677 | |                         cf.set_discount_curve_id(id);
678 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
676 |                     cashflows.iter_mut().for_each(|cf| {
677 |                         cf.set_discount_curve_id(id);
678 ~                     });
    |

error: consider adding a `;` to the last statement for consistent formatting
   --> src/instruments/makefloatingrateleg.rs:682:21
    |
682 | /                     cashflows.iter_mut().for_each(|cf| {
683 | |                         cf.set_forecast_curve_id(id);
684 | |                     })
    | |______________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned
help: add a `;` here
    |
682 |                     cashflows.iter_mut().for_each(|cf| {
683 |                         cf.set_forecast_curve_id(id);
684 ~                     });
    |

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:241:9
    |
241 |         assert_eq!(manager.get_exchange_rate(CLP, EUR)?, 1.1 * 800.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/currencies/exchangeratestore.rs:242:9
    |
242 | /         assert_eq!(
243 | |             manager.get_exchange_rate(EUR, CLP)?,
244 | |             1.0 / (1.1 * 800.0)
245 | |         );
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: item in documentation is missing backticks
  --> src/instruments/makeswap.rs:66:23
   |
66 |     /// Creates a new MakeSwap builder with default values.
   |                       ^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
66 -     /// Creates a new MakeSwap builder with default values.
66 +     /// Creates a new `MakeSwap` builder with default values.
   |

error: this function has too many lines (314/100)
   --> src/instruments/makeswap.rs:404:5
    |
404 |     pub fn build(self) -> Result<Swap> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:460:17
    |
460 | /                 match structure {
461 | |                     Structure::Other => {
462 | |                         let disbursements =
463 | |                             self.first_leg_disbursements
...   |
491 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
460 ~                 if structure == Structure::Other {
461 +                     let disbursements =
462 +                         self.first_leg_disbursements
463 +                             .ok_or(AtlasError::ValueNotSetErr(
464 +                                 "First Leg Disbursements".to_string(),
465 +                             ))?;
466 + 
467 +                     let redemptions =
468 +                         self.first_leg_redemptions
469 +                             .ok_or(AtlasError::ValueNotSetErr(
470 +                                 "First Leg Redemptions".to_string(),
471 +                             ))?;
472 + 
473 +                     let additional_coupon_dates =
474 +                         self.first_leg_additional_coupon_dates.unwrap_or_default();
475 + 
476 +                     builder
477 +                         .with_disbursements(disbursements)
478 +                         .with_redemptions(redemptions)
479 +                         .with_additional_coupon_dates(additional_coupon_dates)
480 +                         .build()?
481 +                 } else {
482 +                     let payment_frequency =
483 +                         self.first_leg_payment_frequency
484 +                             .ok_or(AtlasError::ValueNotSetErr(
485 +                                 "First Leg Payment Frequency".to_string(),
486 +                             ))?;
487 +                     builder.with_payment_frequency(payment_frequency).build()?
488 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:544:17
    |
544 | /                 match structure {
545 | |                     Structure::Other => {
546 | |                         let disbursements =
547 | |                             self.first_leg_disbursements
...   |
575 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
544 ~                 if structure == Structure::Other {
545 +                     let disbursements =
546 +                         self.first_leg_disbursements
547 +                             .ok_or(AtlasError::ValueNotSetErr(
548 +                                 "First Leg Disbursements".to_string(),
549 +                             ))?;
550 + 
551 +                     let redemptions =
552 +                         self.first_leg_redemptions
553 +                             .ok_or(AtlasError::ValueNotSetErr(
554 +                                 "First Leg Redemptions".to_string(),
555 +                             ))?;
556 + 
557 +                     let additional_coupon_dates =
558 +                         self.first_leg_additional_coupon_dates.unwrap_or_default();
559 + 
560 +                     builder
561 +                         .with_disbursements(disbursements)
562 +                         .with_redemptions(redemptions)
563 +                         .with_additional_coupon_dates(additional_coupon_dates)
564 +                         .build()?
565 +                 } else {
566 +                     let payment_frequency =
567 +                         self.first_leg_payment_frequency
568 +                             .ok_or(AtlasError::ValueNotSetErr(
569 +                                 "First Leg Payment Frequency".to_string(),
570 +                             ))?;
571 +                     builder.with_payment_frequency(payment_frequency).build()?
572 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:640:17
    |
640 | /                 match structure {
641 | |                     Structure::Other => {
642 | |                         let disbursements =
643 | |                             self.second_leg_disbursements
...   |
671 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
640 ~                 if structure == Structure::Other {
641 +                     let disbursements =
642 +                         self.second_leg_disbursements
643 +                             .ok_or(AtlasError::ValueNotSetErr(
644 +                                 "Second Leg Disbursements".to_string(),
645 +                             ))?;
646 + 
647 +                     let redemptions =
648 +                         self.second_leg_redemptions
649 +                             .ok_or(AtlasError::ValueNotSetErr(
650 +                                 "Second Leg Redemptions".to_string(),
651 +                             ))?;
652 + 
653 +                     let additional_coupon_dates =
654 +                         self.second_leg_additional_coupon_dates.unwrap_or_default();
655 + 
656 +                     builder
657 +                         .with_disbursements(disbursements)
658 +                         .with_redemptions(redemptions)
659 +                         .with_additional_coupon_dates(additional_coupon_dates)
660 +                         .build()?
661 +                 } else {
662 +                     let payment_frequency =
663 +                         self.second_leg_payment_frequency
664 +                             .ok_or(AtlasError::ValueNotSetErr(
665 +                                 "Second Leg Payment Frequency".to_string(),
666 +                             ))?;
667 +                     builder.with_payment_frequency(payment_frequency).build()?
668 +                 }
    |

error: you seem to be trying to use `match` for an equality check. Consider using `if`
   --> src/instruments/makeswap.rs:727:17
    |
727 | /                 match structure {
728 | |                     Structure::Other => {
729 | |                         let disbursements =
730 | |                             self.second_leg_disbursements
...   |
758 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
727 ~                 if structure == Structure::Other {
728 +                     let disbursements =
729 +                         self.second_leg_disbursements
730 +                             .ok_or(AtlasError::ValueNotSetErr(
731 +                                 "Second leg Disbursements".to_string(),
732 +                             ))?;
733 + 
734 +                     let redemptions =
735 +                         self.second_leg_redemptions
736 +                             .ok_or(AtlasError::ValueNotSetErr(
737 +                                 "Second leg Redemptions".to_string(),
738 +                             ))?;
739 + 
740 +                     let additional_coupon_dates =
741 +                         self.second_leg_additional_coupon_dates.unwrap_or_default();
742 + 
743 +                     builder
744 +                         .with_disbursements(disbursements)
745 +                         .with_redemptions(redemptions)
746 +                         .with_additional_coupon_dates(additional_coupon_dates)
747 +                         .build()?
748 +                 } else {
749 +                     let payment_frequency =
750 +                         self.second_leg_payment_frequency
751 +                             .ok_or(AtlasError::ValueNotSetErr(
752 +                                 "Second leg Payment Frequency".to_string(),
753 +                             ))?;
754 +                     builder.with_payment_frequency(payment_frequency).build()?
755 +                 }
    |

error: item in documentation is missing backticks
   --> src/instruments/makeswap.rs:804:23
    |
804 |     /// Creates a new MakeFixFloatSwap builder with default values.
    |                       ^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
    |
804 -     /// Creates a new MakeFixFloatSwap builder with default values.
804 +     /// Creates a new `MakeFixFloatSwap` builder with default values.
    |

error: unnecessary structure name repetition
   --> src/instruments/makeswap.rs:808:9
    |
808 |         MakeFixFloatSwap {
    |         ^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this argument is passed by value, but not consumed in the function body
  --> src/instruments/swap.rs:25:36
   |
25 |     pub fn add_leg(&mut self, leg: Leg) {
   |                                    ^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value
help: consider taking a reference instead
   |
25 |     pub fn add_leg(&mut self, leg: &Leg) {
   |                                    +

error: redundant clone
  --> src/instruments/swap.rs:28:24
   |
28 |             .extend(leg.clone().cashflows().iter().cloned());
   |                        ^^^^^^^^ help: remove this
   |
note: this value is dropped without further use
  --> src/instruments/swap.rs:28:21
   |
28 |             .extend(leg.clone().cashflows().iter().cloned());
   |                     ^^^
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone
   = note: `-D clippy::redundant-clone` implied by `-D clippy::nursery`
   = help: to override `-D clippy::nursery` add `#[allow(clippy::redundant_clone)]`

error: used `cloned` where `copied` could be used instead
  --> src/instruments/swap.rs:28:52
   |
28 |             .extend(leg.clone().cashflows().iter().cloned());
   |                                                    ^^^^^^ help: try: `copied`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: casting `usize` to `f64` may cause a loss of precision (`usize` can be up to 64 bits wide depending on the target architecture, but `f64`'s mantissa is only 52 bits wide)
   --> src/instruments/traits.rs:138:47
    |
138 |             let redemptions = vec![notional / n as f64; n];
    |                                               ^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: parameter of type `HashMap` should be generalized over different hashers
   --> src/instruments/traits.rs:155:21
    |
155 |     disbursements: &HashMap<Date, f64>,
    |                     ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
    = note: `-D clippy::implicit-hasher` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::implicit_hasher)]`
help: add a type parameter for `BuildHasher`
    |
154 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
155 ~     disbursements: &HashMap<Date, f64, S>,
    |

error: parameter of type `HashMap` should be generalized over different hashers
   --> src/instruments/traits.rs:156:19
    |
156 |     redemptions: &HashMap<Date, f64>,
    |                   ^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
    |
154 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
155 |     disbursements: &HashMap<Date, f64>,
156 ~     redemptions: &HashMap<Date, f64, S>,
    |

error: parameter of type `HashSet` should be generalized over different hashers
   --> src/instruments/traits.rs:157:24
    |
157 |     additional_dates: &HashSet<Date>,
    |                        ^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
    |
154 ~ pub fn calculate_outstanding<S: ::std::hash::BuildHasher>(
155 |     disbursements: &HashMap<Date, f64>,
156 |     redemptions: &HashMap<Date, f64>,
157 ~     additional_dates: &HashSet<Date, S>,
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/traits.rs:164:27
    |
164 |     for (date, amount) in redemptions.iter() {
    |                           ^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `redemptions`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: this could be rewritten as `let...else`
  --> src/math/interpolation/linear.rs:17:9
   |
17 | /         let (first_x, last_x) = match (x_.first(), x_.last()) {
18 | |             (Some(first), Some(last)) => (first, last),
19 | |             _ => panic!("Interpolation data must contain at least one x value."),
20 | |         };
   | |__________^ help: consider writing: `let (Some(first_x), Some(last_x)) = (x_.first(), x_.last()) else { panic!("Interpolation data must contain at least one x value.") };`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_let_else
   = note: `-D clippy::manual-let-else` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::manual_let_else)]`

error: only a `panic!` in `if`-then statement
  --> src/math/interpolation/linear.rs:22:9
   |
22 | /         if !enable_extrapolation && (x < *first_x || x > *last_x) {
23 | |             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
24 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
   = note: `-D clippy::manual-assert` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::manual_assert)]`
help: replace `if`-then-`panic!` with `assert!`
   |
22 -         if !enable_extrapolation && (x < *first_x || x > *last_x) {
23 -             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
24 -         }
22 +         assert!(!(!enable_extrapolation && (x < *first_x || x > *last_x)), "Extrapolation is not enabled, and the provided value is outside the range.");
   |

error: these match arms have identical bodies
  --> src/math/interpolation/loglinear.rs:14:17
   |
14 |                 Ok(index) => index,
   |                 ^^^^^^^^^^^^^^^^^^
15 |                 Err(index) => index,
   |                 ^^^^^^^^^^^^^^^^^^^
   |
   = help: if this is unintentional make the arms return different values
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_same_arms
   = note: `-D clippy::match-same-arms` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::match_same_arms)]`
help: otherwise merge the patterns into a single arm
   |
14 -                 Ok(index) => index,
15 -                 Err(index) => index,
14 +                 Ok(index) | Err(index) => index,
   |

error: this could be rewritten as `let...else`
  --> src/math/interpolation/loglinear.rs:18:9
   |
18 | /         let (first_x, last_x) = match (x_.first(), x_.last()) {
19 | |             (Some(first), Some(last)) => (first, last),
20 | |             _ => panic!("Interpolation data must contain at least one x value."),
21 | |         };
   | |__________^ help: consider writing: `let (Some(first_x), Some(last_x)) = (x_.first(), x_.last()) else { panic!("Interpolation data must contain at least one x value.") };`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_let_else

error: only a `panic!` in `if`-then statement
  --> src/math/interpolation/loglinear.rs:23:9
   |
23 | /         if !enable_extrapolation && (x < *first_x || x > *last_x) {
24 | |             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
25 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
23 -         if !enable_extrapolation && (x < *first_x || x > *last_x) {
24 -             panic!("Extrapolation is not enabled, and the provided value is outside the range.");
25 -         }
23 +         assert!(!(!enable_extrapolation && (x < *first_x || x > *last_x)), "Extrapolation is not enabled, and the provided value is outside the range.");
   |

error: the following explicit lifetimes could be elided: 'a
  --> src/models/simplemodel.rs:58:6
   |
58 | impl<'a> Model for SimpleModel<'a> {
   |      ^^                        ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
   = note: `-D clippy::elidable-lifetime-names` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::elidable_lifetime_names)]`
help: elide the lifetimes
   |
58 - impl<'a> Model for SimpleModel<'a> {
58 + impl Model for SimpleModel<'_> {
   |

error: use Option::map_or_else instead of an if let/else
   --> src/models/simplemodel.rs:100:31
    |
100 |           let second_currency = match fx.second_currency() {
    |  _______________________________^
101 | |             Some(ccy) => ccy,
102 | |             None => {
103 | |                 if self.transform_currencies {
...   |
109 | |         };
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else
help: try
    |
100 ~         let second_currency = fx.second_currency().map_or_else(|| if self.transform_currencies {
101 +                     self.market_store.local_currency()
102 +                 } else {
103 +                     first_currency
104 ~                 }, |ccy| ccy);
    |

error: usage of wildcard import
 --> src/models/traits.rs:1:13
  |
1 | use crate::{core::meta::*, time::date::Date, utils::errors::Result};
  |             ^^^^^^^^^^^^^ help: try: `core::meta::{DiscountFactorRequest, ExchangeRateRequest, ForwardRateRequest, MarketRequest, MarketData}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports
  = note: `-D clippy::wildcard-imports` implied by `-D clippy::pedantic`
  = help: to override `-D clippy::pedantic` add `#[allow(clippy::wildcard_imports)]`

error: used `cloned` where `copied` could be used instead
  --> src/rates/indexstore.rs:74:14
   |
74 |             .cloned()
   |              ^^^^^^ help: try: `copied`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: redundant clone
   --> src/rates/indexstore.rs:117:17
    |
117 |                 .to_string(),
    |                 ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/indexstore.rs:111:17
    |
111 | /                 format!(
112 | |                     "Index ({name:?}) reference date ({reference_date}) does not match index store reference date ({store_reference_date})",
113 | |                     name = index.read_index()?.name(),
114 | |                     reference_date = index.read_index()?.reference_date(),
...   |
117 | |                 .to_string(),
    | |________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: redundant clone
   --> src/rates/indexstore.rs:149:17
    |
149 |                 .to_string(),
    |                 ^^^^^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/indexstore.rs:143:17
    |
143 | /                 format!(
144 | |                     "Index ({name:?}) reference date ({reference_date}) does not match index store reference date ({store_reference_date})",
145 | |                     name = index.read_index()?.name(),
146 | |                     reference_date = index.read_index()?.reference_date(),
...   |
149 | |                 .to_string(),
    | |________________^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: this argument is passed by value, but not consumed in the function body
   --> src/rates/indexstore.rs:183:15
    |
183 |         name: String,
    |               ^^^^^^ help: consider changing the type to: `&str`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:185:28
    |
185 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:213:28
    |
213 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:246:63
    |
246 |     pub fn advance_to_period(&self, period: Period) -> Result<IndexStore> {
    |                                                               ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:248:25
    |
248 |         let mut store = IndexStore::new(reference_date);
    |                         ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:249:28
    |
249 |         for (id, index) in self.index_map.iter() {
    |                            ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.index_map`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/rates/indexstore.rs:254:34
    |
254 |         for (currency, curve) in self.currency_curve.iter() {
    |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&self.currency_curve`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: unnecessary structure name repetition
   --> src/rates/indexstore.rs:265:57
    |
265 |     pub fn advance_to_date(&self, date: Date) -> Result<IndexStore> {
    |                                                         ^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/indexstore.rs:266:20
    |
266 |         let days = (date - self.reference_date) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
    = note: `-D clippy::cast-possible-truncation` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_possible_truncation)]`
help: ... or use `try_from` and handle the error accordingly
    |
266 -         let days = (date - self.reference_date) as i32;
266 +         let days = i32::try_from(date - self.reference_date);
    |

error: docs for function returning `Result` missing `# Errors` section
   --> src/rates/indexstore.rs:271:5
    |
271 |     pub fn swap_index_by_id(&mut self, from: usize, to: usize) -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc
    = note: `-D clippy::missing-errors-doc` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::missing_errors_doc)]`

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:270:9
    |
270 |         assert_eq!(instrument.notional(), 5_000_000.0);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:271:9
    |
271 |         assert_eq!(instrument.spread(), spread);
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:312:17
    |
312 |                 assert_eq!(coupon.spread(), spread);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: docs for function returning `Result` missing `# Errors` section
   --> src/rates/interestrate.rs:144:5
    |
144 | /     pub fn implied_rate(
145 | |         compound: f64,
146 | |         result_dc: DayCounter,
147 | |         comp: Compounding,
148 | |         freq: Frequency,
149 | |         t: f64,
150 | |     ) -> Result<Self> {
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

error: strict comparison of `f32` or `f64`
   --> src/instruments/floatingrateinstrument.rs:322:17
    |
322 |                 assert_eq!(coupon.spread(), new_spread);
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:177:25
    |
177 |                         r = (compound - 1.0) / t
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound - 1.0) / t;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:179:25
    |
179 |                         r = (compound.powf(1.0 / (f * t)) - 1.0) * f
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound.powf(1.0 / (f * t)) - 1.0) * f;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:184:25
    |
184 |                         r = (compound - 1.0) / t
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound - 1.0) / t;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrate.rs:186:25
    |
186 |                         r = (compound.powf(1.0 / (f * t)) - 1.0) * f
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `r = (compound.powf(1.0 / (f * t)) - 1.0) * f;`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:209:36
    |
209 |             Compounding::Simple => 1.0 + rate * year_fraction,
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops
    = note: `-D clippy::suboptimal-flops` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::suboptimal_flops)]`

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:214:21
    |
214 |                     1.0 + rate * year_fraction
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:221:21
    |
221 |                     1.0 + rate * year_fraction
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: item in documentation is missing backticks
  --> src/rates/interestrateindex/iborindex.rs:51:23
   |
51 |     /// Creates a new IborIndex with the given reference date.
   |                       ^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
help: try
   |
51 -     /// Creates a new IborIndex with the given reference date.
51 +     /// Creates a new `IborIndex` with the given reference date.
   |

error: missing `#[must_use]` attribute on a method returning `Self`
   --> src/rates/interestrateindex/iborindex.rs:107:5
    |
107 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
108 | |         self.term_structure = Some(term_structure);
109 | |         self
110 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use
    = note: `-D clippy::return-self-not-must-use` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::return_self_not_must_use)]`

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/iborindex.rs:117:14
    |
117 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: only a `panic!` in `if`-then statement
   --> src/rates/interestrateindex/iborindex.rs:129:9
    |
129 | /         if date > self.reference_date() {
130 | |             panic!("Date must be less than reference date");
131 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
    |
129 -         if date > self.reference_date() {
130 -             panic!("Date must be less than reference date");
131 -         }
129 +         assert!(date <= self.reference_date(), "Date must be less than reference date");
    |

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/iborindex.rs:220:13
    |
220 |             IborIndex::new(new_curve.reference_date())
    |             ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/iborindex.rs:230:20
    |
230 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
230 -         let days = (date - self.reference_date()) as i32;
230 +         let days = i32::try_from(date - self.reference_date());
    |

error: multiply and add expressions can be calculated more efficiently and accurately
  --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:59:5
   |
59 |     (1.0 + rate * year_fraction) * index
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: parameter of type `HashMap` should be generalized over different hashers
  --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:72:20
   |
72 |     fixings_rates: HashMap<Date, f64>,
   |                    ^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#implicit_hasher
help: add a type parameter for `BuildHasher`
   |
71 ~ pub fn compose_fixing_rate<S: ::std::hash::BuildHasher + Default>(
72 ~     fixings_rates: HashMap<Date, f64, S>,
73 |     rate_definition: RateDefinition,
...
77 |
78 ~     let mut fixing_index = HashMap::default();
   |

error: assigning the result of `Clone::clone()` may be inefficient
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:132:9
    |
132 |         self.fixings_rates = fixings_rates.clone();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use `clone_from()`: `self.fixings_rates.clone_from(&fixings_rates)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#assigning_clones

error: missing `#[must_use]` attribute on a method returning `Self`
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:145:5
    |
145 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
146 | |         self.overnight_index = self.overnight_index.with_term_structure(term_structure);
147 | |         self
148 | |     }
    | |_____^
    |
    = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:164:14
    |
164 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: consider adding a `;` to the last statement for consistent formatting
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:176:9
    |
176 |         self.overnight_index.add_fixing(date, rate)
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: add a `;` here: `self.overnight_index.add_fixing(date, rate);`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#semicolon_if_nothing_returned

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/overnightcompoundedrateindex.rs:221:20
    |
221 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
221 -         let days = (date - self.reference_date()) as i32;
221 +         let days = i32::try_from(date - self.reference_date());
    |

error: missing `#[must_use]` attribute on a method returning `Self`
  --> src/rates/interestrateindex/overnightindex.rs:81:5
   |
81 | /     pub fn with_term_structure(mut self, term_structure: Arc<dyn YieldTermStructureTrait>) -> Self {
82 | |         self.term_structure = Some(term_structure);
83 | |         self
84 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightindex.rs:111:14
    |
111 |             .cloned()
    |              ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/overnightindex.rs:210:22
    |
210 |                     .cloned()
    |                      ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: unnecessary structure name repetition
   --> src/rates/interestrateindex/overnightindex.rs:242:13
    |
242 |             OvernightIndex::new(new_curve.reference_date())
    |             ^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/interestrateindex/overnightindex.rs:251:20
    |
251 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
251 -         let days = (date - self.reference_date()) as i32;
251 +         let days = i32::try_from(date - self.reference_date());
    |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/rates/interestrateindex/traits.rs:46:27
   |
46 |                 .map(|&d| (d - first_date) as f64)
   |                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/rates/interestrateindex/traits.rs:55:32
   |
55 |                     let days = (current_date - first_date) as f64;
   |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: strict comparison of `f32` or `f64`
   --> src/rates/yieldtermstructure/discounttermstructure.rs:106:12
    |
106 |         if discount_factors[0] != 1.0 {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider comparing them within some margin of error: `(discount_factors[0] - 1.0).abs() > error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
    = note: `-D clippy::float-cmp` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::float_cmp)]`

error: unnecessary structure name repetition
   --> src/rates/yieldtermstructure/discounttermstructure.rs:224:21
    |
224 |         Ok(Arc::new(DiscountTermStructure::new(
    |                     ^^^^^^^^^^^^^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/discounttermstructure.rs:234:20
    |
234 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
234 -         let days = (date - self.reference_date()) as i32;
234 +         let days = i32::try_from(date - self.reference_date());
    |

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/tenorbasedzeroratetermstructure.rs:160:20
    |
160 |         let days = (date - self.reference_date) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
160 -         let days = (date - self.reference_date) as i32;
160 +         let days = i32::try_from(date - self.reference_date);
    |

error: casting `i64` to `i32` may truncate the value
   --> src/rates/yieldtermstructure/zeroratetermstructure.rs:229:20
    |
229 |         let days = (date - self.reference_date()) as i32;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: if this is intentional allow the lint with `#[allow(clippy::cast_possible_truncation)]` ...
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_truncation
help: ... or use `try_from` and handle the error accordingly
    |
229 -         let days = (date - self.reference_date()) as i32;
229 +         let days = i32::try_from(date - self.reference_date());
    |

error: unnecessary structure name repetition
  --> src/time/calendar.rs:60:63
   |
60 |     fn deserialize<D>(deserializer: D) -> std::result::Result<Calendar, D::Error>
   |                                                               ^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
   --> src/time/calendars/brazil.rs:113:17
    |
113 |           let w = NaiveDate::from_ymd_opt(year, month, day)
    |  _________________^
114 | |             .expect("valid date for last business day calculation")
    | |___________________________________________________________________^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used
    = note: requested on the command line with `-D clippy::expect-used`

error: unnecessary structure name repetition
   --> src/time/calendars/brazil.rs:235:9
    |
235 |         Brazil::new(Market::Settlement)
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
  --> src/time/calendars/chile.rs:42:17
   |
42 |           let w = NaiveDate::from_ymd_opt(year, month, day)
   |  _________________^
43 | |             .expect("valid date for New Year's Day rules")
   | |__________________________________________________________^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: used `expect()` on an `Option` value
  --> src/time/calendars/chile.rs:73:17
   |
73 |           let w = NaiveDate::from_ymd_opt(2001, month, day)
   |  _________________^
74 | |             .expect("valid date for Saint Peter and Saint Paul day rules")
   | |__________________________________________________________________________^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: used `expect()` on an `Option` value
  --> src/time/calendars/chile.rs:89:17
   |
89 |           let w = NaiveDate::from_ymd_opt(1810, month, day)
   |  _________________^
90 | |             .expect("valid date for Independence Day rules")
   | |____________________________________________________________^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: used `expect()` on an `Option` value
   --> src/time/calendars/chile.rs:99:17
    |
 99 |           let w = NaiveDate::from_ymd_opt(1810, month, day)
    |  _________________^
100 | |             .expect("valid date for Army Day rules")
    | |____________________________________________________^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: used `expect()` on an `Option` value
   --> src/time/calendars/chile.rs:106:17
    |
106 |           let w = NaiveDate::from_ymd_opt(1492, month, day)
    |  _________________^
107 | |             .expect("valid date for Discovery of Two Worlds rules")
    | |___________________________________________________________________^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: used `expect()` on an `Option` value
   --> src/time/calendars/chile.rs:113:17
    |
113 |           let w = NaiveDate::from_ymd_opt(year, month, day)
    |  _________________^
114 | |             .expect("valid date for Reformation Day rules")
    | |___________________________________________________________^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
   --> src/time/calendars/chile.rs:238:9
    |
238 |         Chile::new(Market::SSE)
    |         ^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `i32` to `usize` may lose the sign of the value
  --> src/time/calendars/traits.rs:52:19
   |
52 |     easter_monday[(y - 1901) as usize]
   |                   ^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss
   = note: `-D clippy::cast-sign-loss` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_sign_loss)]`

error: boolean to int conversion using if
   --> src/time/calendars/traits.rs:141:16
    |
141 |           } else if include_first && include_last && self.is_business_day(&from) {
    |  ________________^
142 | |             1
143 | |         } else {
144 | |             0
145 | |         }
    | |_________^ help: replace with from: `{ i64::from(include_first && include_last && self.is_business_day(&from)) }`
    |
    = note: `(include_first && include_last && self.is_business_day(&from)) as i64` or `(include_first && include_last && self.is_business_day(&from)).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if
    = note: `-D clippy::bool-to-int-with-if` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::bool_to_int_with_if)]`

error: use Option::map_or instead of an if let/else
   --> src/time/calendars/traits.rs:152:20
    |
152 |           let conv = match convention {
    |  ____________________^
153 | |             Some(convention) => convention,
154 | |             None => BusinessDayConvention::Following,
155 | |         };
    | |_________^ help: try: `convention.map_or(BusinessDayConvention::Following, |convention| convention)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error: this pattern matching can be expressed using equality
   --> src/time/calendars/traits.rs:172:24
    |
172 |                     if let BusinessDayConvention::HalfMonthModifiedFollowing = conv {
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `conv == BusinessDayConvention::HalfMonthModifiedFollowing`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#equatable_if_let
    = note: `-D clippy::equatable-if-let` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::equatable_if_let)]`

error: this pattern matching can be expressed using equality
   --> src/time/calendars/traits.rs:183:20
    |
183 |                 if let BusinessDayConvention::ModifiedPreceding = conv {
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `conv == BusinessDayConvention::ModifiedPreceding`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#equatable_if_let

error: boolean to int conversion using if
   --> src/time/calendars/traits.rs:212:23
    |
212 |           let mut res = if include_last && self.is_business_day(&to) {
    |  _______________________^
213 | |             1
214 | |         } else {
215 | |             0
216 | |         };
    | |_________^ help: replace with from: `i64::from(include_last && self.is_business_day(&to))`
    |
    = note: `(include_last && self.is_business_day(&to)) as i64` or `(include_last && self.is_business_day(&to)).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if

error: usage of wildcard import
 --> src/time/date.rs:1:5
  |
1 | use super::enums::*;
  |     ^^^^^^^^^^^^^^^ help: try: `super::enums::{TimeUnit, Weekday}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: used `expect()` on an `Option` value
  --> src/time/date.rs:68:20
   |
68 |               day += NaiveDate::from_ymd_opt(self.year(), m, 1)
   |  ____________________^
69 | |                 .expect("valid date for month start")
   | |_____________________________________________________^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
  --> src/time/date.rs:68:20
   |
68 |             day += NaiveDate::from_ymd_opt(self.year(), m, 1)
   |                    ^^^^^^^^^ help: use the applicable keyword: `Self`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casting `u32` to `i32` may wrap around the value
  --> src/time/date.rs:72:15
   |
72 |         day + self.day() as i32
   |               ^^^^^^^^^^^^^^^^^ help: if this is intentional, use `cast_signed()` instead: `self.day().cast_signed()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap
   = note: `-D clippy::cast-possible-wrap` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_possible_wrap)]`

error: used `expect()` on an `Option` value
  --> src/time/date.rs:84:38
   |
84 |             TimeUnit::Days => date + Duration::try_days(i64::from(n)).expect("valid day count"),
   |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: used `expect()` on an `Option` value
  --> src/time/date.rs:86:24
   |
86 |                 date + Duration::try_days(i64::from(7 * n)).expect("valid day count")
   |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: if this value is `None`, it will panic
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:90:40
   |
90 |                     date + Months::new(n as u32)
   |                                        ^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `n.cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:92:40
   |
92 |                     date - Months::new((-n) as u32)
   |                                        ^^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `(-n).cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:97:45
   |
97 |                     date + Months::new(12 * n as u32)
   |                                             ^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `n.cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: casting `i32` to `u32` may lose the sign of the value
  --> src/time/date.rs:99:40
   |
99 |                     date - Months::new((-12 * n) as u32)
   |                                        ^^^^^^^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `(-12 * n).cast_unsigned()`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: used `expect()` on an `Option` value
   --> src/time/date.rs:109:13
    |
109 |             NaiveDate::from_ymd_opt(year, month, 1).expect("valid date for month start");
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
   --> src/time/date.rs:109:13
    |
109 |             NaiveDate::from_ymd_opt(year, month, 1).expect("valid date for month start");
    |             ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
   --> src/time/date.rs:111:25
    |
111 |         end_of_month -= Duration::try_days(1).expect("valid day count");
    |                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
   --> src/time/date.rs:128:19
    |
128 |     type Output = NaiveDate;
    |                   ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:148:19
    |
148 |     type Output = NaiveDate;
    |                   ^^^^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:188:63
    |
188 |     fn deserialize<D>(deserializer: D) -> std::result::Result<Date, D::Error>
    |                                                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:200:52
    |
200 |     pub fn new(year: i32, month: u32, day: u32) -> Date {
    |                                                    ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: use Option::map_or_else instead of an if let/else
   --> src/time/date.rs:202:9
    |
202 | /         match base_date {
203 | |             Some(base_date) => Self::from(base_date),
204 | |             None => panic!("Invalid date: {year}-{month}-{day}"),
205 | |         }
    | |_________^ help: try: `base_date.map_or_else(|| panic!("Invalid date: {year}-{month}-{day}"), |base_date| Self::from(base_date))`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#option_if_let_else

error: unnecessary structure name repetition
   --> src/time/date.rs:213:54
    |
213 |     pub fn from_str(date: &str, fmt: &str) -> Result<Date> {
    |                                                      ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:274:55
    |
274 |     pub fn advance(&self, n: i32, units: TimeUnit) -> Date {
    |                                                       ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:281:49
    |
281 |     pub fn add_period(&self, period: Period) -> Date {
    |                                                 ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:288:31
    |
288 |     pub fn end_of_month(date: Date) -> Date {
    |                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:288:40
    |
288 |     pub fn end_of_month(date: Date) -> Date {
    |                                        ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:295:80
    |
295 |     pub fn nth_weekday(n: i32, day_of_week: Weekday, month: u32, year: i32) -> Date {
    |                                                                                ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: boolean to int conversion using if
   --> src/time/date.rs:298:24
    |
298 |         let skip = n - if day_of_week >= first { 1 } else { 0 };
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace with from: `i32::from(day_of_week >= first)`
    |
    = note: `(day_of_week >= first) as i32` or `(day_of_week >= first).into()` can also be valid options
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#bool_to_int_with_if

error: used `expect()` on an `Option` value
   --> src/time/date.rs:300:25
    |
300 |           let base_date = NaiveDate::from_ymd_opt(year, month, day as u32)
    |  _________________________^
301 | |             .expect("valid date for nth weekday");
    | |_________________________________________________^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: casting `i32` to `u32` may lose the sign of the value
   --> src/time/date.rs:300:62
    |
300 |         let base_date = NaiveDate::from_ymd_opt(year, month, day as u32)
    |                                                              ^^^^^^^^^^ help: if this is intentional, use `cast_unsigned()` instead: `day.cast_unsigned()`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_sign_loss

error: unnecessary structure name repetition
   --> src/time/date.rs:307:31
    |
307 |     pub fn next_weekday(date: Date, weekday: Weekday) -> Date {
    |                               ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:307:58
    |
307 |     pub fn next_weekday(date: Date, weekday: Weekday) -> Date {
    |                                                          ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: casts from `i32` to `i64` can be expressed infallibly using `From`
   --> src/time/date.rs:309:16
    |
309 |         date + ((if wd > weekday { 7 } else { 0 }) - wd + weekday) as i64
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
    = note: `-D clippy::cast-lossless` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::cast_lossless)]`
help: use `i64::from` instead
    |
309 -         date + ((if wd > weekday { 7 } else { 0 }) - wd + weekday) as i64
309 +         date + i64::from((if wd > weekday { 7 } else { 0 }) - wd + weekday)
    |

error: unnecessary structure name repetition
   --> src/time/date.rs:328:23
    |
328 |     pub fn empty() -> Date {
    |                       ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:363:19
    |
363 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:367:9
    |
367 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:381:19
    |
381 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:385:9
    |
385 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/date.rs:398:19
    |
398 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
   --> src/time/date.rs:402:30
    |
402 |             self.base_date + Duration::try_days(rhs).expect("valid day count");
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
   --> src/time/date.rs:403:9
    |
403 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
   --> src/time/date.rs:420:15
    |
420 |             + Duration::try_days(rhs).expect("valid day count");
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
   --> src/time/date.rs:433:19
    |
433 |     type Output = Date;
    |                   ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
   --> src/time/date.rs:437:30
    |
437 |             self.base_date - Duration::try_days(rhs).expect("valid day count");
    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: unnecessary structure name repetition
   --> src/time/date.rs:438:9
    |
438 |         Date::from(base_date)
    |         ^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: used `expect()` on an `Option` value
   --> src/time/date.rs:455:15
    |
455 |             - Duration::try_days(rhs).expect("valid day count");
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#expect_used

error: usage of wildcard import
 --> src/time/daycounter.rs:5:31
  |
5 |     business252::Business252, thirty360::*, traits::DayCountProvider,
  |                               ^^^^^^^^^^^^ help: try: `thirty360::{Thirty360, Thirty360US}`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actual360.rs:28:9
   |
28 |         Self::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actual365.rs:28:9
   |
28 |         Self::day_count(start, end) as f64 / 365.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/instruments/makefixedrateinstrument.rs:491:39
    |
491 |                 for (date, amount) in disbursements.iter() {
    |                                       ^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&disbursements`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: `if` chain can be rewritten with `match`
  --> src/time/daycounters/actualactual.rs:42:9
   |
42 | /         if y1 == y2 {
43 | |             days as f64 / days_in_year(y1) as f64
44 | |         } else if y2 > y1 {
45 | |             let mut sum = 0.0;
...  |
60 | |             sum
61 | |         }
   | |_________^ help: consider rewriting the `if` chain with `match`: `match y1.cmp(&y2) {...}`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#comparison_chain
   = note: `-D clippy::comparison-chain` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::comparison_chain)]`

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:43:13
   |
43 |             days as f64 / days_in_year(y1) as f64
   |             ^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:43:27
   |
43 |             days as f64 / days_in_year(y1) as f64
   |                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
43 -             days as f64 / days_in_year(y1) as f64
43 +             days as f64 / f64::from(days_in_year(y1))
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:46:20
   |
46 |             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:46:63
   |
46 |             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
   |                                                               ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
46 -             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / days_in_year(y1) as f64;
46 +             sum += (Date::new(y1 + 1, 1, 1) - start) as f64 / f64::from(days_in_year(y1));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:50:20
   |
50 |             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:50:57
   |
50 |             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
   |                                                         ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
50 -             sum += (end - Date::new(y2, 1, 1)) as f64 / days_in_year(y2) as f64;
50 +             sum += (end - Date::new(y2, 1, 1)) as f64 / f64::from(days_in_year(y2));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:55:20
   |
55 |             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:55:61
   |
55 |             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
   |                                                             ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
55 -             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / days_in_year(y2) as f64;
55 +             sum -= (Date::new(y2 + 1, 1, 1) - end) as f64 / f64::from(days_in_year(y2));
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/actualactual.rs:59:20
   |
59 |             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `i32` to `f64` can be expressed infallibly using `From`
  --> src/time/daycounters/actualactual.rs:59:59
   |
59 |             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
   |                                                           ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
   |
59 -             sum -= (start - Date::new(y1, 1, 1)) as f64 / days_in_year(y1) as f64;
59 +             sum -= (start - Date::new(y1, 1, 1)) as f64 / f64::from(days_in_year(y1));
   |

error: casting `usize` to `i64` may wrap around the value on targets with 64-bit wide pointers
  --> src/time/daycounters/business252.rs:28:14
   |
28 |             -(calendar.business_day_list(start, end).len() as i64)
   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap

error: casting `usize` to `i64` may wrap around the value on targets with 64-bit wide pointers
  --> src/time/daycounters/business252.rs:30:13
   |
30 |             calendar.business_day_list(start, end).len() as i64
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_possible_wrap

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/business252.rs:35:9
   |
35 |         Self::day_count(start, end) as f64 / 252.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:22:18
   |
22 |         let d1 = start.day() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
22 -         let d1 = start.day() as i64;
22 +         let d1 = i64::from(start.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:23:18
   |
23 |         let d2 = end.day() as i64;
   |                  ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
23 -         let d2 = end.day() as i64;
23 +         let d2 = i64::from(end.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:24:18
   |
24 |         let m1 = start.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
24 -         let m1 = start.month() as i64;
24 +         let m1 = i64::from(start.month());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:25:18
   |
25 |         let m2 = end.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
25 -         let m2 = end.month() as i64;
25 +         let m2 = i64::from(end.month());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:26:18
   |
26 |         let y1 = start.year() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
26 -         let y1 = start.year() as i64;
26 +         let y1 = i64::from(start.year());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:27:18
   |
27 |         let y2 = end.year() as i64;
   |                  ^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
27 -         let y2 = end.year() as i64;
27 +         let y2 = i64::from(end.year());
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/thirty360.rs:36:9
   |
36 |         Self::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:69:18
   |
69 |         let d1 = start.day() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
69 -         let d1 = start.day() as i64;
69 +         let d1 = i64::from(start.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:70:18
   |
70 |         let d2 = end.day() as i64;
   |                  ^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
70 -         let d2 = end.day() as i64;
70 +         let d2 = i64::from(end.day());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:71:18
   |
71 |         let m1 = start.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
71 -         let m1 = start.month() as i64;
71 +         let m1 = i64::from(start.month());
   |

error: casts from `u32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:72:18
   |
72 |         let m2 = end.month() as i64;
   |                  ^^^^^^^^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
72 -         let m2 = end.month() as i64;
72 +         let m2 = i64::from(end.month());
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:90:16
   |
90 |         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |                ^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
90 -         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
90 +         360 * (i64::from(y2) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |

error: casts from `i32` to `i64` can be expressed infallibly using `From`
  --> src/time/daycounters/thirty360.rs:90:30
   |
90 |         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
   |                              ^^^^^^^^^^^
   |
   = help: an `as` cast can become silently lossy if the types change in the future
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `i64::from` instead
   |
90 -         360 * ((y2 as i64) - (y1 as i64)) + 30 * (m2 - m1) + (dd2 - dd1)
90 +         360 * ((y2 as i64) - i64::from(y1)) + 30 * (m2 - m1) + (dd2 - dd1)
   |

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
  --> src/time/daycounters/thirty360.rs:94:9
   |
94 |         Self::day_count(start, end) as f64 / 360.0
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1103:9
     |
1103 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1134:9
     |
1134 |         assert_eq!(instrument.notional(), notional);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: needless use of `for_each`
    --> src/instruments/makefixedrateinstrument.rs:1178:9
     |
1178 |         payments.values().for_each(|x| assert_eq!(first, x));
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `for x in payments.values() { assert_eq!(first, x); }`
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
     = note: `-D clippy::needless-for-each` implied by `-D clippy::pedantic`
     = help: to override `-D clippy::pedantic` add `#[allow(clippy::needless_for_each)]`

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1178:40
     |
1178 |         payments.values().for_each(|x| assert_eq!(first, x));
     |                                        ^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1209:9
     |
1209 |         assert_eq!(instrument.notional(), notional);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1239:9
     |
1239 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1269:9
     |
1269 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1298:9
     |
1298 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1327:9
     |
1327 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1369:9
     |
1369 |         assert_eq!(instrument.notional(), 100.0);
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1400:9
     |
1400 |         assert_eq!(instrument2.notional(), instrument.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1437:9
     |
1437 |         assert_eq!(instrument2.notional(), instrument1.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: strict comparison of `f32` or `f64`
    --> src/instruments/makefixedrateinstrument.rs:1468:9
     |
1468 |         assert_eq!(instrument2.notional(), instrument.notional());
     |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
     |
     = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp
     = note: this error originates in the macro `assert_eq` (in Nightly builds, run with -Z macro-backtrace for more info)

error: unnecessary structure name repetition
   --> src/time/enums.rs:445:19
    |
445 |     type Output = i32;
    |                   ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:453:19
    |
453 |     type Output = i32;
    |                   ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: unnecessary structure name repetition
   --> src/time/enums.rs:456:25
    |
456 |         self + -(rhs as i32)
    |                         ^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: usage of wildcard import
 --> src/time/imm.rs:2:5
  |
2 | use super::enums::*;
  |     ^^^^^^^^^^^^^^^ help: try: `super::enums::Weekday`
  |
  = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#wildcard_imports

error: this argument is passed by value, but not consumed in the function body
  --> src/time/imm.rs:33:29
   |
33 |     pub fn is_imm_code(in_: String, main_cycle: bool) -> bool {
   |                             ^^^^^^ help: consider changing the type to: `&str`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: only a `panic!` in `if`-then statement
  --> src/time/imm.rs:60:9
   |
60 | /         if !Self::is_imm_date(imm_date, false) {
61 | |             panic!("{imm_date} is not an IMM date");
62 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
60 -         if !Self::is_imm_date(imm_date, false) {
61 -             panic!("{imm_date} is not an IMM date");
62 -         }
60 +         assert!(Self::is_imm_date(imm_date, false), "{imm_date} is not an IMM date");
   |

error: this argument is passed by value, but not consumed in the function body
  --> src/time/imm.rs:90:27
   |
90 |     pub fn date(imm_code: String, reference_date: Date) -> Date {
   |                           ^^^^^^ help: consider changing the type to: `&str`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_pass_by_value

error: only a `panic!` in `if`-then statement
  --> src/time/imm.rs:91:9
   |
91 | /         if reference_date == Date::empty() {
92 | |             panic!("No reference date provided");
93 | |         }
   | |_________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
   |
91 -         if reference_date == Date::empty() {
92 -             panic!("No reference date provided");
93 -         }
91 +         assert!(reference_date != Date::empty(), "No reference date provided");
   |

error: only a `panic!` in `if`-then statement
   --> src/time/imm.rs:139:9
    |
139 | /         if reference_date == Date::empty() {
140 | |             panic!("No reference date provided");
141 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#manual_assert
help: replace `if`-then-`panic!` with `assert!`
    |
139 -         if reference_date == Date::empty() {
140 -             panic!("No reference date provided");
141 -         }
139 +         assert!(reference_date != Date::empty(), "No reference date provided");
    |

error: needless use of `for_each`
   --> src/instruments/makefixedrateleg.rs:449:21
    |
449 | /                     cashflows
450 | |                         .iter_mut()
451 | |                         .for_each(|cf| cf.set_discount_curve_id(id));
    | |_____________________________________________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#needless_for_each
help: try
    |
449 ~                     for cf in cashflows
450 +                         .iter_mut() { cf.set_discount_curve_id(id); }
    |

error: method `from_str` can be confused for the standard trait method `std::str::FromStr::from_str`
   --> src/time/period.rs:257:5
    |
257 | /     pub fn from_str(tenor: &str) -> Result<Self> {
258 | |         // parse multiple periods and add them
259 | |         let chars = tenor.chars();
260 | |         let mut periods = Vec::new();
...   |
275 | |         Ok(result)
276 | |     }
    | |_____^
    |
    = help: consider implementing the trait `std::str::FromStr` or choosing a less ambiguous method name
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#should_implement_trait
    = note: `-D clippy::should-implement-trait` implied by `-D warnings`
    = help: to override `-D warnings` add `#[allow(clippy::should_implement_trait)]`

error: all if blocks contain the same code at the start
   --> src/time/period.rs:263:13
    |
263 | /             if c.is_numeric() {
264 | |                 current_period.push(c);
    | |_______________________________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#branches_sharing_code
    = note: `-D clippy::branches-sharing-code` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::branches_sharing_code)]`
help: consider moving these statements before the if
    |
263 ~             current_period.push(c);
264 +             if c.is_numeric() {
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:318:32
    |
318 |             TimeUnit::Years => self.length as f64,
    |                                ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
318 -             TimeUnit::Years => self.length as f64,
318 +             TimeUnit::Years => f64::from(self.length),
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:319:33
    |
319 |             TimeUnit::Months => self.length as f64 / 12.0,
    |                                 ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
319 -             TimeUnit::Months => self.length as f64 / 12.0,
319 +             TimeUnit::Months => f64::from(self.length) / 12.0,
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:320:32
    |
320 |             TimeUnit::Weeks => self.length as f64 / 52.0,
    |                                ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
320 -             TimeUnit::Weeks => self.length as f64 / 52.0,
320 +             TimeUnit::Weeks => f64::from(self.length) / 52.0,
    |

error: casts from `i32` to `f64` can be expressed infallibly using `From`
   --> src/time/period.rs:321:31
    |
321 |             TimeUnit::Days => self.length as f64 / 365.0,
    |                               ^^^^^^^^^^^^^^^^^^
    |
    = help: an `as` cast can become silently lossy if the types change in the future
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_lossless
help: use `f64::from` instead
    |
321 -             TimeUnit::Days => self.length as f64 / 365.0,
321 +             TimeUnit::Days => f64::from(self.length) / 365.0,
    |

error: the following explicit lifetimes could be elided: 'de
   --> src/time/period.rs:353:14
    |
353 |         impl<'de> Visitor<'de> for PeriodVisitor {
    |              ^^^          ^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
    |
353 -         impl<'de> Visitor<'de> for PeriodVisitor {
353 +         impl Visitor<'_> for PeriodVisitor {
    |

error: unnecessary structure name repetition
   --> src/time/period.rs:461:9
    |
461 |         Period {
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:501:21
    |
501 |                     _ => {
    |                     ^ help: try: `TimeUnit::Years`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:519:21
    |
519 |                     _ => {
    |                     ^ help: try: `TimeUnit::Months`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:538:21
    |
538 |                     _ => {
    |                     ^ help: try: `TimeUnit::Weeks`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/period.rs:556:21
    |
556 |                     _ => {
    |                     ^ help: try: `TimeUnit::Days`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: unnecessary structure name repetition
   --> src/time/period.rs:604:9
    |
604 |         Period {
    |         ^^^^^^ help: use the applicable keyword: `Self`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#use_self

error: this function has too many arguments (10/7)
   --> src/time/schedule.rs:92:5
    |
 92 | /     pub fn new(
 93 | |         tenor: Period,
 94 | |         calendar: Calendar,
 95 | |         convention: BusinessDayConvention,
...   |
102 | |         is_regular: Vec<bool>,
103 | |     ) -> Self {
    | |_____________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments

error: this function has too many lines (348/100)
   --> src/time/schedule.rs:348:5
    |
348 |     pub fn build(&mut self) -> Result<Schedule> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/schedule.rs:387:17
    |
387 |                 _ => {
    |                 ^ help: try: `DateGenerationRule::ThirdWednesdayInclusive`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: wildcard matches only a single variant and will also match any future added variants
   --> src/time/schedule.rs:421:17
    |
421 |                 _ => {
    |                 ^ help: try: `DateGenerationRule::ThirdWednesdayInclusive`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#match_wildcard_for_single_variants

error: `if _ { .. } else { .. }` is an expression
   --> src/time/schedule.rs:458:17
    |
458 | /                 let mut exit_date = self.effective_date;
459 | |                 if self.first_date != Date::empty() {
460 | |                     exit_date = self.first_date;
461 | |                 }
    | |_________________^ help: it is more idiomatic to write: `let <mut> exit_date = if self.first_date != Date::empty() { self.first_date } else { self.effective_date };`
    |
    = note: you might not need `mut` at all
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_let_if_seq
    = note: `-D clippy::useless-let-if-seq` implied by `-D clippy::nursery`
    = help: to override `-D clippy::nursery` add `#[allow(clippy::useless_let_if_seq)]`

error: unnecessary `!=` operation
   --> src/time/schedule.rs:450:21
    |
450 | /                     if temp != self.next_to_last_date {
451 | |                         self.is_regular.insert(0, false);
452 | |                     } else {
453 | |                         self.is_regular.insert(0, true);
454 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#if_not_else
    = note: `-D clippy::if-not-else` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::if_not_else)]`
help: try
    |
450 ~                     if temp == self.next_to_last_date {
451 +                         self.is_regular.insert(0, true);
452 +                     } else {
453 +                         self.is_regular.insert(0, false);
454 +                     }
    |

error: `if _ { .. } else { .. }` is an expression
   --> src/time/schedule.rs:578:17
    |
578 | /                 let mut exit_date = self.termination_date;
579 | |
580 | |                 if self.next_to_last_date != Date::empty() {
581 | |                     exit_date = self.next_to_last_date;
582 | |                 }
    | |_________________^ help: it is more idiomatic to write: `let <mut> exit_date = if self.next_to_last_date != Date::empty() { self.next_to_last_date } else { self.termination_date };`
    |
    = note: you might not need `mut` at all
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#useless_let_if_seq

error: unnecessary `!=` operation
   --> src/time/schedule.rs:547:21
    |
547 | /                     if temp != self.first_date {
548 | |                         self.is_regular.push(false);
549 | |                     } else {
550 | |                         self.is_regular.push(true);
551 | |                     }
    | |_____________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#if_not_else
help: try
    |
547 ~                     if temp == self.first_date {
548 +                         self.is_regular.push(true);
549 +                     } else {
550 +                         self.is_regular.push(false);
551 +                     }
    |

error: it is more concise to loop over references to containers instead of using explicit iteration methods
   --> src/time/schedule.rs:662:25
    |
662 |             for date in self.dates.iter_mut() {
    |                         ^^^^^^^^^^^^^^^^^^^^^ help: to write this more concisely, try: `&mut self.dates`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#explicit_iter_loop

error: docs for function returning `Result` missing `# Errors` section
  --> src/visitors/accruedamountconstvisitor.rs:29:5
   |
29 |     pub fn new(evaluation_date: Date, horizon: Period) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

error: this function has a `#[must_use]` attribute with no message, but returns a type already marked as `#[must_use]`
  --> src/visitors/accruedamountconstvisitor.rs:29:5
   |
29 |     pub fn new(evaluation_date: Date, horizon: Period) -> Result<Self> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: either add some descriptive message or remove the attribute
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#double_must_use
   = note: `-D clippy::double-must-use` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::double_must_use)]`

error: missing `#[must_use]` attribute on a method returning `Self`
  --> src/visitors/accruedamountconstvisitor.rs:42:5
   |
42 | /     pub const fn with_validate_currency(mut self, currency: Currency) -> Self {
43 | |         self.validation_currency = Some(currency);
44 | |         self
45 | |     }
   | |_____^
   |
   = help: consider adding the `#[must_use]` attribute to the method or directly to the `Self` type
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#return_self_not_must_use

error: docs for function returning `Result` missing `# Errors` section
  --> src/visitors/accruedamountconstvisitor.rs:48:5
   |
48 |     pub fn accrued_amounts(&self) -> Result<BTreeMap<Date, f64>> {
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#missing_errors_doc

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:56:26
   |
56 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls
   = note: `-D clippy::redundant-closure-for-method-calls` implied by `-D clippy::pedantic`
   = help: to override `-D clippy::pedantic` add `#[allow(clippy::redundant_closure_for_method_calls)]`

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:54:9
   |
54 | /         self.redemptions
55 | |             .lock()
56 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
   = note: `-D clippy::unnecessary-result-map-or-else` implied by `-D warnings`
   = help: to override `-D warnings` add `#[allow(clippy::unnecessary_result_map_or_else)]`
help: consider using `unwrap_or_else`
   |
54 ~         self.redemptions
55 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:64:26
   |
64 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:62:9
   |
62 | /         self.disbursements
63 | |             .lock()
64 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
help: consider using `unwrap_or_else`
   |
62 ~         self.disbursements
63 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: redundant closure
  --> src/visitors/cashflowaggregationvisitor.rs:72:26
   |
72 |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   |                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: replace the closure with the method itself: `std::sync::PoisonError::into_inner`
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_closure_for_method_calls

error: unused "map closure" when calling `Result::map_or_else` value
  --> src/visitors/cashflowaggregationvisitor.rs:70:9
   |
70 | /         self.interest
71 | |             .lock()
72 | |             .map_or_else(|poison| poison.into_inner(), |guard| guard)
   | |_____________________________________________________________________^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_result_map_or_else
help: consider using `unwrap_or_else`
   |
70 ~         self.interest
71 +             .lock().unwrap_or_else(|poison| poison.into_inner())
   |

error: this function has too many lines (159/100)
   --> src/visitors/cashflowcompressorconstvisitor.rs:191:5
    |
191 |     fn visit(&self, visitable: &T) -> Self::Output {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/durationconstvisitor.rs:33:6
   |
33 | impl<'a, T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'a> {
   |      ^^                                                          ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
33 - impl<'a, T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'a> {
33 + impl<T: HasCashflows> ConstVisit<T> for DurationConstVisitor<'_> {
   |

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/npvconstvisitor.rs:37:6
   |
37 | impl<'a, T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'a> {
   |      ^^                                                     ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
37 - impl<'a, T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'a> {
37 + impl<T: HasCashflows> ConstVisit<T> for NPVConstVisitor<'_> {
   |

error: used `cloned` where `copied` could be used instead
   --> src/visitors/parvaluevisitordoublerateinstrument.rs:123:18
    |
123 |                 .cloned()
    |                  ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/zspreadconstvisitor.rs:52:6
   |
52 | impl<'a, T> SpreadedNPV<'a, T>
   |      ^^                 ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
52 - impl<'a, T> SpreadedNPV<'a, T>
52 + impl<T> SpreadedNPV<'_, T>
   |

error: the following explicit lifetimes could be elided: 'a
  --> src/visitors/zspreadconstvisitor.rs:96:6
   |
96 | impl<'a, T> CostFunction for SpreadedNPV<'a, T>
   |      ^^                                  ^^
   |
   = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
   |
96 - impl<'a, T> CostFunction for SpreadedNPV<'a, T>
96 + impl<T> CostFunction for SpreadedNPV<'_, T>
   |

error: you seem to be trying to use `match` for destructuring a single pattern. Consider using `if let`
   --> src/visitors/zspreadconstvisitor.rs:109:17
    |
109 | /                 match cf {
110 | |                     Cashflow::Disbursement(_) => Ok(acc),
111 | |                     _ => {
112 | |                         let cf_npv = self.cashflow_npv(cf, *param)?;
...   |
115 | |                 }
    | |_________________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#single_match_else
help: try
    |
109 ~                 if let Cashflow::Disbursement(_) = cf { Ok(acc) } else {
110 +                     let cf_npv = self.cashflow_npv(cf, *param)?;
111 +                     Ok(acc + cf_npv)
112 +                 }
    |

error: the following explicit lifetimes could be elided: 'a
   --> src/visitors/zspreadconstvisitor.rs:121:6
    |
121 | impl<'a, T> ConstVisit<T> for ZSpreadConstVisitor<'a>
    |      ^^                                           ^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#elidable_lifetime_names
help: elide the lifetimes
    |
121 - impl<'a, T> ConstVisit<T> for ZSpreadConstVisitor<'a>
121 + impl<T> ConstVisit<T> for ZSpreadConstVisitor<'_>
    |

error: could not compile `rustatlas` (lib) due to 320 previous errors
warning: build failed, waiting for other jobs to finish...
error: multiply and add expressions can be calculated more efficiently and accurately
   --> src/rates/interestrate.rs:209:36
    |
209 |             Compounding::Simple => 1.0 + rate * year_fraction,
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider using: `rate.mul_add(year_fraction, 1.0)`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#suboptimal_flops

error: this function has too many lines (303/100)
   --> src/rates/interestrate.rs:269:5
    |
269 |     fn test_cases() -> Vec<InterestRateData> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines

error: casting `i64` to `f64` may cause a loss of precision (`i64` is 64 bits wide, but `f64`'s mantissa is only 52 bits wide)
   --> src/rates/interestrate.rs:598:23
    |
598 |                     < (test_case.precision as f64) / 100.0
    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cast_precision_loss

error: this function's return value is unnecessary
   --> src/rates/interestrateindex/iborindex.rs:279:5
    |
279 |     fn test_fixing_interpolation_ibor() -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove the return type...
    |
279 -     fn test_fixing_interpolation_ibor() -> Result<()> {
279 +     fn test_fixing_interpolation_ibor() -> () {
    |
help: ...and then remove returned values
    |
300 -         Ok(())
    |

error: used `cloned` where `copied` could be used instead
   --> src/rates/interestrateindex/iborindex.rs:287:10
    |
287 |         .cloned()
    |          ^^^^^^ help: try: `copied`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#cloned_instead_of_copied

error: redundant clone
   --> src/rates/interestrateindex/iborindex.rs:330:34
    |
330 |             spread_term_structure.clone(),
    |                                  ^^^^^^^^ help: remove this
    |
note: this value is dropped without further use
   --> src/rates/interestrateindex/iborindex.rs:330:13
    |
330 |             spread_term_structure.clone(),
    |             ^^^^^^^^^^^^^^^^^^^^^
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#redundant_clone

error: strict comparison of `f32` or `f64`
   --> src/rates/yieldtermstructure/discounttermstructure.rs:106:12
    |
106 |         if discount_factors[0] != 1.0 {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: consider comparing them within some margin of error: `(discount_factors[0] - 1.0).abs() > error_margin`
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#float_cmp

error: adding items after statements is confusing, since items exist from the start of the scope
   --> src/visitors/durationconstvisitor.rs:217:9
    |
217 | /         fn duration(instruments: &mut [FixedRateInstrument]) -> f64 {
218 | |             let store = create_store()
219 | |                 .unwrap_or_else(|e| panic!("market store creation should succeed: {e}"));
220 | |             let mut duration = 0.0;
...   |
239 | |             duration
240 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements
    = note: `-D clippy::items-after-statements` implied by `-D clippy::pedantic`
    = help: to override `-D clippy::pedantic` add `#[allow(clippy::items_after_statements)]`

error: this function's return value is unnecessary
   --> src/visitors/npvconstvisitor.rs:356:5
    |
356 |     fn generator_tests() -> Result<()> {
    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unnecessary_wraps
help: remove the return type...
    |
356 -     fn generator_tests() -> Result<()> {
356 +     fn generator_tests() -> () {
    |
help: ...and then remove returned values
    |
419 -         Ok(())
    |

error: adding items after statements is confusing, since items exist from the start of the scope
   --> src/visitors/npvconstvisitor.rs:390:9
    |
390 | /         fn npv(instruments: &mut [FixedRateInstrument]) -> f64 {
391 | |             let store =
392 | |                 create_store().unwrap_or_else(|e| panic!("market store creation should succeed: {e}"));
393 | |             let mut npv = 0.0;
...   |
412 | |             npv
413 | |         }
    | |_________^
    |
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements

error: could not compile `rustatlas` (lib test) due to 365 previous errors
